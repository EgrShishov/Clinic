Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Now listening on: "https://localhost:7136"
Now listening on: "http://localhost:5062"
Loaded hosting startup assembly "Appointments.API"
Loaded hosting startup assembly "Microsoft.WebTools.ApiEndpointDiscovery"
Loaded hosting startup assembly "Microsoft.AspNetCore.Watch.BrowserRefresh"
Loaded hosting startup assembly "Microsoft.WebTools.BrowserLink.Net"
Connection id ""0HN5IAKHN7VRN"" accepted.
Connection id ""0HN5IAKHN7VRO"" accepted.
Connection id ""0HN5IAKHN7VRN"" started.
Connection id ""0HN5IAKHN7VRO"" started.
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API"
Hosting started
Connection id ""0HN5IAKHN7VRN"" received FIN.
Connection id ""0HN5IAKHN7VRO"" received FIN.
Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
Connection id ""0HN5IAKHN7VRO"" stopped.
Connection id ""0HN5IAKHN7VRN"" stopped.
Connection id ""0HN5IAKHN7VRN"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5IAKHN7VRO"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5IAKHN7VRP"" accepted.
Connection id ""0HN5IAKHN7VRP"" started.
Connection "0HN5IAKHN7VRP" established using the following protocol: Tls13
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger""" - null null
Wildcard detected, all requests with hosts will be allowed.
No candidates found for the request path '"/swagger"'
Request did not match any endpoints
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger""" - 301 0 null 301.4417ms
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/index.html""" - null null
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Response markup is scheduled to include Browser Link script injection.
Response markup is scheduled to include browser refresh script injection.
Response markup was updated to include Browser Link script injection.
Response markup was updated to include browser refresh script injection.
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 145.5431ms
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/swagger-ui.css""" - null null
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/index.css""" - null null
No candidates found for the request path '"/swagger/swagger-ui.css"'
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/swagger-ui-bundle.js""" - null null
No candidates found for the request path '"/swagger/index.css"'
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/swagger-ui-standalone-preset.js""" - null null
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/index.js""" - null null
Request did not match any endpoints
No candidates found for the request path '"/swagger/swagger-ui-bundle.js"'
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/_vs/browserLink""" - null null
Request did not match any endpoints
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/_framework/aspnetcore-browser-refresh.js""" - null null
No candidates found for the request path '"/swagger/swagger-ui-standalone-preset.js"'
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Request did not match any endpoints
Sending file. Request path: '"/index.css"'. Physical path: '"N/A"'
Request did not match any endpoints
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/index.css""" - 200 202 "text/css" 37.8745ms
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 32.8555ms
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 28.4344ms
Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/swagger-ui.css""" - 200 152034 "text/css" 61.2382ms
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/swagger-ui-standalone-preset.js""" - 200 230293 "text/javascript" 54.2107ms
Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/swagger-ui-bundle.js""" - 200 1452753 "text/javascript" 81.6884ms
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 77.3574ms
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/favicon-32x32.png""" - null null
No candidates found for the request path '"/swagger/favicon-32x32.png"'
Request did not match any endpoints
Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/favicon-32x32.png""" - 200 628 "image/png" 15.1629ms
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 246.1129ms
Connection id ""0HN5IAKHN7VRP"" received FIN.
Connection id ""0HN5IAKHN7VRP"" is closing.
The connection queue processing loop for "0HN5IAKHN7VRP" completed.
Connection id ""0HN5IAKHN7VRP"" is closed. The last processed stream ID was 35.
Connection id ""0HN5IAKHN7VRP"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5IAKHN7VRP"" stopped.
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Now listening on: "https://localhost:7136"
Now listening on: "http://localhost:5062"
Loaded hosting startup assembly "Appointments.API"
Loaded hosting startup assembly "Microsoft.WebTools.ApiEndpointDiscovery"
Loaded hosting startup assembly "Microsoft.AspNetCore.Watch.BrowserRefresh"
Loaded hosting startup assembly "Microsoft.WebTools.BrowserLink.Net"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API"
Hosting started
Connection id ""0HN5IAOIHL81C"" accepted.
Connection id ""0HN5IAOIHL81C"" started.
Connection id ""0HN5IAOIHL81D"" accepted.
Connection id ""0HN5IAOIHL81D"" started.
Connection id ""0HN5IAOIHL81D"" received FIN.
Connection id ""0HN5IAOIHL81C"" received FIN.
Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
Connection id ""0HN5IAOIHL81E"" accepted.
Connection id ""0HN5IAOIHL81D"" stopped.
Connection id ""0HN5IAOIHL81C"" stopped.
Connection id ""0HN5IAOIHL81E"" started.
Connection id ""0HN5IAOIHL81C"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5IAOIHL81D"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection "0HN5IAOIHL81E" established using the following protocol: Tls13
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/index.html""" - null null
Wildcard detected, all requests with hosts will be allowed.
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Response markup is scheduled to include Browser Link script injection.
Response markup is scheduled to include browser refresh script injection.
Response markup was updated to include Browser Link script injection.
Response markup was updated to include browser refresh script injection.
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 320.282ms
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/_framework/aspnetcore-browser-refresh.js""" - null null
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/swagger-ui-standalone-preset.js""" - null null
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/_vs/browserLink""" - null null
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/index.js""" - null null
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 17.5583ms
No candidates found for the request path '"/swagger/swagger-ui-standalone-preset.js"'
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Request did not match any endpoints
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 40.7721ms
The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/swagger-ui-standalone-preset.js""" - 499 230293 "text/javascript" 65.1407ms
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 66.3981ms
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/favicon-32x32.png""" - null null
No candidates found for the request path '"/swagger/favicon-32x32.png"'
Request did not match any endpoints
The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/favicon-32x32.png""" - 499 628 "image/png" 20.8258ms
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 163.4313ms
Connection id ""0HN5IAOIHL81E"" received FIN.
Connection id ""0HN5IAOIHL81E"" is closing.
The connection queue processing loop for "0HN5IAOIHL81E" completed.
Connection id ""0HN5IAOIHL81E"" is closed. The last processed stream ID was 27.
Connection id ""0HN5IAOIHL81E"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5IAOIHL81E"" stopped.
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Now listening on: "https://localhost:7136"
Now listening on: "http://localhost:5062"
Loaded hosting startup assembly "Appointments.API"
Loaded hosting startup assembly "Microsoft.WebTools.ApiEndpointDiscovery"
Loaded hosting startup assembly "Microsoft.AspNetCore.Watch.BrowserRefresh"
Loaded hosting startup assembly "Microsoft.WebTools.BrowserLink.Net"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API"
Hosting started
Connection id ""0HN5LCVLCJ8RD"" accepted.
Connection id ""0HN5LCVLCJ8RD"" started.
Connection id ""0HN5LCVLCJ8RD"" received FIN.
Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
Connection id ""0HN5LCVLCJ8RD"" stopped.
Connection id ""0HN5LCVLCJ8RD"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5LCVLCJ8RE"" accepted.
Connection id ""0HN5LCVLCJ8RE"" started.
Connection "0HN5LCVLCJ8RE" established using the following protocol: Tls13
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger""" - null null
Wildcard detected, all requests with hosts will be allowed.
No candidates found for the request path '"/swagger"'
Request did not match any endpoints
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger""" - 301 0 null 830.5996ms
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/index.html""" - null null
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Response markup is scheduled to include Browser Link script injection.
Response markup is scheduled to include browser refresh script injection.
Response markup was updated to include Browser Link script injection.
Response markup was updated to include browser refresh script injection.
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 199.7072ms
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/swagger-ui.css""" - null null
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/swagger-ui-bundle.js""" - null null
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/index.css""" - null null
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/swagger-ui-standalone-preset.js""" - null null
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/index.js""" - null null
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/_vs/browserLink""" - null null
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/_framework/aspnetcore-browser-refresh.js""" - null null
No candidates found for the request path '"/swagger/swagger-ui.css"'
No candidates found for the request path '"/swagger/index.css"'
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Request did not match any endpoints
Request did not match any endpoints
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 51.0358ms
No candidates found for the request path '"/swagger/swagger-ui-standalone-preset.js"'
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 1218.5378ms
Sending file. Request path: '"/index.css"'. Physical path: '"N/A"'
No candidates found for the request path '"/swagger/swagger-ui-bundle.js"'
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/index.css""" - 200 202 "text/css" 1266.4015ms
Request did not match any endpoints
Request did not match any endpoints
Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/swagger-ui.css""" - 200 152034 "text/css" 1315.8842ms
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/swagger-ui-standalone-preset.js""" - 200 230293 "text/javascript" 1318.7448ms
Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/swagger-ui-bundle.js""" - 200 1452753 "text/javascript" 1363.4328ms
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 1403.4094ms
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/favicon-32x32.png""" - null null
No candidates found for the request path '"/swagger/favicon-32x32.png"'
Request did not match any endpoints
Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/favicon-32x32.png""" - 200 628 "image/png" 27.6764ms
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 384.0607ms
Connection id ""0HN5LCVLCJ8RE"" received FIN.
Connection id ""0HN5LCVLCJ8RE"" is closing.
The connection queue processing loop for "0HN5LCVLCJ8RE" completed.
Connection id ""0HN5LCVLCJ8RE"" is closed. The last processed stream ID was 35.
Connection id ""0HN5LCVLCJ8RE"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5LCVLCJ8RE"" stopped.
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "https://localhost:7136"
Now listening on: "http://localhost:5062"
Loaded hosting startup assembly "Appointments.API"
Loaded hosting startup assembly "Microsoft.WebTools.ApiEndpointDiscovery"
Loaded hosting startup assembly "Microsoft.AspNetCore.Watch.BrowserRefresh"
Loaded hosting startup assembly "Microsoft.WebTools.BrowserLink.Net"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API"
Hosting started
Connection id ""0HN5NIQ2T127D"" received FIN.
Connection id ""0HN5NIQ2T127D"" accepted.
Connection id ""0HN5NIQ2T127D"" started.
Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
Connection id ""0HN5NIQ2T127D"" stopped.
Connection id ""0HN5NIQ2T127D"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5NIQ2T127E"" accepted.
Connection id ""0HN5NIQ2T127E"" started.
Connection "0HN5NIQ2T127E" established using the following protocol: Tls13
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger""" - null null
Wildcard detected, all requests with hosts will be allowed.
No candidates found for the request path '"/swagger"'
Request did not match any endpoints
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger""" - 301 0 null 330.2236ms
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/index.html""" - null null
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Response markup is scheduled to include Browser Link script injection.
Response markup is scheduled to include browser refresh script injection.
Response markup was updated to include Browser Link script injection.
Response markup was updated to include browser refresh script injection.
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 86.6469ms
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/swagger-ui.css""" - null null
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/index.css""" - null null
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/swagger-ui-bundle.js""" - null null
No candidates found for the request path '"/swagger/swagger-ui.css"'
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/swagger-ui-standalone-preset.js""" - null null
No candidates found for the request path '"/swagger/index.css"'
Request did not match any endpoints
No candidates found for the request path '"/swagger/swagger-ui-standalone-preset.js"'
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/index.js""" - null null
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/_vs/browserLink""" - null null
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/_framework/aspnetcore-browser-refresh.js""" - null null
No candidates found for the request path '"/swagger/swagger-ui-bundle.js"'
Request did not match any endpoints
Request did not match any endpoints
Sending file. Request path: '"/index.css"'. Physical path: '"N/A"'
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/_framework/aspnetcore-browser-refresh.js""" - 200 13768 "application/javascript; charset=utf-8" 33.7708ms
Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/index.css""" - 200 202 "text/css" 70.9158ms
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Request did not match any endpoints
Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/swagger-ui.css""" - 200 152034 "text/css" 116.8603ms
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/swagger-ui-bundle.js""" - 200 1452753 "text/javascript" 126.0488ms
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/swagger-ui-standalone-preset.js""" - 200 230293 "text/javascript" 131.6329ms
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 119.7796ms
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 139.259ms
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/favicon-32x32.png""" - null null
No candidates found for the request path '"/swagger/favicon-32x32.png"'
Request did not match any endpoints
Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/favicon-32x32.png""" - 200 628 "image/png" 14.1751ms
Request starting "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Request finished "HTTP/2" "GET" "https"://"localhost:7136""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 204.2905ms
Request starting "HTTP/2" "POST" "https"://"localhost:7136""""/api/Appointments/create-appointment""" - "application/json" 154
1 candidate(s) found for the request path '"/api/Appointments/create-appointment"'
Endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"' with route pattern '"api/Appointments/create-appointment"' is valid for the request path '"/api/Appointments/create-appointment"'
Request matched endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Policy authentication schemes "" did not succeed
Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Patient|Receptionist)"
HTTP "POST" "/api/Appointments/create-appointment" responded 500 in 11.8796 ms
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5NIQ2T127E"", Request id ""0HN5NIQ2T127E:00000025"": An unhandled exception was thrown by the application.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
Request finished "HTTP/2" "POST" "https"://"localhost:7136""""/api/Appointments/create-appointment""" - 500 0 null 136.8618ms
Connection id ""0HN5NIQ2T127E"", Request id ""0HN5NIQ2T127E:00000025"": started reading request body.
Connection id ""0HN5NIQ2T127E"", Request id ""0HN5NIQ2T127E:00000025"": done reading request body.
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5Q1AOU33QU"" accepted.
Connection id ""0HN5Q1AOU33QU"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:55665""""/""" - null null
Wildcard detected, all requests with hosts will be allowed.
No candidates found for the request path '"/"'
Request did not match any endpoints
The request path "" does not match the path filter
Https port '55666' loaded from configuration.
Redirecting to '"https://localhost:55666/"'.
HTTP "GET" "/" responded 307 in 23.5947 ms
request System.Func`1[System.String] returns 307
Connection id ""0HN5Q1AOU33QU"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:55665""""/""" - 307 0 null 315.6323ms
Connection id ""0HN5Q1AOU33QV"" accepted.
Connection id ""0HN5Q1AOU33QV"" started.
Connection "0HN5Q1AOU33QV" established using the following protocol: Tls13
Request starting "HTTP/2" "GET" "https"://"localhost:55666""""/""" - null null
No candidates found for the request path '"/"'
Request did not match any endpoints
The request path "" does not match the path filter
request System.Func`1[System.String] returns 404
HTTP "GET" "/" responded 404 in 17.2864 ms
request System.Func`1[System.String] returns 404
Request finished "HTTP/2" "GET" "https"://"localhost:55666""""/""" - 404 0 null 69.384ms
Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "https"://"localhost:55666""""/", Response status code: 404
Request starting "HTTP/2" "GET" "https"://"localhost:55666""""/favicon.ico""" - null null
No candidates found for the request path '"/favicon.ico"'
Request did not match any endpoints
The request path "" does not match the path filter
request System.Func`1[System.String] returns 404
HTTP "GET" "/favicon.ico" responded 404 in 3.9115 ms
request System.Func`1[System.String] returns 404
Request finished "HTTP/2" "GET" "https"://"localhost:55666""""/favicon.ico""" - 404 0 null 45.647ms
Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "https"://"localhost:55666""""/favicon.ico", Response status code: 404
Request starting "HTTP/2" "GET" "https"://"localhost:55666""""/swagger/index.html""" - null null
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Request finished "HTTP/2" "GET" "https"://"localhost:55666""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 164.7798ms
Request starting "HTTP/2" "GET" "https"://"localhost:55666""""/swagger/swagger-ui.css""" - null null
Request starting "HTTP/2" "GET" "https"://"localhost:55666""""/swagger/index.css""" - null null
Request starting "HTTP/2" "GET" "https"://"localhost:55666""""/swagger/swagger-ui-bundle.js""" - null null
Request starting "HTTP/2" "GET" "https"://"localhost:55666""""/swagger/swagger-ui-standalone-preset.js""" - null null
No candidates found for the request path '"/swagger/swagger-ui.css"'
No candidates found for the request path '"/swagger/index.css"'
No candidates found for the request path '"/swagger/swagger-ui-bundle.js"'
Request did not match any endpoints
Request did not match any endpoints
Request did not match any endpoints
No candidates found for the request path '"/swagger/swagger-ui-standalone-preset.js"'
Request starting "HTTP/2" "GET" "https"://"localhost:55666""""/swagger/index.js""" - null null
Request did not match any endpoints
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Request finished "HTTP/2" "GET" "https"://"localhost:55666""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 69.15ms
Sending file. Request path: '"/index.css"'. Physical path: '"N/A"'
Request finished "HTTP/2" "GET" "https"://"localhost:55666""""/swagger/index.css""" - 200 202 "text/css" 92.9375ms
Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
Request finished "HTTP/2" "GET" "https"://"localhost:55666""""/swagger/swagger-ui.css""" - 200 152034 "text/css" 193.7472ms
Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
Request finished "HTTP/2" "GET" "https"://"localhost:55666""""/swagger/swagger-ui-standalone-preset.js""" - 200 230293 "text/javascript" 218.8587ms
Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
Request finished "HTTP/2" "GET" "https"://"localhost:55666""""/swagger/swagger-ui-bundle.js""" - 200 1452753 "text/javascript" 450.0191ms
Request starting "HTTP/2" "GET" "https"://"localhost:55666""""/swagger/favicon-32x32.png""" - null null
No candidates found for the request path '"/swagger/favicon-32x32.png"'
Request did not match any endpoints
Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
Request finished "HTTP/2" "GET" "https"://"localhost:55666""""/swagger/favicon-32x32.png""" - 200 628 "image/png" 22.9744ms
Request starting "HTTP/2" "GET" "https"://"localhost:55666""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Request finished "HTTP/2" "GET" "https"://"localhost:55666""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 476.6668ms
Connection id ""0HN5Q1AOU33QU"" received FIN.
Connection id ""0HN5Q1AOU33QU"" disconnecting.
Connection id ""0HN5Q1AOU33QU"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5Q1AOU33QU"" stopped.
Connection id ""0HN5Q1AOU33QV"" received FIN.
Connection id ""0HN5Q1AOU33QV"" is closed. The last processed stream ID was 33.
Connection id ""0HN5Q1AOU33QV"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
The connection queue processing loop for "0HN5Q1AOU33QV" completed.
Connection id ""0HN5Q1AOU33QV"" stopped.
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Config reload token fired. Checking for changes...
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Config reload token fired. Checking for changes...
Hosting stopping
Application is shutting down...
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Config reload token fired. Checking for changes...
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Config reload token fired. Checking for changes...
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5R1K92F85D"" accepted.
Connection id ""0HN5R1K92F85D"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:5531""""/""" - null null
Wildcard detected, all requests with hosts will be allowed.
No candidates found for the request path '"/"'
Request did not match any endpoints
The request path "" does not match the path filter
Https port '5532' loaded from configuration.
Redirecting to '"https://localhost:5532/"'.
HTTP "GET" "/" responded 307 in 33.7561 ms
request System.Func`1[System.String] returns 307
Connection id ""0HN5R1K92F85D"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:5531""""/""" - 307 0 null 975.3334ms
Connection id ""0HN5R1K92F85E"" accepted.
Connection id ""0HN5R1K92F85E"" started.
Connection "0HN5R1K92F85E" established using the following protocol: Tls13
Request starting "HTTP/2" "GET" "https"://"localhost:5532""""/""" - null null
No candidates found for the request path '"/"'
Request did not match any endpoints
The request path "" does not match the path filter
request System.Func`1[System.String] returns 404
HTTP "GET" "/" responded 404 in 24.2972 ms
request System.Func`1[System.String] returns 404
Request finished "HTTP/2" "GET" "https"://"localhost:5532""""/""" - 404 0 null 74.7468ms
Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "https"://"localhost:5532""""/", Response status code: 404
Request starting "HTTP/2" "GET" "https"://"localhost:5532""""/favicon.ico""" - null null
No candidates found for the request path '"/favicon.ico"'
Request did not match any endpoints
The request path "" does not match the path filter
request System.Func`1[System.String] returns 404
HTTP "GET" "/favicon.ico" responded 404 in 13.8072 ms
request System.Func`1[System.String] returns 404
Request finished "HTTP/2" "GET" "https"://"localhost:5532""""/favicon.ico""" - 404 0 null 132.6696ms
Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "https"://"localhost:5532""""/favicon.ico", Response status code: 404
Request starting "HTTP/2" "GET" "https"://"localhost:5532""""/swagger/index.html""" - null null
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Request finished "HTTP/2" "GET" "https"://"localhost:5532""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 229.81ms
Request starting "HTTP/2" "GET" "https"://"localhost:5532""""/swagger/swagger-ui.css""" - null null
Request starting "HTTP/2" "GET" "https"://"localhost:5532""""/swagger/index.css""" - null null
Request starting "HTTP/2" "GET" "https"://"localhost:5532""""/swagger/swagger-ui-bundle.js""" - null null
Request starting "HTTP/2" "GET" "https"://"localhost:5532""""/swagger/swagger-ui-standalone-preset.js""" - null null
No candidates found for the request path '"/swagger/swagger-ui.css"'
Request starting "HTTP/2" "GET" "https"://"localhost:5532""""/swagger/index.js""" - null null
No candidates found for the request path '"/swagger/index.css"'
No candidates found for the request path '"/swagger/swagger-ui-bundle.js"'
No candidates found for the request path '"/swagger/swagger-ui-standalone-preset.js"'
Request did not match any endpoints
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Request did not match any endpoints
Request did not match any endpoints
Request did not match any endpoints
Request finished "HTTP/2" "GET" "https"://"localhost:5532""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 100.8993ms
Sending file. Request path: '"/index.css"'. Physical path: '"N/A"'
Request finished "HTTP/2" "GET" "https"://"localhost:5532""""/swagger/index.css""" - 200 202 "text/css" 160.3356ms
Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
Request finished "HTTP/2" "GET" "https"://"localhost:5532""""/swagger/swagger-ui.css""" - 200 152034 "text/css" 267.5412ms
Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
Request finished "HTTP/2" "GET" "https"://"localhost:5532""""/swagger/swagger-ui-standalone-preset.js""" - 200 230293 "text/javascript" 326.0423ms
Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
Request finished "HTTP/2" "GET" "https"://"localhost:5532""""/swagger/swagger-ui-bundle.js""" - 200 1452753 "text/javascript" 774.6255ms
Request starting "HTTP/2" "GET" "https"://"localhost:5532""""/swagger/favicon-32x32.png""" - null null
No candidates found for the request path '"/swagger/favicon-32x32.png"'
Request did not match any endpoints
Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
Request finished "HTTP/2" "GET" "https"://"localhost:5532""""/swagger/favicon-32x32.png""" - 200 628 "image/png" 38.0263ms
Request starting "HTTP/2" "GET" "https"://"localhost:5532""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Request finished "HTTP/2" "GET" "https"://"localhost:5532""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 1691.7966ms
Request starting "HTTP/2" "GET" "https"://"localhost:5532""""/api/Results/3123""" - null null
1 candidate(s) found for the request path '"/api/Results/3123"'
Endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"' with route pattern '"api/Results/{id:int}"' is valid for the request path '"/api/Results/3123"'
Request matched endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Policy authentication schemes "" did not succeed
Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Patient|Doctor)"
HTTP "GET" "/api/Results/3123" responded 500 in 65.8393 ms
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5R1K92F85E"", Request id ""0HN5R1K92F85E:00000023"": An unhandled exception was thrown by the application.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
Request finished "HTTP/2" "GET" "https"://"localhost:5532""""/api/Results/3123""" - 500 0 null 549.1614ms
Request starting "HTTP/2" "POST" "https"://"localhost:5532""""/api/Results/create-result""?doctorId=12" - "application/json" 232
1 candidate(s) found for the request path '"/api/Results/create-result"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create-result"' is valid for the request path '"/api/Results/create-result"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Policy authentication schemes "" did not succeed
Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Doctor)"
HTTP "POST" "/api/Results/create-result" responded 500 in 19.0599 ms
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5R1K92F85E"", Request id ""0HN5R1K92F85E:00000025"": An unhandled exception was thrown by the application.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
Request finished "HTTP/2" "POST" "https"://"localhost:5532""""/api/Results/create-result""?doctorId=12" - 500 0 null 133.9411ms
Connection id ""0HN5R1K92F85E"", Request id ""0HN5R1K92F85E:00000025"": started reading request body.
Connection id ""0HN5R1K92F85E"", Request id ""0HN5R1K92F85E:00000025"": done reading request body.
Connection id ""0HN5R1K92F85D"" received FIN.
Connection id ""0HN5R1K92F85D"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5R1K92F85D"" disconnecting.
Connection id ""0HN5R1K92F85D"" stopped.
Connection id ""0HN5R1K92F85E"" received FIN.
Connection id ""0HN5R1K92F85E"" is closing.
Connection id ""0HN5R1K92F85E"" is closed. The last processed stream ID was 37.
Connection id ""0HN5R1K92F85E"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
The connection queue processing loop for "0HN5R1K92F85E" completed.
Connection id ""0HN5R1K92F85E"" stopped.
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
osoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Hosting failed to start
System.IO.IOException: Failed to bind to address http://[::]:8080: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (98): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.ListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.AnyIPListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Config reload token fired. Checking for changes...
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Config reload token fired. Checking for changes...
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Config reload token fired. Checking for changes...
Application is shutting down...
Hosting stopping
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 33734)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_qagoyyfcnebrfq4cbdqmz8jj8x?temporary=true
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-fegTWIY0OHH8KvhBbTMiKw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-kHZTjFLUMpYUXke1Hy6SCg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-m22hey1hon-LmnIq_PS8bg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-B4DHBayhpJqc07fxPaYEdw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-fegTWIY0OHH8KvhBbTMiKw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-B4DHBayhpJqc07fxPaYEdw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-m22hey1hon-LmnIq_PS8bg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-kHZTjFLUMpYUXke1Hy6SCg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-fegTWIY0OHH8KvhBbTMiKw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-B4DHBayhpJqc07fxPaYEdw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-m22hey1hon-LmnIq_PS8bg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-kHZTjFLUMpYUXke1Hy6SCg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_qagoyyfcnebrfq4cbdqmz8jj8x?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_qagoyyfcnebrfq4cbdqmz8jj8x?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 57574)
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_nw8yyyfcnebrrnpmbdqmz819ds?temporary=true
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-veRoTu5Ww7bbUdxV_8hLeQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-0aG_RICz5GSA32ju2k645g"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-L8c6XSs-iYz10C9909-KaQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-Ogs103kQdysxKesAYKgq8Q"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-L8c6XSs-iYz10C9909-KaQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-L8c6XSs-iYz10C9909-KaQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-veRoTu5Ww7bbUdxV_8hLeQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-veRoTu5Ww7bbUdxV_8hLeQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-0aG_RICz5GSA32ju2k645g"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-0aG_RICz5GSA32ju2k645g"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-Ogs103kQdysxKesAYKgq8Q"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-Ogs103kQdysxKesAYKgq8Q"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_nw8yyyfcnebrrnpmbdqmz819ds?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_nw8yyyfcnebrrnpmbdqmz819ds?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (4685ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
An error occurred using the connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (399ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (58ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (59ms).
Initialized DbCommand for '"ExecuteScalar"' (100ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("403"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (21ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 41172)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_ce8oyyfcnebrfa7obdqmzeajru?temporary=true
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-yLFmiN7WTkh28Rh4eVvo8w"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-edyXrDNWrtqG66RphWZqlA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-3g2GCPRhrn3ZHKT6WASbMQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-1osDytByUZuV6ildg_eYPg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-yLFmiN7WTkh28Rh4eVvo8w"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-yLFmiN7WTkh28Rh4eVvo8w"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-3g2GCPRhrn3ZHKT6WASbMQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-3g2GCPRhrn3ZHKT6WASbMQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-1osDytByUZuV6ildg_eYPg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-1osDytByUZuV6ildg_eYPg"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-edyXrDNWrtqG66RphWZqlA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-edyXrDNWrtqG66RphWZqlA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_ce8oyyfcnebrfa7obdqmzeajru?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_ce8oyyfcnebrfa7obdqmzeajru?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (193ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (83ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (53ms).
Initialized DbCommand for '"ExecuteScalar"' (114ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("401"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (47ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 34422)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_7a8oyyfcnebrfefkbdqmzjdjdy?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-V3w8mQIyN1ZzO_mhZD_bYw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-YxzpyJ8DtMiezQRi9feB8A"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-JI8rcs6xXWLpIerERRT58g"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-bvTftXotwpg7rgp0dnFGdQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-JI8rcs6xXWLpIerERRT58g"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-V3w8mQIyN1ZzO_mhZD_bYw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-YxzpyJ8DtMiezQRi9feB8A"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-V3w8mQIyN1ZzO_mhZD_bYw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-JI8rcs6xXWLpIerERRT58g"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-YxzpyJ8DtMiezQRi9feB8A"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-bvTftXotwpg7rgp0dnFGdQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-bvTftXotwpg7rgp0dnFGdQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_7a8oyyfcnebrfefkbdqmzjdjdy?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_7a8oyyfcnebrfefkbdqmzjdjdy?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (299ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (94ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (54ms).
Initialized DbCommand for '"ExecuteScalar"' (122ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("860"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (15ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 38182)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_qheyyyfcnebrrwfubdqmzjjqgs?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-wwfC90daJOIcTNWwUBVxBA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-GZeXsi4aoIDjQqCKUDHI-Q"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-NSeaywGmb8Rz_IvOhHSX6A"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-E94C4l70xe2pLw18kNby9w"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-E94C4l70xe2pLw18kNby9w"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-E94C4l70xe2pLw18kNby9w"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-NSeaywGmb8Rz_IvOhHSX6A"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-NSeaywGmb8Rz_IvOhHSX6A"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-GZeXsi4aoIDjQqCKUDHI-Q"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-GZeXsi4aoIDjQqCKUDHI-Q"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-wwfC90daJOIcTNWwUBVxBA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-wwfC90daJOIcTNWwUBVxBA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_qheyyyfcnebrrwfubdqmzjjqgs?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_qheyyyfcnebrrwfubdqmzjjqgs?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (204ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (53ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (35ms).
Initialized DbCommand for '"ExecuteScalar"' (61ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("233"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (29ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 59382)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_rceoyyfcnebrrp1sbdqmzjwhd4?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-OG6ydCzmCHV7dy_rZgT4Hg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-gGNAVZrT7pf-Ej8dNJeEcA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-vvG9kSSKytwIdhmuPTC3KQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-g91XbiCgMupz1FxfXs5TBg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (444ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (48ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (29ms).
Initialized DbCommand for '"ExecuteScalar"' (69ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("292"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (26ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 42292)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_5oeoyyfcnebrfg7hbdqmzk1ank?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-iCZRry_nRTSX5EWsB84mqg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-LCllJIapOp-vPDlpRiSgGQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-zE8eH4_GO9lHG0wVnvcE5w"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-IaeZOM2ipKs7AZhbj8kOiQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-zE8eH4_GO9lHG0wVnvcE5w"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-LCllJIapOp-vPDlpRiSgGQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-IaeZOM2ipKs7AZhbj8kOiQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-iCZRry_nRTSX5EWsB84mqg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-LCllJIapOp-vPDlpRiSgGQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-iCZRry_nRTSX5EWsB84mqg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-IaeZOM2ipKs7AZhbj8kOiQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-zE8eH4_GO9lHG0wVnvcE5w"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_5oeoyyfcnebrfg7hbdqmzk1ank?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_5oeoyyfcnebrfg7hbdqmzk1ank?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (260ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (72ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (86ms).
Initialized DbCommand for '"ExecuteScalar"' (151ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("386"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (17ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 36156)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_ocjyyyfcnebrfhyobdqmzkhibe?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-aT8iZLPQ-5Q1Ps69dpuH7Q"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-ippv9sCI5kX6SWNQm3Ffqw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-422-D_mt73J9S6pefbUwyw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-LUOz-ku-IMR84gp8ENHkMA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-ippv9sCI5kX6SWNQm3Ffqw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-ippv9sCI5kX6SWNQm3Ffqw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-LUOz-ku-IMR84gp8ENHkMA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-LUOz-ku-IMR84gp8ENHkMA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-aT8iZLPQ-5Q1Ps69dpuH7Q"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-aT8iZLPQ-5Q1Ps69dpuH7Q"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-422-D_mt73J9S6pefbUwyw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-422-D_mt73J9S6pefbUwyw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_ocjyyyfcnebrfhyobdqmzkhibe?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_ocjyyyfcnebrfhyobdqmzkhibe?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (151ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (82ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (202ms).
Initialized DbCommand for '"ExecuteScalar"' (254ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("379"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (18ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 59334)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_dcjoyyfcnebrf4mgbdqmzmg6rx?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-57WUchnlse3eiGS0Fmy5Wg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-pPfQ_fDe3kI1liDd9chQAg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Fo83qz4xOaMyKhjOtQMP2Q"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-MwqmC5kSMgG2WzQVOP6wNQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Fo83qz4xOaMyKhjOtQMP2Q"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-Fo83qz4xOaMyKhjOtQMP2Q"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-57WUchnlse3eiGS0Fmy5Wg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-57WUchnlse3eiGS0Fmy5Wg"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-pPfQ_fDe3kI1liDd9chQAg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-pPfQ_fDe3kI1liDd9chQAg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-MwqmC5kSMgG2WzQVOP6wNQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-MwqmC5kSMgG2WzQVOP6wNQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_dcjoyyfcnebrf4mgbdqmzmg6rx?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_dcjoyyfcnebrf4mgbdqmzmg6rx?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (244ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (43ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (75ms).
Initialized DbCommand for '"ExecuteScalar"' (116ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("325"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (17ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 46972)
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_hcjoyyfcnebrfncwbdqmzm4jbk?temporary=true
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-E9Gg5W4tLW_XgnLdzsz5CQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-O53tBSVHuU6rSVPs2iM-EA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-o-pYTvpNn-g3LFH2cjOjZw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-2UeAvVm4J26xODbPZtPvlA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-2UeAvVm4J26xODbPZtPvlA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-o-pYTvpNn-g3LFH2cjOjZw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-E9Gg5W4tLW_XgnLdzsz5CQ"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-O53tBSVHuU6rSVPs2iM-EA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-E9Gg5W4tLW_XgnLdzsz5CQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-o-pYTvpNn-g3LFH2cjOjZw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-2UeAvVm4J26xODbPZtPvlA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-O53tBSVHuU6rSVPs2iM-EA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_hcjoyyfcnebrfncwbdqmzm4jbk?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_hcjoyyfcnebrfncwbdqmzm4jbk?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (178ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (70ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (32ms).
Initialized DbCommand for '"ExecuteScalar"' (82ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("388"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 48912)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_tekyyyfcnebrf7wkbdqmzc8gnt?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-5ZtpvjSrhMmdoeZF7Rl_bQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-E3gXRca4BMo74LH3Gar5zQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-YWCGYXT9WTZxcRzTnQjSqA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-zN2voWMnFEU9EJGYn2VsUA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-E3gXRca4BMo74LH3Gar5zQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-5ZtpvjSrhMmdoeZF7Rl_bQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-YWCGYXT9WTZxcRzTnQjSqA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-E3gXRca4BMo74LH3Gar5zQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-5ZtpvjSrhMmdoeZF7Rl_bQ"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-YWCGYXT9WTZxcRzTnQjSqA"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-zN2voWMnFEU9EJGYn2VsUA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-zN2voWMnFEU9EJGYn2VsUA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_tekyyyfcnebrf7wkbdqmzc8gnt?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_tekyyyfcnebrf7wkbdqmzc8gnt?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (161ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (44ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (37ms).
Initialized DbCommand for '"ExecuteScalar"' (62ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("316"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (57ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 50630)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_jhkoyyfcnebrryf3bdqmzcaw84?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-p6ffqVcj6j12OVYRxyVaaA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-KH03zCI0KtescRZNNF87uA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-CrLS755bOzGvcRh91U2VMg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-51qaA0NUr_XJkvvvLqczQQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-KH03zCI0KtescRZNNF87uA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-CrLS755bOzGvcRh91U2VMg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-p6ffqVcj6j12OVYRxyVaaA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-51qaA0NUr_XJkvvvLqczQQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-p6ffqVcj6j12OVYRxyVaaA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-51qaA0NUr_XJkvvvLqczQQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-CrLS755bOzGvcRh91U2VMg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-KH03zCI0KtescRZNNF87uA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_jhkoyyfcnebrryf3bdqmzcaw84?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_jhkoyyfcnebrryf3bdqmzcaw84?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (284ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (27ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (33ms).
Initialized DbCommand for '"ExecuteScalar"' (80ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("405"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (18ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 49330)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_5okoyyfcnebrfo44bdqmzpywd4?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-d0oK9sFLnp8XIImNhniBYQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-o3lM1y03olJ_FFa6KiDzdg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-hs61eB8ChM4W1-N421fILA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-hIUDkQIQ4pu9-rkuDrzJTQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-hs61eB8ChM4W1-N421fILA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-hIUDkQIQ4pu9-rkuDrzJTQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-o3lM1y03olJ_FFa6KiDzdg"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-d0oK9sFLnp8XIImNhniBYQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-hIUDkQIQ4pu9-rkuDrzJTQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-o3lM1y03olJ_FFa6KiDzdg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-hs61eB8ChM4W1-N421fILA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-d0oK9sFLnp8XIImNhniBYQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_5okoyyfcnebrfo44bdqmzpywd4?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_5okoyyfcnebrfo44bdqmzpywd4?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1383ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (37ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (28ms).
Initialized DbCommand for '"ExecuteScalar"' (55ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("530"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (24ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 37092)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_zcmyyyfcnebrf1bjbdqmzuiwfg?temporary=true
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-f8QE-c3qKnL40nhdZLIlhw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag--X69v7-7QsvDxyWoaHnrgg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-6cs7fC9Iuyt2qOfdTxVD3A"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-0PeuBEoTCR-7Tvk_WkGohA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag--X69v7-7QsvDxyWoaHnrgg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag--X69v7-7QsvDxyWoaHnrgg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-f8QE-c3qKnL40nhdZLIlhw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-f8QE-c3qKnL40nhdZLIlhw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-6cs7fC9Iuyt2qOfdTxVD3A"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-6cs7fC9Iuyt2qOfdTxVD3A"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-0PeuBEoTCR-7Tvk_WkGohA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-0PeuBEoTCR-7Tvk_WkGohA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_zcmyyyfcnebrf1bjbdqmzuiwfg?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_zcmyyyfcnebrf1bjbdqmzuiwfg?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1175ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (76ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (95ms).
Initialized DbCommand for '"ExecuteScalar"' (109ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("248"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (21ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 43334)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_uwmoyyfcnebrfnpsbdqmzwtznq?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-nOJjK-e4RCeFAjjlWzQuFQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-ggb3coAJx01Vcso2YNYjxw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-RwmKZmo5Nviak659HvS5qw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-AGCavlAPttsAop6jeenOzQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-nOJjK-e4RCeFAjjlWzQuFQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-ggb3coAJx01Vcso2YNYjxw"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-AGCavlAPttsAop6jeenOzQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-RwmKZmo5Nviak659HvS5qw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-nOJjK-e4RCeFAjjlWzQuFQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-ggb3coAJx01Vcso2YNYjxw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-RwmKZmo5Nviak659HvS5qw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-AGCavlAPttsAop6jeenOzQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_uwmoyyfcnebrfnpsbdqmzwtznq?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/2b90610b0f74_AppointmentsAPI_bus_uwmoyyfcnebrfnpsbdqmzwtznq?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (162ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (46ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (31ms).
Initialized DbCommand for '"ExecuteScalar"' (52ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("325"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (17ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 49374)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/8fb13e78b049_AppointmentsAPI_bus_eoyyyyfcnobrf7k6bdqmzsgqdq?temporary=true
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-ZeQLLT_UHR--JPugzoMN5A"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-qpg5zoeDh6K-UeoRxiK5vQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-1m-C_PW8IY9uvizSWV9nYQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-X6oykoqX41TG_zk13m7ZBw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-X6oykoqX41TG_zk13m7ZBw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-1m-C_PW8IY9uvizSWV9nYQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-ZeQLLT_UHR--JPugzoMN5A"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-qpg5zoeDh6K-UeoRxiK5vQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-X6oykoqX41TG_zk13m7ZBw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-1m-C_PW8IY9uvizSWV9nYQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-ZeQLLT_UHR--JPugzoMN5A"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-qpg5zoeDh6K-UeoRxiK5vQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/8fb13e78b049_AppointmentsAPI_bus_eoyyyyfcnobrf7k6bdqmzsgqdq?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/8fb13e78b049_AppointmentsAPI_bus_eoyyyyfcnobrf7k6bdqmzsgqdq?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (127ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (23ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (39ms).
Initialized DbCommand for '"ExecuteScalar"' (60ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("189"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (19ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 44824)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/8fb13e78b049_AppointmentsAPI_bus_zoyyyyfcnobrrnk4bdqmzsjefs?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-j8__vhqPo9L7leTQX8c8bQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-eUBy96S9rLj-c8dzqrZVZg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-F8fcjwaXEgrog5SAewu5Jw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-TTiuEPkvNPjVdyxa4C3ugw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-eUBy96S9rLj-c8dzqrZVZg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-j8__vhqPo9L7leTQX8c8bQ"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-TTiuEPkvNPjVdyxa4C3ugw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-F8fcjwaXEgrog5SAewu5Jw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-TTiuEPkvNPjVdyxa4C3ugw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-F8fcjwaXEgrog5SAewu5Jw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-eUBy96S9rLj-c8dzqrZVZg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-j8__vhqPo9L7leTQX8c8bQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/8fb13e78b049_AppointmentsAPI_bus_zoyyyyfcnobrrnk4bdqmzsjefs?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/8fb13e78b049_AppointmentsAPI_bus_zoyyyyfcnobrrnk4bdqmzsjefs?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (209ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (59ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (60ms).
Initialized DbCommand for '"ExecuteScalar"' (107ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("753"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (65ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 34540)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/8fb13e78b049_AppointmentsAPI_bus_ecyoyyfcnobrfrukbdqmzsqwn7?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-LT9gBXBLTRddufu5Qw4C-A"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-cjDRw03T2ZLKTtLotHGeEQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-RklGyvDc72pj5VLme3NgGg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-QTWZ-fye1ANJxezBHCCWgQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-RklGyvDc72pj5VLme3NgGg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-QTWZ-fye1ANJxezBHCCWgQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-LT9gBXBLTRddufu5Qw4C-A"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-cjDRw03T2ZLKTtLotHGeEQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-RklGyvDc72pj5VLme3NgGg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-cjDRw03T2ZLKTtLotHGeEQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-QTWZ-fye1ANJxezBHCCWgQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-LT9gBXBLTRddufu5Qw4C-A"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/8fb13e78b049_AppointmentsAPI_bus_ecyoyyfcnobrfrukbdqmzsqwn7?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/8fb13e78b049_AppointmentsAPI_bus_ecyoyyfcnobrfrukbdqmzsqwn7?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (73ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (18ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (14ms).
Initialized DbCommand for '"ExecuteScalar"' (33ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("225"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (18ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 60390)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/8fb13e78b049_AppointmentsAPI_bus_hyyoyyfcnobrf5n4bdqmzsahyf?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-fxlH4ud_H7_oGk9MwUsSWg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-rqJ-JQTIwNswNgGAwIdy4w"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-cWaOqs74uBz_4Fewg3_LRg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-Im6Pi6PMmMgY5mY4_6ifWg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Consumer Model Shutdown: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-Im6Pi6PMmMgY5mY4_6ifWg", Concurrent Peak: 0, 320-"CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'"
Consumer Model Shutdown: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-fxlH4ud_H7_oGk9MwUsSWg", Concurrent Peak: 0, 320-"CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'"
Consumer Model Shutdown: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-cWaOqs74uBz_4Fewg3_LRg", Concurrent Peak: 0, 320-"CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Consume Loop Exited")
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Consume Loop Exited")
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Consume Loop Exited")
Consumer Model Shutdown: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-rqJ-JQTIwNswNgGAwIdy4w", Concurrent Peak: 0, 320-"CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Consume Loop Exited")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-Im6Pi6PMmMgY5mY4_6ifWg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-fxlH4ud_H7_oGk9MwUsSWg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-cWaOqs74uBz_4Fewg3_LRg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-rqJ-JQTIwNswNgGAwIdy4w"
Connect: "guest@rabbitmq.message-broker:5672/"
Connection Failed: rabbitmq://rabbitmq.message-broker/
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, ArrayPool`1 pool, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IList`1 hostnames, String clientProvidedName)
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 85
Endpoint Faulted: rabbitmq://rabbitmq.message-broker/service-created
MassTransit.RabbitMqConnectionException: Broker unreachable: guest@rabbitmq.message-broker:5672/
 ---> RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, ArrayPool`1 pool, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IList`1 hostnames, String clientProvidedName)
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 85
   --- End of inner exception stack trace ---
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 111
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateSharedConnection(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 57
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.RabbitMqTransport.ModelContextFactory.CreateSharedModel(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ModelContextFactory.cs:line 49
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
Endpoint Faulted: rabbitmq://rabbitmq.message-broker/service-deleted
MassTransit.RabbitMqConnectionException: Broker unreachable: guest@rabbitmq.message-broker:5672/
 ---> RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, ArrayPool`1 pool, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IList`1 hostnames, String clientProvidedName)
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 85
   --- End of inner exception stack trace ---
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 111
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateSharedConnection(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 57
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.RabbitMqTransport.ModelContextFactory.CreateSharedModel(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ModelContextFactory.cs:line 49
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
Endpoint Faulted: rabbitmq://rabbitmq.message-broker/service-status-changed
MassTransit.RabbitMqConnectionException: Broker unreachable: guest@rabbitmq.message-broker:5672/
 ---> RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, ArrayPool`1 pool, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IList`1 hostnames, String clientProvidedName)
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 85
   --- End of inner exception stack trace ---
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 111
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateSharedConnection(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 57
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.RabbitMqTransport.ModelContextFactory.CreateSharedModel(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ModelContextFactory.cs:line 49
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
Endpoint Faulted: rabbitmq://rabbitmq.message-broker/service-updated
MassTransit.RabbitMqConnectionException: Broker unreachable: guest@rabbitmq.message-broker:5672/
 ---> RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, ArrayPool`1 pool, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IList`1 hostnames, String clientProvidedName)
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 85
   --- End of inner exception stack trace ---
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 111
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateSharedConnection(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 57
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.RabbitMqTransport.ModelContextFactory.CreateSharedModel(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ModelContextFactory.cs:line 49
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (71ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (50ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (47ms).
Initialized DbCommand for '"ExecuteScalar"' (69ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("417"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 38510)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/29374a06e528_AppointmentsAPI_bus_8ayyyyfcnebrr157bdqm3gaqbs?temporary=true
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-RfLFn4nhHlQuJVc8W_RSwA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-mFUZRv2EknvenLiVXiJpHQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-f4oCwm8omS2rDyj4npy9xw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-g3EUpaRSEvW09RmsAg6AQg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-RfLFn4nhHlQuJVc8W_RSwA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-g3EUpaRSEvW09RmsAg6AQg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-RfLFn4nhHlQuJVc8W_RSwA"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-g3EUpaRSEvW09RmsAg6AQg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-f4oCwm8omS2rDyj4npy9xw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-f4oCwm8omS2rDyj4npy9xw"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-mFUZRv2EknvenLiVXiJpHQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-mFUZRv2EknvenLiVXiJpHQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/29374a06e528_AppointmentsAPI_bus_8ayyyyfcnebrr157bdqm3gaqbs?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/29374a06e528_AppointmentsAPI_bus_8ayyyyfcnebrr157bdqm3gaqbs?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (129ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (26ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (24ms).
Initialized DbCommand for '"ExecuteScalar"' (63ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("176"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 49810)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/29374a06e528_AppointmentsAPI_bus_iryyyyfcnebrrh79bdqm3g4zrr?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-_gW2fK1VNLVjNQ9U8A6tRA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-0WlU3H8YDhMzc8LBaygJMw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-H5IuIR23HKh04OHp7_r33Q"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-TZV7DzwNssBZWY55ASUuPw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-TZV7DzwNssBZWY55ASUuPw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-0WlU3H8YDhMzc8LBaygJMw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-_gW2fK1VNLVjNQ9U8A6tRA"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-H5IuIR23HKh04OHp7_r33Q"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-H5IuIR23HKh04OHp7_r33Q"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-0WlU3H8YDhMzc8LBaygJMw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-_gW2fK1VNLVjNQ9U8A6tRA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-TZV7DzwNssBZWY55ASUuPw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/29374a06e528_AppointmentsAPI_bus_iryyyyfcnebrrh79bdqm3g4zrr?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/29374a06e528_AppointmentsAPI_bus_iryyyyfcnebrrh79bdqm3g4zrr?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (139ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (39ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (38ms).
Initialized DbCommand for '"ExecuteScalar"' (66ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("354"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (23ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 51882)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/29374a06e528_AppointmentsAPI_bus_xyyoyyfcnebrffuzbdqm38cfg8?temporary=true
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-mMBCLRCy3ZZLz3E1JYPxsA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-t9p-zRg3i9OR8td1vza2wQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-yN6M2NB06T9BtuBngM7pkQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-EJDTfJE7HNtn9wr1L402jA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (94ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (17ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (17ms).
Initialized DbCommand for '"ExecuteScalar"' (31ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("183"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 41404)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/bfe05bd77863_AppointmentsAPI_bus_eeyyyyfcnobrrhtabdqm3egdr1?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-GEbQ-8MEnnCIcEHi_CoyhA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag--iG-I_WyKJX6GJyycT4Yzw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-TYmdY-zIeC5JVASKyLt8PQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-0a-qYp2je4Il7XZL-XkOXg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Consumer Model Shutdown: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-TYmdY-zIeC5JVASKyLt8PQ", Concurrent Peak: 0, 320-"CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'"
Consumer Model Shutdown: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag--iG-I_WyKJX6GJyycT4Yzw", Concurrent Peak: 0, 320-"CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Consume Loop Exited")
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Consume Loop Exited")
Consumer Model Shutdown: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-GEbQ-8MEnnCIcEHi_CoyhA", Concurrent Peak: 0, 320-"CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Consume Loop Exited")
Consumer Model Shutdown: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-0a-qYp2je4Il7XZL-XkOXg", Concurrent Peak: 0, 320-"CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Consume Loop Exited")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-TYmdY-zIeC5JVASKyLt8PQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag--iG-I_WyKJX6GJyycT4Yzw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-0a-qYp2je4Il7XZL-XkOXg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-GEbQ-8MEnnCIcEHi_CoyhA"
Connect: "guest@rabbitmq.message-broker:5672/"
Connection Failed: rabbitmq://rabbitmq.message-broker/
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, ArrayPool`1 pool, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IList`1 hostnames, String clientProvidedName)
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 85
Endpoint Faulted: rabbitmq://rabbitmq.message-broker/service-created
MassTransit.RabbitMqConnectionException: Broker unreachable: guest@rabbitmq.message-broker:5672/
 ---> RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, ArrayPool`1 pool, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IList`1 hostnames, String clientProvidedName)
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 85
   --- End of inner exception stack trace ---
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 111
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateSharedConnection(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 57
   at MassTransit.SupervisorExtensions.<>c__DisplayClass5_0`2.<<CreateAgent>g__HandleSupervisorTask|0>d.MoveNext() in /_/src/MassTransit/SupervisorExtensions.cs:line 139
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.RabbitMqTransport.ModelContextFactory.CreateSharedModel(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ModelContextFactory.cs:line 49
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
Endpoint Faulted: rabbitmq://rabbitmq.message-broker/service-updated
MassTransit.RabbitMqConnectionException: Broker unreachable: guest@rabbitmq.message-broker:5672/
 ---> RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, ArrayPool`1 pool, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IList`1 hostnames, String clientProvidedName)
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 85
   --- End of inner exception stack trace ---
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 111
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateSharedConnection(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 57
   at MassTransit.SupervisorExtensions.<>c__DisplayClass5_0`2.<<CreateAgent>g__HandleSupervisorTask|0>d.MoveNext() in /_/src/MassTransit/SupervisorExtensions.cs:line 139
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.RabbitMqTransport.ModelContextFactory.CreateSharedModel(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ModelContextFactory.cs:line 49
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
Endpoint Faulted: rabbitmq://rabbitmq.message-broker/service-deleted
MassTransit.RabbitMqConnectionException: Broker unreachable: guest@rabbitmq.message-broker:5672/
 ---> RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, ArrayPool`1 pool, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IList`1 hostnames, String clientProvidedName)
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 85
   --- End of inner exception stack trace ---
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 111
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateSharedConnection(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 57
   at MassTransit.SupervisorExtensions.<>c__DisplayClass5_0`2.<<CreateAgent>g__HandleSupervisorTask|0>d.MoveNext() in /_/src/MassTransit/SupervisorExtensions.cs:line 139
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.RabbitMqTransport.ModelContextFactory.CreateSharedModel(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ModelContextFactory.cs:line 49
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
Endpoint Faulted: rabbitmq://rabbitmq.message-broker/service-status-changed
MassTransit.RabbitMqConnectionException: Broker unreachable: guest@rabbitmq.message-broker:5672/
 ---> RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, ArrayPool`1 pool, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IList`1 hostnames, String clientProvidedName)
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 85
   --- End of inner exception stack trace ---
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 111
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateSharedConnection(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 57
   at MassTransit.SupervisorExtensions.<>c__DisplayClass5_0`2.<<CreateAgent>g__HandleSupervisorTask|0>d.MoveNext() in /_/src/MassTransit/SupervisorExtensions.cs:line 139
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.RabbitMqTransport.ModelContextFactory.CreateSharedModel(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ModelContextFactory.cs:line 49
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 200
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.Run() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 128
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (122ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (33ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (26ms).
Initialized DbCommand for '"ExecuteScalar"' (50ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("241"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 57260)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/cf681b25ff8c_AppointmentsAPI_bus_eyyyyyfcnebrfao1bdqm4koggw?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-3N9r8tda8JafvYMsWSgI9w"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-IPuO8gam1b9I61pzxgDCDw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-sYnbgP3tStUrLwli9kpQKg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-pxMqoLQ01FwBu707q8_MUQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-pxMqoLQ01FwBu707q8_MUQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-3N9r8tda8JafvYMsWSgI9w"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-3N9r8tda8JafvYMsWSgI9w"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-pxMqoLQ01FwBu707q8_MUQ"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-sYnbgP3tStUrLwli9kpQKg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-sYnbgP3tStUrLwli9kpQKg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-IPuO8gam1b9I61pzxgDCDw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-IPuO8gam1b9I61pzxgDCDw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/cf681b25ff8c_AppointmentsAPI_bus_eyyyyyfcnebrfao1bdqm4koggw?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/cf681b25ff8c_AppointmentsAPI_bus_eyyyyyfcnebrfao1bdqm4koggw?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (142ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (22ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (21ms).
Initialized DbCommand for '"ExecuteScalar"' (44ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("437"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (20ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 55330)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/cf681b25ff8c_AppointmentsAPI_bus_royoyyfcnebrrm8sbdqm4mkina?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-C29ZHF2jcQAKcqj-L-quEw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-egMvZbXWUmwf2EU4m7OAfw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-K6bsVNw46vnzgyAkKwMn0Q"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-FlCJZGtir2lhJUC5Ko5FwQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-K6bsVNw46vnzgyAkKwMn0Q"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-FlCJZGtir2lhJUC5Ko5FwQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-egMvZbXWUmwf2EU4m7OAfw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-egMvZbXWUmwf2EU4m7OAfw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-FlCJZGtir2lhJUC5Ko5FwQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-K6bsVNw46vnzgyAkKwMn0Q"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-C29ZHF2jcQAKcqj-L-quEw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-C29ZHF2jcQAKcqj-L-quEw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/cf681b25ff8c_AppointmentsAPI_bus_royoyyfcnebrrm8sbdqm4mkina?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/cf681b25ff8c_AppointmentsAPI_bus_royoyyfcnebrrm8sbdqm4mkina?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (183ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (40ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (43ms).
Initialized DbCommand for '"ExecuteScalar"' (75ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("356"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (11ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 47906)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/cf681b25ff8c_AppointmentsAPI_bus_acyoyyfcnebrrm6gbdqm4mwuy3?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-cnbVWSUXF6B9eZNn4MYFkw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-QsS6A715LmeZ9SPAuhsGRg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-MsVYCO_bBkeG-ypK4Ug8EQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-rQeR1vEN9YPsuYdgpareBA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-QsS6A715LmeZ9SPAuhsGRg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-rQeR1vEN9YPsuYdgpareBA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-MsVYCO_bBkeG-ypK4Ug8EQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-QsS6A715LmeZ9SPAuhsGRg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-rQeR1vEN9YPsuYdgpareBA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-MsVYCO_bBkeG-ypK4Ug8EQ"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-cnbVWSUXF6B9eZNn4MYFkw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-cnbVWSUXF6B9eZNn4MYFkw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/cf681b25ff8c_AppointmentsAPI_bus_acyoyyfcnebrrm6gbdqm4mwuy3?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/cf681b25ff8c_AppointmentsAPI_bus_acyoyyfcnebrrm6gbdqm4mwuy3?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (95ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (25ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (41ms).
Initialized DbCommand for '"ExecuteScalar"' (63ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("507"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (20ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 48782)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/aa492b3766b0_AppointmentsAPI_bus_eeyyyyfcnobrr7g1bdqm4c9pbr?temporary=true
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-t-Z3vu0S8wszStKq3aZ-dw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Yj1TmRQTJrrUQECEVZ2c0Q"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-NBeRodomPCmLESOnLhLRJg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-s-3P98vvER62ZG0N_E0eMg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Yj1TmRQTJrrUQECEVZ2c0Q"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-s-3P98vvER62ZG0N_E0eMg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-t-Z3vu0S8wszStKq3aZ-dw"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-Yj1TmRQTJrrUQECEVZ2c0Q"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-s-3P98vvER62ZG0N_E0eMg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-t-Z3vu0S8wszStKq3aZ-dw"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-NBeRodomPCmLESOnLhLRJg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-NBeRodomPCmLESOnLhLRJg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/aa492b3766b0_AppointmentsAPI_bus_eeyyyyfcnobrr7g1bdqm4c9pbr?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/aa492b3766b0_AppointmentsAPI_bus_eeyyyyfcnobrr7g1bdqm4c9pbr?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (144ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (37ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (30ms).
Initialized DbCommand for '"ExecuteScalar"' (62ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("412"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (73ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 53534)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/aa492b3766b0_AppointmentsAPI_bus_eoyoyyfcnobrri5obdqm4qg1ff?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Nhkr7J3AJ76ytG1bN-FylA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-GMIJuhvuFRrYwCQondT8sQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-jLdFkU_IdQN-wBxVvNChlQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-YOY1mI-UI6CeYTsuuK0BRw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Nhkr7J3AJ76ytG1bN-FylA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-GMIJuhvuFRrYwCQondT8sQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-YOY1mI-UI6CeYTsuuK0BRw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-jLdFkU_IdQN-wBxVvNChlQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-Nhkr7J3AJ76ytG1bN-FylA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-GMIJuhvuFRrYwCQondT8sQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-jLdFkU_IdQN-wBxVvNChlQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-YOY1mI-UI6CeYTsuuK0BRw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/aa492b3766b0_AppointmentsAPI_bus_eoyoyyfcnobrri5obdqm4qg1ff?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/aa492b3766b0_AppointmentsAPI_bus_eoyoyyfcnobrri5obdqm4qg1ff?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (173ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (51ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (50ms).
Initialized DbCommand for '"ExecuteScalar"' (87ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("458"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (32ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 56392)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_zeyyyyfcnwbrf6d8bdqm4xc5y1?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Bind queue: "source: service-created, destination: service-created"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Declare exchange: "name: service-updated, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-Qf9PoEwVudCGCykkj1bbBw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-l4rZZTZGX8Z-nQUcGQlBTw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-ysCLlXseKJqaOJj9wHKQSg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-HNulq5ptrsqjovlQFFlufA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-HNulq5ptrsqjovlQFFlufA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-l4rZZTZGX8Z-nQUcGQlBTw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-ysCLlXseKJqaOJj9wHKQSg"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-l4rZZTZGX8Z-nQUcGQlBTw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-HNulq5ptrsqjovlQFFlufA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-ysCLlXseKJqaOJj9wHKQSg"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-Qf9PoEwVudCGCykkj1bbBw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-Qf9PoEwVudCGCykkj1bbBw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_zeyyyyfcnwbrf6d8bdqm4xc5y1?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_zeyyyyfcnwbrf6d8bdqm4xc5y1?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (147ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (40ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (23ms).
Initialized DbCommand for '"ExecuteScalar"' (65ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("221"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (25ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 58280)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_ceyoyyfcnwbrfh9rbdqm4xazrb?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-5dCbqqGHAu0cUUf0-tMdyQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-n728VZfIrPOwr9qqS5KMEQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-XNiDwU91bJvcQVMbwjQlRA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-fPjcgAE_KDFLQQuTSobm4A"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-n728VZfIrPOwr9qqS5KMEQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-fPjcgAE_KDFLQQuTSobm4A"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-XNiDwU91bJvcQVMbwjQlRA"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-5dCbqqGHAu0cUUf0-tMdyQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-5dCbqqGHAu0cUUf0-tMdyQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-fPjcgAE_KDFLQQuTSobm4A"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-n728VZfIrPOwr9qqS5KMEQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-XNiDwU91bJvcQVMbwjQlRA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_ceyoyyfcnwbrfh9rbdqm4xazrb?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_ceyoyyfcnwbrfh9rbdqm4xazrb?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (186ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (37ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (37ms).
Initialized DbCommand for '"ExecuteScalar"' (62ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("319"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (29ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 56350)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_hwyoyyfcnwbrriq4bdqm4x7nf8?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-SLLXzXp2vlF6M8qMTL43sQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-zN9DuMs-mWeINN9lLDQ_wA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-Ute05UnXXuVi-W2Gz9_jKQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-QNzH4iag1O-lRwunh5mIZQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-zN9DuMs-mWeINN9lLDQ_wA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-SLLXzXp2vlF6M8qMTL43sQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-Ute05UnXXuVi-W2Gz9_jKQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-QNzH4iag1O-lRwunh5mIZQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-zN9DuMs-mWeINN9lLDQ_wA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-SLLXzXp2vlF6M8qMTL43sQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-Ute05UnXXuVi-W2Gz9_jKQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-QNzH4iag1O-lRwunh5mIZQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_hwyoyyfcnwbrriq4bdqm4x7nf8?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_hwyoyyfcnwbrriq4bdqm4x7nf8?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (222ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (70ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (67ms).
Initialized DbCommand for '"ExecuteScalar"' (93ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("289"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (50ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 36536)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_orbyyyfcnwbrfeibbdqm4ofmrw?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-CLUQfE59Xw8Ge-uZMPwQ_Q"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-CI76mpe1XZcxXvtoTFcPow"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-3qmrtdbaPFW_jyaRfcdEig"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-8CiZdKpRlTHoVr6azYCxFQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-8CiZdKpRlTHoVr6azYCxFQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-3qmrtdbaPFW_jyaRfcdEig"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-CI76mpe1XZcxXvtoTFcPow"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-CLUQfE59Xw8Ge-uZMPwQ_Q"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-3qmrtdbaPFW_jyaRfcdEig"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-CLUQfE59Xw8Ge-uZMPwQ_Q"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-CI76mpe1XZcxXvtoTFcPow"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-8CiZdKpRlTHoVr6azYCxFQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_orbyyyfcnwbrfeibbdqm4ofmrw?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_orbyyyfcnwbrfeibbdqm4ofmrw?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (95ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (32ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (30ms).
Initialized DbCommand for '"ExecuteScalar"' (60ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("205"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (24ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 60366)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_gwboyyfcnwbrfn4cbdqm4oo8r3?temporary=true
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-5wVUOiekXx0PbCsSV3hPqQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-VYKVo42ess-1FAsRhC-y3A"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-ySOfI1qd6CFEc3onpR_dLQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-fvvWXt991TTB-wuixfyylg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-5wVUOiekXx0PbCsSV3hPqQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-5wVUOiekXx0PbCsSV3hPqQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-VYKVo42ess-1FAsRhC-y3A"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-VYKVo42ess-1FAsRhC-y3A"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-ySOfI1qd6CFEc3onpR_dLQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-ySOfI1qd6CFEc3onpR_dLQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-fvvWXt991TTB-wuixfyylg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-fvvWXt991TTB-wuixfyylg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_gwboyyfcnwbrfn4cbdqm4oo8r3?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_gwboyyfcnwbrfn4cbdqm4oo8r3?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (209ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (20ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (30ms).
Initialized DbCommand for '"ExecuteScalar"' (60ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("223"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (17ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 52516)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_zhboyyfcnwbrf18fbdqm4oi78b?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-9vGNvZvWZO3t37Vkx14qww"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-aYEoHaT3fD9kkPDTUYCA7A"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-epJiIDu4aNcuaYCVCc1xww"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-b-5qAzVg_SMjcU3JddU-og"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-b-5qAzVg_SMjcU3JddU-og"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-9vGNvZvWZO3t37Vkx14qww"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-aYEoHaT3fD9kkPDTUYCA7A"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-epJiIDu4aNcuaYCVCc1xww"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-9vGNvZvWZO3t37Vkx14qww"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-b-5qAzVg_SMjcU3JddU-og"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-aYEoHaT3fD9kkPDTUYCA7A"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-epJiIDu4aNcuaYCVCc1xww"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_zhboyyfcnwbrf18fbdqm4oi78b?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_zhboyyfcnwbrf18fbdqm4oi78b?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (274ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (40ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (63ms).
Initialized DbCommand for '"ExecuteScalar"' (102ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("434"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (21ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 60132)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_thnyyyfcnwbrr1ttbdqm4tcxnu?temporary=true
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-PDzI-KiAaGyXjnrqZZvtwQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-FovALNPa1e-4Q2pe0xthIg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-wEK8SfbYn2RqXXX0Gi-ASg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-4XNCVs6OPZ6hmGi5cmPNWw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-wEK8SfbYn2RqXXX0Gi-ASg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-PDzI-KiAaGyXjnrqZZvtwQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-4XNCVs6OPZ6hmGi5cmPNWw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-FovALNPa1e-4Q2pe0xthIg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-wEK8SfbYn2RqXXX0Gi-ASg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-4XNCVs6OPZ6hmGi5cmPNWw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-FovALNPa1e-4Q2pe0xthIg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-PDzI-KiAaGyXjnrqZZvtwQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_thnyyyfcnwbrr1ttbdqm4tcxnu?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_thnyyyfcnwbrr1ttbdqm4tcxnu?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (111ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (52ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (67ms).
Initialized DbCommand for '"ExecuteScalar"' (95ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("292"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (14ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 37546)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_gcnoyyfcnwbrre95bdqm4tauna?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-R83n_NkrxR66eD9UB35JCA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-n4Su0fnie93AEogAGV7VvQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-KL1r_2T6bRnnIWbVk7jzEA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-4Ad9-Kbsf2YtGjM0LVWAvg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (119ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (44ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (38ms).
Initialized DbCommand for '"ExecuteScalar"' (61ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("305"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (17ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 59192)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_4anoyyfcnwbrfcw3bdqm41j38s?temporary=true
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-AwamYurAm5qaCN-NA47dJg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-vtj7t1hb4QySEKkTnUvX9w"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-wIjZfgr0UY9vsPnrM-eOzQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-Z4lHqisduxAUXiZHnFRwsQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-vtj7t1hb4QySEKkTnUvX9w"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-wIjZfgr0UY9vsPnrM-eOzQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-AwamYurAm5qaCN-NA47dJg"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-Z4lHqisduxAUXiZHnFRwsQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-wIjZfgr0UY9vsPnrM-eOzQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-AwamYurAm5qaCN-NA47dJg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-Z4lHqisduxAUXiZHnFRwsQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-vtj7t1hb4QySEKkTnUvX9w"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_4anoyyfcnwbrfcw3bdqm41j38s?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_4anoyyfcnwbrfcw3bdqm41j38s?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (130ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (38ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (39ms).
Initialized DbCommand for '"ExecuteScalar"' (59ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("247"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (12ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 50210)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_prdyyyfcnwbrf91jbdqm41xg88?temporary=true
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-wePdYbrDns_RNJNnVQODTw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-1JCb0uovq1Gw2lAaNo12zg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-vP-u8pytiHnxOojUDSbGRQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-ynXG-Wyqpot5SwPFF13uqA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (274ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (22ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (22ms).
Initialized DbCommand for '"ExecuteScalar"' (35ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("217"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 53980)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_xedoyyfcnwbrrjhgbdqm4aae8x?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-Ix4yxLzLIHbJvaTNDhiAOA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-SG7FqogeO-PpHAY5bTV-jw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-EtLXIX541f9PtswaGzNDFQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-yS3xmt1Wa4hj3YnI_xyN8A"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-EtLXIX541f9PtswaGzNDFQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-EtLXIX541f9PtswaGzNDFQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-yS3xmt1Wa4hj3YnI_xyN8A"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-yS3xmt1Wa4hj3YnI_xyN8A"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-Ix4yxLzLIHbJvaTNDhiAOA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-Ix4yxLzLIHbJvaTNDhiAOA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-SG7FqogeO-PpHAY5bTV-jw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-SG7FqogeO-PpHAY5bTV-jw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_xedoyyfcnwbrrjhgbdqm4aae8x?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_xedoyyfcnwbrrjhgbdqm4aae8x?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (524ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (40ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (29ms).
Initialized DbCommand for '"ExecuteScalar"' (57ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("541"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (22ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 45594)
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_yaryyyfcnwbrrcuxbdqm43y7dt?temporary=true
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-0mBdTYPBibtprXyr0GJf2Q"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-_Pi1dIzgJM50m1bBcjbWVA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-pBrTvPb9WiJcKeuedhsZWg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-ag7_-H5Vh25M5C3mFrCwdg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-pBrTvPb9WiJcKeuedhsZWg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-pBrTvPb9WiJcKeuedhsZWg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-_Pi1dIzgJM50m1bBcjbWVA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-_Pi1dIzgJM50m1bBcjbWVA"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-ag7_-H5Vh25M5C3mFrCwdg"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-ag7_-H5Vh25M5C3mFrCwdg"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-0mBdTYPBibtprXyr0GJf2Q"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-0mBdTYPBibtprXyr0GJf2Q"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_yaryyyfcnwbrrcuxbdqm43y7dt?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_yaryyyfcnwbrrcuxbdqm43y7dt?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (176ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (56ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (34ms).
Initialized DbCommand for '"ExecuteScalar"' (83ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("556"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (26ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 45822)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_ioryyyfcnwbrrq7cbdqm43pgy4?temporary=true
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-wxnC4lqveY6nampRef7T8Q"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-3K0wTR4nzrJbh1pBbxsBew"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag--AqsGpXXsmUpiJyaT6gBwQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-ZhhNqMYMjeN8rpFMiAQpdg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-wxnC4lqveY6nampRef7T8Q"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag--AqsGpXXsmUpiJyaT6gBwQ"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-3K0wTR4nzrJbh1pBbxsBew"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-ZhhNqMYMjeN8rpFMiAQpdg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-3K0wTR4nzrJbh1pBbxsBew"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag--AqsGpXXsmUpiJyaT6gBwQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-wxnC4lqveY6nampRef7T8Q"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-ZhhNqMYMjeN8rpFMiAQpdg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_ioryyyfcnwbrrq7cbdqm43pgy4?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_ioryyyfcnwbrrq7cbdqm43pgy4?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (111ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (176ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (127ms).
Initialized DbCommand for '"ExecuteScalar"' (196ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("460"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (49ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 40918)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_keroyyfcnwbrferebdqm43szg7?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-hXEkTcKWyQYbKwS6HsQ7bA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-Owih_3Syttu0MyPly8bGBQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-yZT5_qRYFT5z4oHLD-ZnVw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Jx7Iyd5N-4cvX3LtLOtRlw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Jx7Iyd5N-4cvX3LtLOtRlw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-yZT5_qRYFT5z4oHLD-ZnVw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-Owih_3Syttu0MyPly8bGBQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-hXEkTcKWyQYbKwS6HsQ7bA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-Jx7Iyd5N-4cvX3LtLOtRlw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-yZT5_qRYFT5z4oHLD-ZnVw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-hXEkTcKWyQYbKwS6HsQ7bA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-Owih_3Syttu0MyPly8bGBQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_keroyyfcnwbrferebdqm43szg7?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_keroyyfcnwbrferebdqm43szg7?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (72ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (16ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (23ms).
Initialized DbCommand for '"ExecuteScalar"' (35ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("228"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (63ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 34148)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/28108f67bb90_AppointmentsAPI_bus_jrfyyyfcnwbrfjdtbdqm44zpn7?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-Sw17_GD9qivGsoF9_jy_Ug"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-nnArCNTHPd13zCf_Qzdayg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-46OSjHcNjDRQqcrFm3IFSQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-qiKQLbf2IPj3RPXsbZmHXg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (253ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (17ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (18ms).
Initialized DbCommand for '"ExecuteScalar"' (31ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("228"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (15ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 45708)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/009de869e5c5_AppointmentsAPI_bus_ehyyyyfcnwbrrj4dbdqm53tzbp?temporary=true
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-6lwYUDmd_efM_ntP80sfqQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-MaTuSxIswAOs2NME9Ha2Zg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-wkZlZnPtZtKMEjXtP5QL2w"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-i9ipE94XqK4ew24KZF_vHw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5TSOU4TH6D"" accepted.
Connection id ""0HN5TSOU4TH6D"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
Wildcard detected, all requests with hosts will be allowed.
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN5TSOU4TH6D"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 192.2888ms
Connection id ""0HN5TSOU4TH6E"" accepted.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/swagger-ui.css""" - null null
Connection id ""0HN5TSOU4TH6E"" started.
Connection id ""0HN5TSOU4TH6F"" accepted.
No candidates found for the request path '"/swagger/swagger-ui.css"'
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.css""" - null null
Connection id ""0HN5TSOU4TH6F"" started.
No candidates found for the request path '"/swagger/index.css"'
Request did not match any endpoints
Connection id ""0HN5TSOU4TH6G"" accepted.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/swagger-ui-standalone-preset.js""" - null null
Request did not match any endpoints
Connection id ""0HN5TSOU4TH6G"" started.
No candidates found for the request path '"/swagger/swagger-ui-standalone-preset.js"'
Connection id ""0HN5TSOU4TH6H"" accepted.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/swagger-ui-bundle.js""" - null null
Request did not match any endpoints
Connection id ""0HN5TSOU4TH6H"" started.
No candidates found for the request path '"/swagger/swagger-ui-bundle.js"'
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - null null
Request did not match any endpoints
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Connection id ""0HN5TSOU4TH6H"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 66.3229ms
Sending file. Request path: '"/index.css"'. Physical path: '"N/A"'
Connection id ""0HN5TSOU4TH6E"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.css""" - 200 202 "text/css" 171.8583ms
Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
Connection id ""0HN5TSOU4TH6D"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/swagger-ui.css""" - 200 152034 "text/css" 248.3333ms
Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
Connection id ""0HN5TSOU4TH6F"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/swagger-ui-standalone-preset.js""" - 200 230293 "text/javascript" 275.2591ms
Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
Connection id ""0HN5TSOU4TH6G"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/swagger-ui-bundle.js""" - 200 1452753 "text/javascript" 494.2243ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/favicon-32x32.png""" - null null
No candidates found for the request path '"/swagger/favicon-32x32.png"'
Request did not match any endpoints
Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
Connection id ""0HN5TSOU4TH6F"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/favicon-32x32.png""" - 200 628 "image/png" 62.4175ms
Connection id ""0HN5TSOU4TH6G"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 554.4391ms
Connection id ""0HN5TSOU4TH6D"" received FIN.
Connection id ""0HN5TSOU4TH6E"" received FIN.
Connection id ""0HN5TSOU4TH6H"" received FIN.
Connection id ""0HN5TSOU4TH6E"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5TSOU4TH6D"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5TSOU4TH6H"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5TSOU4TH6E"" disconnecting.
Connection id ""0HN5TSOU4TH6D"" disconnecting.
Connection id ""0HN5TSOU4TH6H"" disconnecting.
Connection id ""0HN5TSOU4TH6E"" stopped.
Connection id ""0HN5TSOU4TH6D"" stopped.
Connection id ""0HN5TSOU4TH6H"" stopped.
Connection id ""0HN5TSOU4TH6G"" received FIN.
Connection id ""0HN5TSOU4TH6F"" received FIN.
Connection id ""0HN5TSOU4TH6G"" disconnecting.
Connection id ""0HN5TSOU4TH6G"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5TSOU4TH6F"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5TSOU4TH6F"" disconnecting.
Connection id ""0HN5TSOU4TH6F"" stopped.
Connection id ""0HN5TSOU4TH6G"" stopped.
Connection id ""0HN5TSOU4TH6I"" accepted.
Connection id ""0HN5TSOU4TH6I"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=1" - null null
1 candidate(s) found for the request path '"/api/Appointments/history"'
Endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"' with route pattern '"api/Appointments/history"' is valid for the request path '"/api/Appointments/history"'
Request matched endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Policy authentication schemes "" did not succeed
Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Doctor|Patient)"
HTTP "GET" "/api/Appointments/history" responded 500 in 223.7348 ms
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5TSOU4TH6I"", Request id ""0HN5TSOU4TH6I:00000001"": An unhandled exception was thrown by the application.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
Connection id ""0HN5TSOU4TH6I"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=1" - 500 0 null 1019.4777ms
Connection id ""0HN5TSOU4TH6I"" received FIN.
Connection id ""0HN5TSOU4TH6I"" disconnecting.
Connection id ""0HN5TSOU4TH6I"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5TSOU4TH6I"" stopped.
Connection id ""0HN5TSOU4TH6J"" accepted.
Connection id ""0HN5TSOU4TH6J"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=1" - null null
1 candidate(s) found for the request path '"/api/Appointments/history"'
Endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"' with route pattern '"api/Appointments/history"' is valid for the request path '"/api/Appointments/history"'
Request matched endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Policy authentication schemes "" did not succeed
Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Doctor|Patient)"
HTTP "GET" "/api/Appointments/history" responded 500 in 56.6033 ms
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5TSOU4TH6J"", Request id ""0HN5TSOU4TH6J:00000001"": An unhandled exception was thrown by the application.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
Connection id ""0HN5TSOU4TH6J"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=1" - 500 0 null 305.7786ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/1""" - null null
1 candidate(s) found for the request path '"/api/Results/1"'
Endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"' with route pattern '"api/Results/{id:int}"' is valid for the request path '"/api/Results/1"'
Request matched endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Policy authentication schemes "" did not succeed
Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Patient|Doctor)"
HTTP "GET" "/api/Results/1" responded 500 in 51.1909 ms
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5TSOU4TH6J"", Request id ""0HN5TSOU4TH6J:00000002"": An unhandled exception was thrown by the application.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
Connection id ""0HN5TSOU4TH6J"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/1""" - 500 0 null 178.9581ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create-result""?doctorId=1" - "application/json" 232
1 candidate(s) found for the request path '"/api/Results/create-result"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create-result"' is valid for the request path '"/api/Results/create-result"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Policy authentication schemes "" did not succeed
Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Doctor)"
HTTP "POST" "/api/Results/create-result" responded 500 in 8.8980 ms
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5TSOU4TH6J"", Request id ""0HN5TSOU4TH6J:00000003"": An unhandled exception was thrown by the application.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
Connection id ""0HN5TSOU4TH6J"" completed keep alive response.
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create-result""?doctorId=1" - 500 0 null 146.9964ms
Connection id ""0HN5TSOU4TH6J"", Request id ""0HN5TSOU4TH6J:00000003"": started reading request body.
Connection id ""0HN5TSOU4TH6J"", Request id ""0HN5TSOU4TH6J:00000003"": done reading request body.
Connection id ""0HN5TSOU4TH6J"" received FIN.
Connection id ""0HN5TSOU4TH6J"" disconnecting.
Connection id ""0HN5TSOU4TH6J"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5TSOU4TH6J"" stopped.
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-wkZlZnPtZtKMEjXtP5QL2w"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-i9ipE94XqK4ew24KZF_vHw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-MaTuSxIswAOs2NME9Ha2Zg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-6lwYUDmd_efM_ntP80sfqQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-wkZlZnPtZtKMEjXtP5QL2w"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-i9ipE94XqK4ew24KZF_vHw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-6lwYUDmd_efM_ntP80sfqQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-MaTuSxIswAOs2NME9Ha2Zg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/009de869e5c5_AppointmentsAPI_bus_ehyyyyfcnwbrrj4dbdqm53tzbp?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/009de869e5c5_AppointmentsAPI_bus_ehyyyyfcnwbrrj4dbdqm53tzbp?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (43ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (14ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (11ms).
Initialized DbCommand for '"ExecuteScalar"' (23ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("135"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 49558)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/009de869e5c5_AppointmentsAPI_bus_kwyoyyfcnwbrr8nbbdqm54o3nm?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-8-5-SOJzkvBIt3xjM-OdnQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-3HRiz30pHEGMxm0cPGfweg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-2v3J5Uv0YrhQzq4mwTjXeA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-ob4iL8iPh7hDjLn_ZZIvFQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5TT8NV0569"" accepted.
Connection id ""0HN5TT8NV0569"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/1""" - null null
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/1"'
Endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"' with route pattern '"api/Results/{id:int}"' is valid for the request path '"/api/Results/1"'
Request matched endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
Route matched with "{action = \"GetAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentResult(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed action "ResultsController.GetAppointmentResult (Appointments.API)" in 20.9007ms
Executed endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
HTTP "GET" "/api/Results/1" responded 500 in 164.2673 ms
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'ResultsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method12(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'ResultsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method12(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5TT8NV0569"", Request id ""0HN5TT8NV0569:00000001"": An unhandled exception was thrown by the application.
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'ResultsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method12(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
Connection id ""0HN5TT8NV0569"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/1""" - 500 0 null 608.3004ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/1""" - null null
1 candidate(s) found for the request path '"/api/Results/1"'
Endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"' with route pattern '"api/Results/{id:int}"' is valid for the request path '"/api/Results/1"'
Request matched endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
Route matched with "{action = \"GetAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentResult(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed action "ResultsController.GetAppointmentResult (Appointments.API)" in 7.7749ms
Executed endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
HTTP "GET" "/api/Results/1" responded 500 in 44.2033 ms
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'ResultsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method12(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'ResultsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method12(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5TT8NV0569"", Request id ""0HN5TT8NV0569:00000002"": An unhandled exception was thrown by the application.
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'ResultsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method12(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
Connection id ""0HN5TT8NV0569"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/1""" - 500 0 null 174.6978ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=1" - null null
1 candidate(s) found for the request path '"/api/Appointments/history"'
Endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"' with route pattern '"api/Appointments/history"' is valid for the request path '"/api/Appointments/history"'
Request matched endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Route matched with "{action = \"GetAppointmentHistory\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentHistory(Int32)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed action "AppointmentsController.GetAppointmentHistory (Appointments.API)" in 5.5324ms
Executed endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
HTTP "GET" "/api/Appointments/history" responded 500 in 62.9074 ms
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'AppointmentsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method20(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'AppointmentsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method20(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5TT8NV0569"", Request id ""0HN5TT8NV0569:00000003"": An unhandled exception was thrown by the application.
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'AppointmentsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method20(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
Connection id ""0HN5TT8NV0569"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=1" - 500 0 null 140.0362ms
Connection id ""0HN5TT8NV0569"" received FIN.
Connection id ""0HN5TT8NV0569"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5TT8NV0569"" disconnecting.
Connection id ""0HN5TT8NV0569"" stopped.
Connection id ""0HN5TT8NV056A"" accepted.
Connection id ""0HN5TT8NV056A"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/approve/2""" - null 0
1 candidate(s) found for the request path '"/api/Appointments/approve/2"'
Endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"' with route pattern '"api/Appointments/approve/{id:int}"' is valid for the request path '"/api/Appointments/approve/2"'
Request matched endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"'
Route matched with "{action = \"ApproveAppointment\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveAppointment(Int32)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed action "AppointmentsController.ApproveAppointment (Appointments.API)" in 15.8327ms
Executed endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"'
HTTP "POST" "/api/Appointments/approve/2" responded 500 in 150.6870 ms
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'AppointmentsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method28(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'AppointmentsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method28(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5TT8NV056A"", Request id ""0HN5TT8NV056A:00000001"": An unhandled exception was thrown by the application.
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'AppointmentsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method28(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
Connection id ""0HN5TT8NV056A"" completed keep alive response.
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/approve/2""" - 500 0 null 366.0501ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/4""" - null null
1 candidate(s) found for the request path '"/api/Results/download/4"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/4"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 6.4882ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/4" responded 500 in 75.2902 ms
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'ResultsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method36(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'ResultsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method36(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5TT8NV056A"", Request id ""0HN5TT8NV056A:00000002"": An unhandled exception was thrown by the application.
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'ResultsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method36(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
Connection id ""0HN5TT8NV056A"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/4""" - 500 0 null 210.5425ms
Application is shutting down...
Hosting stopping
Connection id ""0HN5TT8NV056A"" disconnecting.
Connection id ""0HN5TT8NV056A"" stopped.
Connection id ""0HN5TT8NV056A"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-8-5-SOJzkvBIt3xjM-OdnQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-ob4iL8iPh7hDjLn_ZZIvFQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-2v3J5Uv0YrhQzq4mwTjXeA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-3HRiz30pHEGMxm0cPGfweg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-ob4iL8iPh7hDjLn_ZZIvFQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-2v3J5Uv0YrhQzq4mwTjXeA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-3HRiz30pHEGMxm0cPGfweg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-8-5-SOJzkvBIt3xjM-OdnQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/009de869e5c5_AppointmentsAPI_bus_kwyoyyfcnwbrr8nbbdqm54o3nm?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/009de869e5c5_AppointmentsAPI_bus_kwyoyyfcnwbrr8nbbdqm54o3nm?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (134ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (13ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (12ms).
Initialized DbCommand for '"ExecuteScalar"' (31ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("143"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (16ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 37056)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/009de869e5c5_AppointmentsAPI_bus_7ryoyyfcnwbrrsm1bdqm54s9fu?temporary=true
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-AyZ6JGcVqrgQAtssOJLLUQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-uDNSVtTx3td4H8mgega1hg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-EMIhrtWZT3gvknFGT2_E0g"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-0qpQlXJi3qUnRtqP9-IO2A"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5TTD49FDP2"" accepted.
Connection id ""0HN5TTD49FDP2"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/4""" - null null
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/download/4"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/4"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 30.3264ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/4" responded 500 in 140.7891 ms
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'ResultsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method12(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'ResultsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method12(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5TTD49FDP2"", Request id ""0HN5TTD49FDP2:00000001"": An unhandled exception was thrown by the application.
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'ResultsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method12(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
Connection id ""0HN5TTD49FDP2"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/4""" - 500 0 null 585.3391ms
Connection id ""0HN5TTD49FDP2"" received FIN.
Connection id ""0HN5TTD49FDP2"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5TTD49FDP2"" disconnecting.
Connection id ""0HN5TTD49FDP2"" stopped.
Connection id ""0HN5TTD49FDP3"" accepted.
Connection id ""0HN5TTD49FDP3"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/4""" - null null
1 candidate(s) found for the request path '"/api/Results/download/4"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/4"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 20.9847ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/4" responded 500 in 92.3981 ms
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'ResultsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method12(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'ResultsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method12(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5TTD49FDP3"", Request id ""0HN5TTD49FDP3:00000001"": An unhandled exception was thrown by the application.
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'ResultsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method12(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
Connection id ""0HN5TTD49FDP3"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/4""" - 500 0 null 431.4846ms
Connection id ""0HN5TTD49FDP3"" received FIN.
Connection id ""0HN5TTD49FDP3"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5TTD49FDP3"" disconnecting.
Connection id ""0HN5TTD49FDP3"" stopped.
Connection id ""0HN5TTD49FDP4"" accepted.
Connection id ""0HN5TTD49FDP4"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/4""" - null null
1 candidate(s) found for the request path '"/api/Results/download/4"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/4"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 37.2678ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/4" responded 500 in 628.2062 ms
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'ResultsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method12(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'ResultsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method12(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5TTD49FDP4"", Request id ""0HN5TTD49FDP4:00000001"": An unhandled exception was thrown by the application.
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'ResultsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method12(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
Connection id ""0HN5TTD49FDP4"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/4""" - 500 0 null 1300.5691ms
Connection id ""0HN5TTD49FDP4"" received FIN.
Connection id ""0HN5TTD49FDP4"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5TTD49FDP4"" disconnecting.
Connection id ""0HN5TTD49FDP4"" stopped.
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-uDNSVtTx3td4H8mgega1hg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-AyZ6JGcVqrgQAtssOJLLUQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-0qpQlXJi3qUnRtqP9-IO2A"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-AyZ6JGcVqrgQAtssOJLLUQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-uDNSVtTx3td4H8mgega1hg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-0qpQlXJi3qUnRtqP9-IO2A"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-EMIhrtWZT3gvknFGT2_E0g"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-EMIhrtWZT3gvknFGT2_E0g"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/009de869e5c5_AppointmentsAPI_bus_7ryoyyfcnwbrrsm1bdqm54s9fu?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/009de869e5c5_AppointmentsAPI_bus_7ryoyyfcnwbrrsm1bdqm54s9fu?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (255ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (73ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (62ms).
Initialized DbCommand for '"ExecuteScalar"' (134ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("350"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (17ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 45188)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/009de869e5c5_AppointmentsAPI_bus_3cbyyyfcnwbrfdnsbdqm55mhfi?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-x4H847kG2G9toT7F990zIA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-Q60sGzH3VnEG43WV2oUp8g"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-u7nUmO__ajrrfRbUk8jJ1w"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-qadRxJ3xG443jUQd7aWyVQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5TTNB8AL0S"" accepted.
Connection id ""0HN5TTNB8AL0S"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/4""" - null null
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/download/4"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/4"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 49.052ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/4" responded 500 in 693.9473 ms
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'ResultsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method12(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'ResultsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method12(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5TTNB8AL0S"", Request id ""0HN5TTNB8AL0S:00000001"": An unhandled exception was thrown by the application.
System.InvalidOperationException: Unable to resolve service for type 'MapsterMapper.IMapper' while attempting to activate 'ResultsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method12(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
Connection id ""0HN5TTNB8AL0S"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/4""" - 500 0 null 2233.8296ms
Connection id ""0HN5TTNB8AL0S"" received FIN.
Connection id ""0HN5TTNB8AL0S"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5TTNB8AL0S"" disconnecting.
Connection id ""0HN5TTNB8AL0S"" stopped.
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-x4H847kG2G9toT7F990zIA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-qadRxJ3xG443jUQd7aWyVQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-Q60sGzH3VnEG43WV2oUp8g"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-u7nUmO__ajrrfRbUk8jJ1w"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-qadRxJ3xG443jUQd7aWyVQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-x4H847kG2G9toT7F990zIA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-Q60sGzH3VnEG43WV2oUp8g"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-u7nUmO__ajrrfRbUk8jJ1w"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/009de869e5c5_AppointmentsAPI_bus_3cbyyyfcnwbrfdnsbdqm55mhfi?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/009de869e5c5_AppointmentsAPI_bus_3cbyyyfcnwbrfdnsbdqm55mhfi?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (691ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (37ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (33ms).
Initialized DbCommand for '"ExecuteScalar"' (48ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("230"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (20ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 57748)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/009de869e5c5_AppointmentsAPI_bus_qeboyyfcnwbrrujhbdqm55s3b1?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-2TDxYeBxvczYeVunSQ4RIA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-00QCZiPVAT5ChPXcJkqfOw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-ha54-AiNegTk2ehJuoo61Q"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-WMVvwCshLI3102DTjYhOAg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5TTRH5CEVV"" accepted.
Connection id ""0HN5TTRH5CEVV"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/4""" - null null
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/download/4"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/4"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Results>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Results>(
    asyncEnumerable: new SingleQueryingEnumerable<Results>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Results.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Results.AppointmentId (int) Required FK Index, 1], [Property: Results.Complaints (string) Required, 2], [Property: Results.Conclusion (string) Required, 3], [Property: Results.Date (DateTime) Required, 4], [Property: Results.Recommendations (string) Required, 5] }
            SELECT TOP(1) r.Id, r.AppointmentId, r.Complaints, r.Conclusion, r.Date, r.Recommendations
            FROM Results AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Results>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (30ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Failed executing DbCommand ("112"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
An exception occurred while iterating over the results of a query for context type '"AppointmentsDbContext"'."
""Npgsql.PostgresException (0x80004005): 42P01: relation \"Results\" does not exist

POSITION: 102
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation \"Results\" does not exist
    Position: 102
    File: parse_relation.c
    Line: 1376
    Routine: parserOpenTable"
Npgsql.PostgresException (0x80004005): 42P01: relation "Results" does not exist

POSITION: 102
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Results" does not exist
    Position: 102
    File: parse_relation.c
    Line: 1376
    Routine: parserOpenTable
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 2101.7732ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/4" responded 500 in 2445.3179 ms
Npgsql.PostgresException (0x80004005): 42P01: relation "Results" does not exist

POSITION: 102
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AppointmentsResultRepository.GetResultsByIdAsync(Int32 id, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Infrastructure\Persistence\Repository\AppointmentsResultRepository.cs:line 35
   at DownloadAppointmentResultsQueryHandler.Handle(DownloadAppointmentResultsQuery request, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Application\Queries\Results\DownloadResults\DownloadAppointmentResultsQueryHandler.cs:line 6
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 23
   at ResultsController.DownloadAppointmentsResults(Int32 id) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Results" does not exist
    Position: 102
    File: parse_relation.c
    Line: 1376
    Routine: parserOpenTable
An unhandled exception has occurred while executing the request.
Npgsql.PostgresException (0x80004005): 42P01: relation "Results" does not exist

POSITION: 102
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AppointmentsResultRepository.GetResultsByIdAsync(Int32 id, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Infrastructure\Persistence\Repository\AppointmentsResultRepository.cs:line 35
   at DownloadAppointmentResultsQueryHandler.Handle(DownloadAppointmentResultsQuery request, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Application\Queries\Results\DownloadResults\DownloadAppointmentResultsQueryHandler.cs:line 6
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 23
   at ResultsController.DownloadAppointmentsResults(Int32 id) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Results" does not exist
    Position: 102
    File: parse_relation.c
    Line: 1376
    Routine: parserOpenTable
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5TTRH5CEVV"", Request id ""0HN5TTRH5CEVV:00000001"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42P01: relation "Results" does not exist

POSITION: 102
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AppointmentsResultRepository.GetResultsByIdAsync(Int32 id, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Infrastructure\Persistence\Repository\AppointmentsResultRepository.cs:line 35
   at DownloadAppointmentResultsQueryHandler.Handle(DownloadAppointmentResultsQuery request, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Application\Queries\Results\DownloadResults\DownloadAppointmentResultsQueryHandler.cs:line 6
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 23
   at ResultsController.DownloadAppointmentsResults(Int32 id) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Results" does not exist
    Position: 102
    File: parse_relation.c
    Line: 1376
    Routine: parserOpenTable
Connection id ""0HN5TTRH5CEVV"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (9ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/4""" - 500 0 null 5627.3929ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/4""" - null null
1 candidate(s) found for the request path '"/api/Results/download/4"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/4"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.7" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (13ms).
Initialized DbCommand for '"ExecuteReader"' (21ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Failed executing DbCommand ("40"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
An exception occurred while iterating over the results of a query for context type '"AppointmentsDbContext"'."
""Npgsql.PostgresException (0x80004005): 42P01: relation \"Results\" does not exist

POSITION: 102
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation \"Results\" does not exist
    Position: 102
    File: parse_relation.c
    Line: 1376
    Routine: parserOpenTable"
Npgsql.PostgresException (0x80004005): 42P01: relation "Results" does not exist

POSITION: 102
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Results" does not exist
    Position: 102
    File: parse_relation.c
    Line: 1376
    Routine: parserOpenTable
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 565.528ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/4" responded 500 in 649.8276 ms
Npgsql.PostgresException (0x80004005): 42P01: relation "Results" does not exist

POSITION: 102
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AppointmentsResultRepository.GetResultsByIdAsync(Int32 id, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Infrastructure\Persistence\Repository\AppointmentsResultRepository.cs:line 35
   at DownloadAppointmentResultsQueryHandler.Handle(DownloadAppointmentResultsQuery request, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Application\Queries\Results\DownloadResults\DownloadAppointmentResultsQueryHandler.cs:line 6
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 23
   at ResultsController.DownloadAppointmentsResults(Int32 id) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Results" does not exist
    Position: 102
    File: parse_relation.c
    Line: 1376
    Routine: parserOpenTable
An unhandled exception has occurred while executing the request.
Npgsql.PostgresException (0x80004005): 42P01: relation "Results" does not exist

POSITION: 102
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AppointmentsResultRepository.GetResultsByIdAsync(Int32 id, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Infrastructure\Persistence\Repository\AppointmentsResultRepository.cs:line 35
   at DownloadAppointmentResultsQueryHandler.Handle(DownloadAppointmentResultsQuery request, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Application\Queries\Results\DownloadResults\DownloadAppointmentResultsQueryHandler.cs:line 6
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 23
   at ResultsController.DownloadAppointmentsResults(Int32 id) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Results" does not exist
    Position: 102
    File: parse_relation.c
    Line: 1376
    Routine: parserOpenTable
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5TTRH5CEVV"", Request id ""0HN5TTRH5CEVV:00000002"": An unhandled exception was thrown by the application.
Npgsql.PostgresException (0x80004005): 42P01: relation "Results" does not exist

POSITION: 102
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at AppointmentsResultRepository.GetResultsByIdAsync(Int32 id, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Infrastructure\Persistence\Repository\AppointmentsResultRepository.cs:line 35
   at DownloadAppointmentResultsQueryHandler.Handle(DownloadAppointmentResultsQuery request, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Application\Queries\Results\DownloadResults\DownloadAppointmentResultsQueryHandler.cs:line 6
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 23
   at ResultsController.DownloadAppointmentsResults(Int32 id) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Results" does not exist
    Position: 102
    File: parse_relation.c
    Line: 1376
    Routine: parserOpenTable
Connection id ""0HN5TTRH5CEVV"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/4""" - 500 0 null 1225.6739ms
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Config reload token fired. Checking for changes...
Connection id ""0HN5TTRH5CEVV"" received FIN.
Connection id ""0HN5TTRH5CEVV"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5TTRH5CEVV"" disconnecting.
Connection id ""0HN5TTRH5CEVV"" stopped.
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Config reload token fired. Checking for changes...
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-00QCZiPVAT5ChPXcJkqfOw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-2TDxYeBxvczYeVunSQ4RIA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-WMVvwCshLI3102DTjYhOAg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-ha54-AiNegTk2ehJuoo61Q"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-2TDxYeBxvczYeVunSQ4RIA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-WMVvwCshLI3102DTjYhOAg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-ha54-AiNegTk2ehJuoo61Q"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-00QCZiPVAT5ChPXcJkqfOw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/009de869e5c5_AppointmentsAPI_bus_qeboyyfcnwbrrujhbdqm55s3b1?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/009de869e5c5_AppointmentsAPI_bus_qeboyyfcnwbrrujhbdqm55s3b1?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (132ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://localhost:5432"'.
An error occurred using the connection to database '"AppointmentsDb"' on server '"tcp://localhost:5432"'.
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (163ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://localhost:5432"'.
An error occurred using the connection to database '"AppointmentsDb"' on server '"tcp://localhost:5432"'.
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (154ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (30ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (21ms).
Initialized DbCommand for '"ExecuteScalar"' (36ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("404"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (15ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (25ms).
Initialized DbCommand for '"ExecuteScalar"' (37ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Migrating using database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (9ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (6ms).
Initialized DbCommand for '"ExecuteScalar"' (12ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("35"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (41ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (11ms).
Creating DbCommand for '"ExecuteNonQuery"'.
Created DbCommand for '"ExecuteNonQuery"' (1ms).
Initialized DbCommand for '"ExecuteNonQuery"' (14ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"__EFMigrationsHistory\" (
    \"MigrationId\" character varying(150) NOT NULL,
    \"ProductVersion\" character varying(32) NOT NULL,
    CONSTRAINT \"PK___EFMigrationsHistory\" PRIMARY KEY (\"MigrationId\")
);"
Executed DbCommand ("446"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"__EFMigrationsHistory\" (
    \"MigrationId\" character varying(150) NOT NULL,
    \"ProductVersion\" character varying(32) NOT NULL,
    CONSTRAINT \"PK___EFMigrationsHistory\" PRIMARY KEY (\"MigrationId\")
);"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (1ms).
Initialized DbCommand for '"ExecuteScalar"' (8ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (12ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (16ms).
Initialized DbCommand for '"ExecuteReader"' (21ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("62"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 26ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (23ms).
Applying migration '"20240816123914_InitialMigration"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Beginning transaction with isolation level '"Unspecified"'.
Began transaction with isolation level '"ReadCommitted"'.
Creating DbCommand for '"ExecuteNonQuery"'.
Created DbCommand for '"ExecuteNonQuery"' (4ms).
Initialized DbCommand for '"ExecuteNonQuery"' (9ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"Appointments\" (
    \"Id\" integer GENERATED BY DEFAULT AS IDENTITY,
    \"PatientId\" integer NOT NULL,
    \"DoctorId\" integer NOT NULL,
    \"ServiceId\" integer NOT NULL,
    \"Date\" timestamp with time zone NOT NULL,
    \"Time\" interval NOT NULL,
    \"IsApproved\" boolean NOT NULL,
    CONSTRAINT \"PK_Appointments\" PRIMARY KEY (\"Id\")
);"
Executed DbCommand ("100"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"Appointments\" (
    \"Id\" integer GENERATED BY DEFAULT AS IDENTITY,
    \"PatientId\" integer NOT NULL,
    \"DoctorId\" integer NOT NULL,
    \"ServiceId\" integer NOT NULL,
    \"Date\" timestamp with time zone NOT NULL,
    \"Time\" interval NOT NULL,
    \"IsApproved\" boolean NOT NULL,
    CONSTRAINT \"PK_Appointments\" PRIMARY KEY (\"Id\")
);"
Creating DbCommand for '"ExecuteNonQuery"'.
Created DbCommand for '"ExecuteNonQuery"' (2ms).
Initialized DbCommand for '"ExecuteNonQuery"' (4ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"Services\" (
    \"Id\" integer GENERATED BY DEFAULT AS IDENTITY,
    \"ServiceCategory\" integer NOT NULL,
    \"ServiceName\" text NOT NULL,
    \"IsActive\" boolean NOT NULL,
    CONSTRAINT \"PK_Services\" PRIMARY KEY (\"Id\")
);"
Executed DbCommand ("114"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"Services\" (
    \"Id\" integer GENERATED BY DEFAULT AS IDENTITY,
    \"ServiceCategory\" integer NOT NULL,
    \"ServiceName\" text NOT NULL,
    \"IsActive\" boolean NOT NULL,
    CONSTRAINT \"PK_Services\" PRIMARY KEY (\"Id\")
);"
Creating DbCommand for '"ExecuteNonQuery"'.
Created DbCommand for '"ExecuteNonQuery"' (13ms).
Initialized DbCommand for '"ExecuteNonQuery"' (28ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"Results\" (
    \"Id\" integer GENERATED BY DEFAULT AS IDENTITY,
    \"AppointmentId\" integer NOT NULL,
    \"Date\" timestamp with time zone NOT NULL,
    \"Complaints\" text NOT NULL,
    \"Conclusion\" text NOT NULL,
    \"Recommendations\" text NOT NULL,
    CONSTRAINT \"PK_Results\" PRIMARY KEY (\"Id\"),
    CONSTRAINT \"FK_Results_Appointments_AppointmentId\" FOREIGN KEY (\"AppointmentId\") REFERENCES \"Appointments\" (\"Id\") ON DELETE CASCADE
);"
Executed DbCommand ("193"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE \"Results\" (
    \"Id\" integer GENERATED BY DEFAULT AS IDENTITY,
    \"AppointmentId\" integer NOT NULL,
    \"Date\" timestamp with time zone NOT NULL,
    \"Complaints\" text NOT NULL,
    \"Conclusion\" text NOT NULL,
    \"Recommendations\" text NOT NULL,
    CONSTRAINT \"PK_Results\" PRIMARY KEY (\"Id\"),
    CONSTRAINT \"FK_Results_Appointments_AppointmentId\" FOREIGN KEY (\"AppointmentId\") REFERENCES \"Appointments\" (\"Id\") ON DELETE CASCADE
);"
Creating DbCommand for '"ExecuteNonQuery"'.
Created DbCommand for '"ExecuteNonQuery"' (10ms).
Initialized DbCommand for '"ExecuteNonQuery"' (13ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX \"IX_Results_AppointmentId\" ON \"Results\" (\"AppointmentId\");"
Executed DbCommand ("119"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX \"IX_Results_AppointmentId\" ON \"Results\" (\"AppointmentId\");"
Creating DbCommand for '"ExecuteNonQuery"'.
Created DbCommand for '"ExecuteNonQuery"' (46ms).
Initialized DbCommand for '"ExecuteNonQuery"' (61ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"__EFMigrationsHistory\" (\"MigrationId\", \"ProductVersion\")
VALUES ('20240816123914_InitialMigration', '8.0.8');"
Executed DbCommand ("62"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"__EFMigrationsHistory\" (\"MigrationId\", \"ProductVersion\")
VALUES ('20240816123914_InitialMigration', '8.0.8');"
Committing transaction.
Committed transaction.
Disposing transaction.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (25ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 32852)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/009de869e5c5_AppointmentsAPI_bus_8hyyyyfcnwbrr1cybdqm5hxog1?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-UZFdBu6zIISue1qmW56SPw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-BiNXQOiZMT-PHrxTyWoeug"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-YTi7V4yp5X9z7k0qfoZ12w"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-vIK_vLwTWgli_P6qyUNc6A"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5TU7PMEAR2"" accepted.
Connection id ""0HN5TU7PMEAR2"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/4""" - null null
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/download/4"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/4"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Results>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Results>(
    asyncEnumerable: new SingleQueryingEnumerable<Results>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Results.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Results.AppointmentId (int) Required FK Index, 1], [Property: Results.Complaints (string) Required, 2], [Property: Results.Conclusion (string) Required, 3], [Property: Results.Date (DateTime) Required, 4], [Property: Results.Recommendations (string) Required, 5] }
            SELECT TOP(1) r.Id, r.AppointmentId, r.Complaints, r.Conclusion, r.Date, r.Recommendations
            FROM Results AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Results>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (10ms).
Initialized DbCommand for '"ExecuteReader"' (30ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("84"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 41ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (12ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 1546.4805ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
request System.Func`1[System.String] returns 404
HTTP "GET" "/api/Results/download/4" responded 404 in 1836.1425 ms
Connection id ""0HN5TU7PMEAR2"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/4""" - 404 0 "application/problem+json; charset=utf-8" 2327.2213ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/1""" - null null
1 candidate(s) found for the request path '"/api/Results/1"'
Endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"' with route pattern '"api/Results/{id:int}"' is valid for the request path '"/api/Results/1"'
Request matched endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
Route matched with "{action = \"GetAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentResult(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (7ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 20ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.GetAppointmentResult (Appointments.API)" in 2487.1348ms
Executed endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
request System.Func`1[System.String] returns 404
HTTP "GET" "/api/Results/1" responded 404 in 2616.5709 ms
Connection id ""0HN5TU7PMEAR2"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (11ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/1""" - 404 0 "application/problem+json; charset=utf-8" 2749.8159ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN5TU7PMEAR2"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 581.0857ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/swagger-ui-standalone-preset.js""" - null null
Connection id ""0HN5TU7PMEAR2"" received FIN.
No candidates found for the request path '"/swagger/swagger-ui-standalone-preset.js"'
Connection id ""0HN5TU7PMEAR3"" accepted.
Connection id ""0HN5TU7PMEAR2"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Request did not match any endpoints
Connection id ""0HN5TU7PMEAR3"" started.
Connection id ""0HN5TU7PMEAR2"" disconnecting.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - null null
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Connection id ""0HN5TU7PMEAR3"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 109.2487ms
The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/swagger-ui-standalone-preset.js""" - 499 230293 "text/javascript" 380.2921ms
Connection id ""0HN5TU7PMEAR2"" stopped.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/favicon-32x32.png""" - null null
No candidates found for the request path '"/swagger/favicon-32x32.png"'
Connection id ""0HN5TU7PMEAR3"" received FIN.
Request did not match any endpoints
Connection id ""0HN5TU7PMEAR3"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5TU7PMEAR3"" disconnecting.
The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.StreamCopyOperationInternal.CopyToAsync(Stream source, Stream destination, Nullable`1 count, Int32 bufferSize, CancellationToken cancel)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/favicon-32x32.png""" - 499 628 "image/png" 84.0929ms
Connection id ""0HN5TU7PMEAR3"" stopped.
Connection id ""0HN5TU7PMEAR4"" accepted.
Connection id ""0HN5TU7PMEAR4"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Connection id ""0HN5TU7PMEAR4"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 651.5348ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create-result""" - "application/json" 232
1 candidate(s) found for the request path '"/api/Results/create-result"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create-result"' is valid for the request path '"/api/Results/create-result"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5TU7PMEAR4"", Request id ""0HN5TU7PMEAR4:00000002"": started reading request body.
Connection id ""0HN5TU7PMEAR4"", Request id ""0HN5TU7PMEAR4:00000002"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 1179.4544ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create-result" responded 500 in 1660.9577 ms
FluentValidation.ValidationException: Validation failed: 
 -- DateofBirth: 'Dateof Birth' must not be empty. Severity: Error
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 20
   at ResultsController.CreateAppointmentResult(CreateAppointmentResultRequest request) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
FluentValidation.ValidationException: Validation failed: 
 -- DateofBirth: 'Dateof Birth' must not be empty. Severity: Error
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 20
   at ResultsController.CreateAppointmentResult(CreateAppointmentResultRequest request) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5TU7PMEAR4"", Request id ""0HN5TU7PMEAR4:00000002"": An unhandled exception was thrown by the application.
FluentValidation.ValidationException: Validation failed: 
 -- DateofBirth: 'Dateof Birth' must not be empty. Severity: Error
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 20
   at ResultsController.CreateAppointmentResult(CreateAppointmentResultRequest request) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
Connection id ""0HN5TU7PMEAR4"" completed keep alive response.
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create-result""" - 500 0 null 2331.1876ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.3417ms - processed: 0 items - remaining: 1 items
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create-result""" - "application/json" 232
1 candidate(s) found for the request path '"/api/Results/create-result"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create-result"' is valid for the request path '"/api/Results/create-result"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5TU7PMEAR4"", Request id ""0HN5TU7PMEAR4:00000003"": started reading request body.
Connection id ""0HN5TU7PMEAR4"", Request id ""0HN5TU7PMEAR4:00000003"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 182.6784ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create-result" responded 500 in 283.1401 ms
FluentValidation.ValidationException: Validation failed: 
 -- DateofBirth: 'Dateof Birth' must not be empty. Severity: Error
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 20
   at ResultsController.CreateAppointmentResult(CreateAppointmentResultRequest request) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
FluentValidation.ValidationException: Validation failed: 
 -- DateofBirth: 'Dateof Birth' must not be empty. Severity: Error
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 20
   at ResultsController.CreateAppointmentResult(CreateAppointmentResultRequest request) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5TU7PMEAR4"", Request id ""0HN5TU7PMEAR4:00000003"": An unhandled exception was thrown by the application.
FluentValidation.ValidationException: Validation failed: 
 -- DateofBirth: 'Dateof Birth' must not be empty. Severity: Error
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 20
   at ResultsController.CreateAppointmentResult(CreateAppointmentResultRequest request) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
Connection id ""0HN5TU7PMEAR4"" completed keep alive response.
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create-result""" - 500 0 null 1168.7671ms
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 22.7645ms - processed: 1 items - remaining: 0 items
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/2""" - null null
1 candidate(s) found for the request path '"/api/Results/download/2"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/2"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (27ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (23ms).
Initialized DbCommand for '"ExecuteReader"' (45ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("169"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 15ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (9ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 977.7006ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
request System.Func`1[System.String] returns 404
HTTP "GET" "/api/Results/download/2" responded 404 in 1311.2378 ms
Connection id ""0HN5TU7PMEAR4"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (9ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/2""" - 404 0 "application/problem+json; charset=utf-8" 1819.6093ms
Connection id ""0HN5TU7PMEAR4"" received FIN.
Connection id ""0HN5TU7PMEAR4"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5TU7PMEAR4"" disconnecting.
Connection id ""0HN5TU7PMEAR4"" stopped.
Connection id ""0HN5TU7PMEAR5"" accepted.
Connection id ""0HN5TU7PMEAR5"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create-result""" - "application/json" 232
1 candidate(s) found for the request path '"/api/Results/create-result"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create-result"' is valid for the request path '"/api/Results/create-result"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5TU7PMEAR5"", Request id ""0HN5TU7PMEAR5:00000001"": started reading request body.
Connection id ""0HN5TU7PMEAR5"", Request id ""0HN5TU7PMEAR5:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 461.482ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create-result" responded 500 in 635.6243 ms
FluentValidation.ValidationException: Validation failed: 
 -- DateofBirth: 'Dateof Birth' must not be empty. Severity: Error
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 20
   at ResultsController.CreateAppointmentResult(CreateAppointmentResultRequest request) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
FluentValidation.ValidationException: Validation failed: 
 -- DateofBirth: 'Dateof Birth' must not be empty. Severity: Error
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 20
   at ResultsController.CreateAppointmentResult(CreateAppointmentResultRequest request) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5TU7PMEAR5"", Request id ""0HN5TU7PMEAR5:00000001"": An unhandled exception was thrown by the application.
FluentValidation.ValidationException: Validation failed: 
 -- DateofBirth: 'Dateof Birth' must not be empty. Severity: Error
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 20
   at ResultsController.CreateAppointmentResult(CreateAppointmentResultRequest request) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
Connection id ""0HN5TU7PMEAR5"" completed keep alive response.
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create-result""" - 500 0 null 1320.3793ms
Application is shutting down...
Hosting stopping
Connection id ""0HN5TU7PMEAR5"" disconnecting.
Connection id ""0HN5TU7PMEAR5"" stopped.
Connection id ""0HN5TU7PMEAR5"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-vIK_vLwTWgli_P6qyUNc6A"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-BiNXQOiZMT-PHrxTyWoeug"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-YTi7V4yp5X9z7k0qfoZ12w"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-UZFdBu6zIISue1qmW56SPw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-BiNXQOiZMT-PHrxTyWoeug"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-UZFdBu6zIISue1qmW56SPw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-YTi7V4yp5X9z7k0qfoZ12w"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-vIK_vLwTWgli_P6qyUNc6A"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/009de869e5c5_AppointmentsAPI_bus_8hyyyyfcnwbrr1cybdqm5hxog1?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/009de869e5c5_AppointmentsAPI_bus_8hyyyyfcnwbrr1cybdqm5hxog1?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (152ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (37ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (21ms).
Initialized DbCommand for '"ExecuteScalar"' (60ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("352"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (33ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (23ms).
Initialized DbCommand for '"ExecuteReader"' (36ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("77"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 45ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (10ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 40430)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/009de869e5c5_AppointmentsAPI_bus_khyoyyfcnwbrf3ecbdqm57aqgs?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-JyeJv_NOqOofq2q-8QMwFw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-rgRUbpN2lsOaNR2xYEUCkQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-2cOOnLQ0MJ3O5cD17eqCZw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-bOBS18sI3Vzb07uWszTfFg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-JyeJv_NOqOofq2q-8QMwFw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-bOBS18sI3Vzb07uWszTfFg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-rgRUbpN2lsOaNR2xYEUCkQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-2cOOnLQ0MJ3O5cD17eqCZw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-rgRUbpN2lsOaNR2xYEUCkQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-bOBS18sI3Vzb07uWszTfFg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-JyeJv_NOqOofq2q-8QMwFw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-2cOOnLQ0MJ3O5cD17eqCZw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/009de869e5c5_AppointmentsAPI_bus_khyoyyfcnwbrf3ecbdqm57aqgs?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/009de869e5c5_AppointmentsAPI_bus_khyoyyfcnwbrf3ecbdqm57aqgs?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (100ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (29ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (16ms).
Initialized DbCommand for '"ExecuteScalar"' (35ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("230"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (12ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (15ms).
Initialized DbCommand for '"ExecuteReader"' (21ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("50"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 35ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (183ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (42ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (37ms).
Initialized DbCommand for '"ExecuteScalar"' (66ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("338"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (9ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (19ms).
Initialized DbCommand for '"ExecuteReader"' (38ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("61"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 28ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 33748)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/89ddf87a8789_AppointmentsAPI_bus_ewyyyyfcnebrrg38bdqm56yqru?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-xAFKvOswYgfmabQcLJ0uMg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-Y1wPVQXDPkfMzbFZMRaILQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-XHnKNycuGmlcvML07SwxDQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-nUVEt1pXC-4lOOqTS6ac4A"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Creating DbConnection.
Created DbConnection. (7ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (31ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Services\" (\"Id\", \"IsActive\", \"ServiceCategory\", \"ServiceName\")
VALUES (@p0, @p1, @p2, @p3);"
Executed DbCommand ("152"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Services\" (\"Id\", \"IsActive\", \"ServiceCategory\", \"ServiceName\")
VALUES (@p0, @p1, @p2, @p3);"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 34ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
An entity of type '"Service"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (11ms).
RECEIVE rabbitmq://rabbitmq.message-broker/service-created 2c000000-ac12-0242-ff27-08dcbdfbb7cc "InnoClinic.Contracts.ServiceCreatedEvent.ServiceCreatedEvent" "ServiceCreatedConsumer"(00:00:02.3640035)
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Creating DbConnection.
Created DbConnection. (5ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (7ms).
Initialized DbCommand for '"ExecuteReader"' (15ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Services\" (\"Id\", \"IsActive\", \"ServiceCategory\", \"ServiceName\")
VALUES (@p0, @p1, @p2, @p3);"
Executed DbCommand ("25"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Services\" (\"Id\", \"IsActive\", \"ServiceCategory\", \"ServiceName\")
VALUES (@p0, @p1, @p2, @p3);"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 9ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
An entity of type '"Service"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
RECEIVE rabbitmq://rabbitmq.message-broker/service-created 2c000000-ac12-0242-2633-08dcbdfbc744 "InnoClinic.Contracts.ServiceCreatedEvent.ServiceCreatedEvent" "ServiceCreatedConsumer"(00:00:00.3393518)
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Services\" (\"Id\", \"IsActive\", \"ServiceCategory\", \"ServiceName\")
VALUES (@p0, @p1, @p2, @p3);"
Executed DbCommand ("12"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Services\" (\"Id\", \"IsActive\", \"ServiceCategory\", \"ServiceName\")
VALUES (@p0, @p1, @p2, @p3);"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 3ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
An entity of type '"Service"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
RECEIVE rabbitmq://rabbitmq.message-broker/service-created 2c000000-ac12-0242-abd1-08dcbdfbd30c "InnoClinic.Contracts.ServiceCreatedEvent.ServiceCreatedEvent" "ServiceCreatedConsumer"(00:00:00.1198664)
Connection id ""0HN5TVGT7M6PE"" accepted.
Connection id ""0HN5TVGT7M6PE"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create-result""" - "application/json" 233
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/create-result"'
Request matched endpoint '"405 HTTP Method Not Supported"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"405 HTTP Method Not Supported"'
Executed endpoint '"405 HTTP Method Not Supported"'
HTTP "POST" "/api/Results/create-result" responded 405 in 118.9865 ms
Connection id ""0HN5TVGT7M6PE"" completed keep alive response.
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create-result""" - 405 0 null 865.387ms
Connection id ""0HN5TVGT7M6PE"", Request id ""0HN5TVGT7M6PE:00000001"": started reading request body.
Connection id ""0HN5TVGT7M6PE"", Request id ""0HN5TVGT7M6PE:00000001"": done reading request body.
Connection id ""0HN5TVGT7M6PE"" received FIN.
Connection id ""0HN5TVGT7M6PE"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5TVGT7M6PE"" disconnecting.
Connection id ""0HN5TVGT7M6PE"" stopped.
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-xAFKvOswYgfmabQcLJ0uMg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-Y1wPVQXDPkfMzbFZMRaILQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-XHnKNycuGmlcvML07SwxDQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-nUVEt1pXC-4lOOqTS6ac4A"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 3 received, 1 concurrent, "amq.ctag-xAFKvOswYgfmabQcLJ0uMg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-Y1wPVQXDPkfMzbFZMRaILQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-XHnKNycuGmlcvML07SwxDQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-nUVEt1pXC-4lOOqTS6ac4A"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/89ddf87a8789_AppointmentsAPI_bus_ewyyyyfcnebrrg38bdqm56yqru?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/89ddf87a8789_AppointmentsAPI_bus_ewyyyyfcnebrrg38bdqm56yqru?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (121ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (25ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (29ms).
Initialized DbCommand for '"ExecuteScalar"' (41ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("362"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (26ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (31ms).
Initialized DbCommand for '"ExecuteReader"' (37ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("126"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 47ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 52452)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/89ddf87a8789_AppointmentsAPI_bus_meyoyyfcnebrraqqbdqm598bfw?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-rTCMNeonAmUvYfilOC3rrg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-wLGg5jSHP_Y7da4F9pSt6Q"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-gkz6REC_P1D5NWsd7zh_ig"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-u094XkasHvyqQmBvOdoZeA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5TVJJ4RUF5"" accepted.
Connection id ""0HN5TVJJ4RUF5"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
Wildcard detected, all requests with hosts will be allowed.
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN5TVJJ4RUF5"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 290.4621ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - null null
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Connection id ""0HN5TVJJ4RUF5"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 94.076ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/favicon-32x32.png""" - null null
Connection id ""0HN5TVJJ4RUF5"" received FIN.
No candidates found for the request path '"/swagger/favicon-32x32.png"'
Connection id ""0HN5TVJJ4RUF5"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Request did not match any endpoints
Connection id ""0HN5TVJJ4RUF5"" disconnecting.
The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/favicon-32x32.png""" - 499 628 "image/png" 192.4371ms
Connection id ""0HN5TVJJ4RUF5"" stopped.
Connection id ""0HN5TVJJ4RUF6"" accepted.
Connection id ""0HN5TVJJ4RUF6"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Connection id ""0HN5TVJJ4RUF6"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 442.2234ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 233
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5TVJJ4RUF6"", Request id ""0HN5TVJJ4RUF6:00000002"": started reading request body.
Connection id ""0HN5TVJJ4RUF6"", Request id ""0HN5TVJJ4RUF6:00000002"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 689.5623ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 500 in 846.5617 ms
FluentValidation.ValidationException: Validation failed: 
 -- DateofBirth: 'Dateof Birth' must not be empty. Severity: Error
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 20
   at ResultsController.CreateAppointmentResult(CreateAppointmentResultRequest request) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
FluentValidation.ValidationException: Validation failed: 
 -- DateofBirth: 'Dateof Birth' must not be empty. Severity: Error
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 20
   at ResultsController.CreateAppointmentResult(CreateAppointmentResultRequest request) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5TVJJ4RUF6"" completed keep alive response.
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 500 null "text/plain; charset=utf-8" 1047.5076ms
Connection id ""0HN5TVJJ4RUF6"" received FIN.
Connection id ""0HN5TVJJ4RUF6"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5TVJJ4RUF6"" disconnecting.
Connection id ""0HN5TVJJ4RUF6"" stopped.
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-rTCMNeonAmUvYfilOC3rrg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-gkz6REC_P1D5NWsd7zh_ig"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-u094XkasHvyqQmBvOdoZeA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-rTCMNeonAmUvYfilOC3rrg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-gkz6REC_P1D5NWsd7zh_ig"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-u094XkasHvyqQmBvOdoZeA"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-wLGg5jSHP_Y7da4F9pSt6Q"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-wLGg5jSHP_Y7da4F9pSt6Q"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/89ddf87a8789_AppointmentsAPI_bus_meyoyyfcnebrraqqbdqm598bfw?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/89ddf87a8789_AppointmentsAPI_bus_meyoyyfcnebrraqqbdqm598bfw?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (247ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (55ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (44ms).
Initialized DbCommand for '"ExecuteScalar"' (80ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("1,116"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (46ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (16ms).
Initialized DbCommand for '"ExecuteReader"' (60ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("121"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 108ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (50ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 47142)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/93e4ce8a5a27_AppointmentsAPI_bus_eeyyyyfcnobrr1q5bdqmhnjgg1?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-YS_tCvqrPhjAjT095W0TJw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-g0V0NRSaCbHrCnEYgAiQ0A"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-jaJdFW24TkW7ZEhuvhpdVA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-1rWHtKMd4eLB2OxgB5bR_g"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5U162AU822"" accepted.
Connection id ""0HN5U162AU822"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 233
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5U162AU822"", Request id ""0HN5U162AU822:00000001"": started reading request body.
Connection id ""0HN5U162AU822"", Request id ""0HN5U162AU822:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (16ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (33ms).
Initialized DbCommand for '"ExecuteReader"' (178ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("657"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 175ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (8ms).
Initialized DbCommand for '"ExecuteReader"' (24ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("67"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 5ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 5405.3791ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 404 in 5754.7859 ms
Connection id ""0HN5U162AU822"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (13ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 404 null "application/problem+json; charset=utf-8" 6651.534ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN5U162AU822"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 279.1208ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - null null
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Connection id ""0HN5U162AU822"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 113.0576ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Connection id ""0HN5U162AU822"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 931.27ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 208
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5U162AU822"", Request id ""0HN5U162AU822:00000005"": started reading request body.
Connection id ""0HN5U162AU822"", Request id ""0HN5U162AU822:00000005"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (14ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (14ms).
Initialized DbCommand for '"ExecuteReader"' (23ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("28"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 35ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (15ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (24ms).
Initialized DbCommand for '"ExecuteReader"' (28ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("11"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 20ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 975.3151ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 404 in 1158.5382 ms
Connection id ""0HN5U162AU822"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (78ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 404 null "application/problem+json; charset=utf-8" 1426.0852ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment""" - "application/json" 175
1 candidate(s) found for the request path '"/api/Appointments/create-appointment"'
Endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"' with route pattern '"api/Appointments/create-appointment"' is valid for the request path '"/api/Appointments/create-appointment"'
Request matched endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Route matched with "{action = \"CreateAppointment\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointment(CreateAppointmentRequest)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5U162AU822"", Request id ""0HN5U162AU822:00000006"": started reading request body.
Connection id ""0HN5U162AU822"", Request id ""0HN5U162AU822:00000006"": done reading request body.
JSON input formatter threw an exception: "'b' is an invalid end of a number. Expected a delimiter. Path: $.officeId | LineNumber: 4 | BytePositionInLine: 16."
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"'.
The request has model state errors, returning an error response.
Request was short circuited at action filter '"Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml", "application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
Executed action "AppointmentsController.CreateAppointment (Appointments.API)" in 339.7256ms
Executed endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
HTTP "POST" "/api/Appointments/create-appointment" responded 400 in 513.1613 ms
Connection id ""0HN5U162AU822"" completed keep alive response.
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment""" - 400 null "application/problem+json; charset=utf-8" 616.8242ms
Connection id ""0HN5U162AU822"" received FIN.
Connection id ""0HN5U162AU822"" disconnecting.
Connection id ""0HN5U162AU822"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5U162AU822"" stopped.
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-g0V0NRSaCbHrCnEYgAiQ0A"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-g0V0NRSaCbHrCnEYgAiQ0A"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-jaJdFW24TkW7ZEhuvhpdVA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-jaJdFW24TkW7ZEhuvhpdVA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-YS_tCvqrPhjAjT095W0TJw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-YS_tCvqrPhjAjT095W0TJw"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-1rWHtKMd4eLB2OxgB5bR_g"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-1rWHtKMd4eLB2OxgB5bR_g"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/93e4ce8a5a27_AppointmentsAPI_bus_eeyyyyfcnobrr1q5bdqmhnjgg1?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/93e4ce8a5a27_AppointmentsAPI_bus_eeyyyyfcnobrr1q5bdqmhnjgg1?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (189ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (63ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (77ms).
Initialized DbCommand for '"ExecuteScalar"' (121ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("403"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (33ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (17ms).
Initialized DbCommand for '"ExecuteReader"' (20ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("138"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 123ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (11ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 39924)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/93e4ce8a5a27_AppointmentsAPI_bus_bcyoyyfcnobrfjw4bdqmhn4or4?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-UZE1qV_bkls6nSl5Bbqx8Q"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-znIl69SfL0YZuUyMnNhIyQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-FGdiUMFMY0tPbD1Nz7qFIQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-Y_CX4F5sOrROAFUz-2vYrA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5U1DC6JBEG"" accepted.
Connection id ""0HN5U1DC6JBEG"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment""" - "application/json" 175
Wildcard detected, all requests with hosts will be allowed.
No candidates found for the request path '"/api/Appointments/create-appointment"'
Request did not match any endpoints
"POST" requests are not supported
HTTP "POST" "/api/Appointments/create-appointment" responded 404 in 15.3310 ms
Connection id ""0HN5U1DC6JBEG"" completed keep alive response.
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment""" - 404 0 null 612.0739ms
Request reached the end of the middleware pipeline without being handled by application code. Request path: "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment", Response status code: 404
Connection id ""0HN5U1DC6JBEG"", Request id ""0HN5U1DC6JBEG:00000001"": started reading request body.
Connection id ""0HN5U1DC6JBEG"", Request id ""0HN5U1DC6JBEG:00000001"": done reading request body.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment""" - "application/json" 175
No candidates found for the request path '"/api/Appointments/create-appointment"'
Request did not match any endpoints
"POST" requests are not supported
HTTP "POST" "/api/Appointments/create-appointment" responded 404 in 1.4437 ms
Connection id ""0HN5U1DC6JBEG"" completed keep alive response.
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment""" - 404 0 null 60.0701ms
Request reached the end of the middleware pipeline without being handled by application code. Request path: "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment", Response status code: 404
Connection id ""0HN5U1DC6JBEG"", Request id ""0HN5U1DC6JBEG:00000002"": started reading request body.
Connection id ""0HN5U1DC6JBEG"", Request id ""0HN5U1DC6JBEG:00000002"": done reading request body.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment""" - "application/json" 175
No candidates found for the request path '"/api/Appointments/create-appointment"'
Request did not match any endpoints
"POST" requests are not supported
HTTP "POST" "/api/Appointments/create-appointment" responded 404 in 0.1448 ms
Connection id ""0HN5U1DC6JBEG"" completed keep alive response.
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment""" - 404 0 null 53.2729ms
Request reached the end of the middleware pipeline without being handled by application code. Request path: "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment", Response status code: 404
Connection id ""0HN5U1DC6JBEG"", Request id ""0HN5U1DC6JBEG:00000003"": started reading request body.
Connection id ""0HN5U1DC6JBEG"", Request id ""0HN5U1DC6JBEG:00000003"": done reading request body.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment""" - "application/json" 175
No candidates found for the request path '"/api/Appointments/create-appointment"'
Request did not match any endpoints
"POST" requests are not supported
HTTP "POST" "/api/Appointments/create-appointment" responded 404 in 0.3152 ms
Connection id ""0HN5U1DC6JBEG"" completed keep alive response.
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment""" - 404 0 null 40.7916ms
Request reached the end of the middleware pipeline without being handled by application code. Request path: "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment", Response status code: 404
Connection id ""0HN5U1DC6JBEG"", Request id ""0HN5U1DC6JBEG:00000004"": started reading request body.
Connection id ""0HN5U1DC6JBEG"", Request id ""0HN5U1DC6JBEG:00000004"": done reading request body.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment""" - "application/json" 175
No candidates found for the request path '"/api/Appointments/create-appointment"'
Request did not match any endpoints
"POST" requests are not supported
HTTP "POST" "/api/Appointments/create-appointment" responded 404 in 0.1127 ms
Connection id ""0HN5U1DC6JBEG"" completed keep alive response.
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment""" - 404 0 null 51.153ms
Request reached the end of the middleware pipeline without being handled by application code. Request path: "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment", Response status code: 404
Connection id ""0HN5U1DC6JBEG"", Request id ""0HN5U1DC6JBEG:00000005"": started reading request body.
Connection id ""0HN5U1DC6JBEG"", Request id ""0HN5U1DC6JBEG:00000005"": done reading request body.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment""" - "application/json" 175
No candidates found for the request path '"/api/Appointments/create-appointment"'
Request did not match any endpoints
"POST" requests are not supported
HTTP "POST" "/api/Appointments/create-appointment" responded 404 in 0.2159 ms
Connection id ""0HN5U1DC6JBEG"" completed keep alive response.
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment""" - 404 0 null 31.297ms
Request reached the end of the middleware pipeline without being handled by application code. Request path: "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment", Response status code: 404
Connection id ""0HN5U1DC6JBEG"", Request id ""0HN5U1DC6JBEG:00000006"": started reading request body.
Connection id ""0HN5U1DC6JBEG"", Request id ""0HN5U1DC6JBEG:00000006"": done reading request body.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment""" - "application/json" 175
No candidates found for the request path '"/api/Appointments/create-appointment"'
Request did not match any endpoints
"POST" requests are not supported
HTTP "POST" "/api/Appointments/create-appointment" responded 404 in 1.1292 ms
Connection id ""0HN5U1DC6JBEG"" completed keep alive response.
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment""" - 404 0 null 43.3861ms
Request reached the end of the middleware pipeline without being handled by application code. Request path: "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment", Response status code: 404
Connection id ""0HN5U1DC6JBEG"", Request id ""0HN5U1DC6JBEG:00000007"": started reading request body.
Connection id ""0HN5U1DC6JBEG"", Request id ""0HN5U1DC6JBEG:00000007"": done reading request body.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment""" - "application/json" 175
No candidates found for the request path '"/api/Appointments/create-appointment"'
Request did not match any endpoints
"POST" requests are not supported
HTTP "POST" "/api/Appointments/create-appointment" responded 404 in 0.1029 ms
Connection id ""0HN5U1DC6JBEG"" completed keep alive response.
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment""" - 404 0 null 66.745ms
Request reached the end of the middleware pipeline without being handled by application code. Request path: "POST" "http"://"localhost:8086""""/api/Appointments/create-appointment", Response status code: 404
Connection id ""0HN5U1DC6JBEG"", Request id ""0HN5U1DC6JBEG:00000008"": started reading request body.
Connection id ""0HN5U1DC6JBEG"", Request id ""0HN5U1DC6JBEG:00000008"": done reading request body.
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (37ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
An error occurred using the connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (377ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (29ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (42ms).
Initialized DbCommand for '"ExecuteScalar"' (58ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("501"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (27ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (9ms).
Initialized DbCommand for '"ExecuteReader"' (12ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 34ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Application is shutting down...
Bus start canceled: rabbitmq://rabbitmq.message-broker/
System.OperationCanceledException: The operation was canceled.
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 69
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.MassTransitBus.StartAsync(CancellationToken cancellationToken) in /_/src/MassTransit/MassTransitBus.cs:line 194
Connect: "guest@rabbitmq.message-broker:5672/"
Hosting failed to start
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
Stopping bus: rabbitmq://rabbitmq.message-broker/
Stopping bus instances: "IBus"
Failed to stop bus: rabbitmq://rabbitmq.message-broker/93e4ce8a5a27_AppointmentsAPI_bus_gcyyyyfcnobrr1zabdqm7xr9re?temporary=true ("Not Started")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (314ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (21ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (15ms).
Initialized DbCommand for '"ExecuteScalar"' (36ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("266"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 30ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 60066)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/93e4ce8a5a27_AppointmentsAPI_bus_ieyyyyfcnobrr96dbdqm7xgkdb?temporary=true
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-WHWoNaLPih1T2fk02rNg6Q"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-YmCWNfN1ibwRnH6ItBEcZw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-z0FdXdZfnBzGPEsAY9f3Eg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-oMPYOgFCS3BEq4_2BNT0sQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5UNOKSJG7M"" accepted.
Connection id ""0HN5UNOKSJG7M"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/""" - null null
Wildcard detected, all requests with hosts will be allowed.
No candidates found for the request path '"/"'
Request did not match any endpoints
The request path "" does not match the path filter
HTTP "GET" "/" responded 404 in 9.3343 ms
Connection id ""0HN5UNOKSJG7M"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/""" - 404 0 null 385.1123ms
Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:8086""""/", Response status code: 404
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/favicon.ico""" - null null
No candidates found for the request path '"/favicon.ico"'
Request did not match any endpoints
The request path "" does not match the path filter
HTTP "GET" "/favicon.ico" responded 404 in 0.3734 ms
Connection id ""0HN5UNOKSJG7M"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/favicon.ico""" - 404 0 null 31.9124ms
Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:8086""""/favicon.ico", Response status code: 404
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN5UNOKSJG7M"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 233.7575ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/swagger-ui.css""" - null null
Connection id ""0HN5UNOKSJG7N"" accepted.
No candidates found for the request path '"/swagger/swagger-ui.css"'
Connection id ""0HN5UNOKSJG7N"" started.
Connection id ""0HN5UNOKSJG7O"" accepted.
Request did not match any endpoints
Connection id ""0HN5UNOKSJG7O"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - null null
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.css""" - null null
No candidates found for the request path '"/swagger/index.css"'
Request did not match any endpoints
Connection id ""0HN5UNOKSJG7O"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 71.7769ms
Sending file. Request path: '"/index.css"'. Physical path: '"N/A"'
Connection id ""0HN5UNOKSJG7N"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.css""" - 200 202 "text/css" 45.6639ms
Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
Connection id ""0HN5UNOKSJG7M"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/swagger-ui.css""" - 200 152034 "text/css" 263.6605ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Connection id ""0HN5UNOKSJG7O"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 646.9726ms
Connection id ""0HN5UNOKSJG7M"" received FIN.
Connection id ""0HN5UNOKSJG7N"" received FIN.
Connection id ""0HN5UNOKSJG7M"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UNOKSJG7N"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UNOKSJG7M"" disconnecting.
Connection id ""0HN5UNOKSJG7N"" disconnecting.
Connection id ""0HN5UNOKSJG7N"" stopped.
Connection id ""0HN5UNOKSJG7M"" stopped.
Connection id ""0HN5UNOKSJG7O"" received FIN.
Connection id ""0HN5UNOKSJG7O"" disconnecting.
Connection id ""0HN5UNOKSJG7O"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UNOKSJG7O"" stopped.
Connection id ""0HN5UNOKSJG7P"" accepted.
Connection id ""0HN5UNOKSJG7P"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create""" - "application/json" 194
1 candidate(s) found for the request path '"/api/Appointments/create"'
Endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"' with route pattern '"api/Appointments/create"' is valid for the request path '"/api/Appointments/create"'
Request matched endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Route matched with "{action = \"CreateAppointment\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointment(CreateAppointmentRequest)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UNOKSJG7P"", Request id ""0HN5UNOKSJG7P:00000001"": started reading request body.
Connection id ""0HN5UNOKSJG7P"", Request id ""0HN5UNOKSJG7P:00000001"": done reading request body.
JSON input formatter threw an exception: "'b' is an invalid end of a number. Expected a delimiter. Path: $.officeId | LineNumber: 5 | BytePositionInLine: 16."
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"'.
The request has model state errors, returning an error response.
Request was short circuited at action filter '"Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml", "application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
Executed action "AppointmentsController.CreateAppointment (Appointments.API)" in 590.4333ms
Executed endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
HTTP "POST" "/api/Appointments/create" responded 400 in 1095.3354 ms
Connection id ""0HN5UNOKSJG7P"" completed keep alive response.
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create""" - 400 null "application/problem+json; charset=utf-8" 1445.234ms
Connection id ""0HN5UNOKSJG7P"" received FIN.
Connection id ""0HN5UNOKSJG7P"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UNOKSJG7P"" disconnecting.
Connection id ""0HN5UNOKSJG7P"" stopped.
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-oMPYOgFCS3BEq4_2BNT0sQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-oMPYOgFCS3BEq4_2BNT0sQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-z0FdXdZfnBzGPEsAY9f3Eg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-z0FdXdZfnBzGPEsAY9f3Eg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-YmCWNfN1ibwRnH6ItBEcZw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-YmCWNfN1ibwRnH6ItBEcZw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-WHWoNaLPih1T2fk02rNg6Q"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-WHWoNaLPih1T2fk02rNg6Q"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/93e4ce8a5a27_AppointmentsAPI_bus_ieyyyyfcnobrr96dbdqm7xgkdb?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/93e4ce8a5a27_AppointmentsAPI_bus_ieyyyyfcnobrr96dbdqm7xgkdb?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (184ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (19ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (17ms).
Initialized DbCommand for '"ExecuteScalar"' (30ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("247"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (8ms).
Initialized DbCommand for '"ExecuteReader"' (14ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("57"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 25ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 33704)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/93e4ce8a5a27_AppointmentsAPI_bus_ohyoyyfcnobrf57sbdqm7x9dfj?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-s8RQ3OURMcRlMJ5Wh0Qu-Q"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-lWdW6ydl--HHQHHzH4_CBg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-s_x72PQN5eY04CoJzo7fUQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-AOH-dzE3SlGoWOIsqUtFtg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5UO011AQHG"" accepted.
Connection id ""0HN5UO011AQHG"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
Wildcard detected, all requests with hosts will be allowed.
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN5UO011AQHG"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 387.6429ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - null null
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Connection id ""0HN5UO011AQHG"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 72.1844ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Connection id ""0HN5UO011AQHG"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 547.3065ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create""" - "application/json" 193
1 candidate(s) found for the request path '"/api/Appointments/create"'
Endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"' with route pattern '"api/Appointments/create"' is valid for the request path '"/api/Appointments/create"'
Request matched endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Route matched with "{action = \"CreateAppointment\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointment(CreateAppointmentRequest)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UO011AQHG"", Request id ""0HN5UO011AQHG:00000004"": started reading request body.
Connection id ""0HN5UO011AQHG"", Request id ""0HN5UO011AQHG:00000004"": done reading request body.
JSON input formatter threw an exception: "'b' is an invalid end of a number. Expected a delimiter. Path: $.officeId | LineNumber: 5 | BytePositionInLine: 16."
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"'.
The request has model state errors, returning an error response.
Request was short circuited at action filter '"Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml", "application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
Executed action "AppointmentsController.CreateAppointment (Appointments.API)" in 684.9055ms
Executed endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
HTTP "POST" "/api/Appointments/create" responded 400 in 921.2869 ms
Connection id ""0HN5UO011AQHG"" completed keep alive response.
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create""" - 400 null "application/problem+json; charset=utf-8" 1160.5704ms
Hosting stopping
Application is shutting down...
Connection id ""0HN5UO011AQHG"" disconnecting.
Connection id ""0HN5UO011AQHG"" stopped.
Connection id ""0HN5UO011AQHG"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-AOH-dzE3SlGoWOIsqUtFtg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-lWdW6ydl--HHQHHzH4_CBg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-AOH-dzE3SlGoWOIsqUtFtg"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-lWdW6ydl--HHQHHzH4_CBg"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-s_x72PQN5eY04CoJzo7fUQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-s_x72PQN5eY04CoJzo7fUQ"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-s8RQ3OURMcRlMJ5Wh0Qu-Q"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-s8RQ3OURMcRlMJ5Wh0Qu-Q"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/93e4ce8a5a27_AppointmentsAPI_bus_ohyoyyfcnobrf57sbdqm7x9dfj?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/93e4ce8a5a27_AppointmentsAPI_bus_ohyoyyfcnobrf57sbdqm7x9dfj?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (173ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (29ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (40ms).
Initialized DbCommand for '"ExecuteScalar"' (65ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("283"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (14ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("46"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 33ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 40342)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/93e4ce8a5a27_AppointmentsAPI_bus_bwbyyyfcnobrfu36bdqm7odcf3?temporary=true
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-99bSwZPLg8zPCYxY0hPfyg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-3ywUgkF9rgErvyW0E1jJXA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-muTz_k9iOBXV1TL495tQBw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-JY97LRAqKWl3d_07j75LVg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5UO4B5DDAS"" accepted.
Connection id ""0HN5UO4B5DDAS"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
Wildcard detected, all requests with hosts will be allowed.
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN5UO4B5DDAS"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 876.0034ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - null null
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Connection id ""0HN5UO4B5DDAS"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 106.1388ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Connection id ""0HN5UO4B5DDAS"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 741.8941ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create""" - "application/json" 195
1 candidate(s) found for the request path '"/api/Appointments/create"'
Endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"' with route pattern '"api/Appointments/create"' is valid for the request path '"/api/Appointments/create"'
Request matched endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Route matched with "{action = \"CreateAppointment\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointment(CreateAppointmentRequest)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UO4B5DDAS"", Request id ""0HN5UO4B5DDAS:00000004"": started reading request body.
Connection id ""0HN5UO4B5DDAS"", Request id ""0HN5UO4B5DDAS:00000004"": done reading request body.
JSON input formatter threw an exception: "The JSON value could not be converted to System.TimeSpan. Path: $.timeSlot | LineNumber: 7 | BytePositionInLine: 21."
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"'.
The request has model state errors, returning an error response.
Request was short circuited at action filter '"Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml", "application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
Executed action "AppointmentsController.CreateAppointment (Appointments.API)" in 394.9397ms
Executed endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
HTTP "POST" "/api/Appointments/create" responded 400 in 730.3133 ms
Connection id ""0HN5UO4B5DDAS"" completed keep alive response.
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create""" - 400 null "application/problem+json; charset=utf-8" 821.6034ms
Connection id ""0HN5UO4B5DDAS"" received FIN.
Connection id ""0HN5UO4B5DDAS"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UO4B5DDAS"" disconnecting.
Connection id ""0HN5UO4B5DDAS"" stopped.
Connection id ""0HN5UO4B5DDAT"" accepted.
Connection id ""0HN5UO4B5DDAT"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create""" - "application/json" 198
1 candidate(s) found for the request path '"/api/Appointments/create"'
Endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"' with route pattern '"api/Appointments/create"' is valid for the request path '"/api/Appointments/create"'
Request matched endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Route matched with "{action = \"CreateAppointment\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointment(CreateAppointmentRequest)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UO4B5DDAT"", Request id ""0HN5UO4B5DDAT:00000001"": started reading request body.
Connection id ""0HN5UO4B5DDAT"", Request id ""0HN5UO4B5DDAT:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"'.
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 6039.6361ms - 200
End processing HTTP request after 6068.5543ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 550.1635ms - 200
End processing HTTP request after 555.2934ms - 200
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (14ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (23ms).
Initialized DbCommand for '"ExecuteReader"' (66ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("142"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 209ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
'"AppointmentsDbContext"' generated a temporary value for the property '"Appointment"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (14ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Appointments\" (\"Date\", \"DoctorId\", \"IsApproved\", \"PatientId\", \"ServiceId\", \"Time\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING \"Id\";"
Executed DbCommand ("115"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Appointments\" (\"Date\", \"DoctorId\", \"IsApproved\", \"PatientId\", \"ServiceId\", \"Time\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING \"Id\";"
The foreign key property '"Appointment"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 32ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
An entity of type '"Appointment"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"Appointment"'.
Executed action "AppointmentsController.CreateAppointment (Appointments.API)" in 11106.0007ms
Executed endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
HTTP "POST" "/api/Appointments/create" responded 200 in 11193.7354 ms
Connection id ""0HN5UO4B5DDAT"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create""" - 200 null "application/json; charset=utf-8" 11319.2382ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Connection id ""0HN5UO4B5DDAT"" received FIN.
Connection id ""0HN5UO4B5DDAT"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UO4B5DDAT"" disconnecting.
Connection id ""0HN5UO4B5DDAT"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 2.3638ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0211ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0924ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0093ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0089ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0079ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0079ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.009ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.009ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0088ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0109ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0083ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0094ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.5236ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0091ms - processed: 0 items - remaining: 1 items
Connection id ""0HN5UO4B5DDAU"" accepted.
Connection id ""0HN5UO4B5DDAU"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/approve/1""" - null 0
1 candidate(s) found for the request path '"/api/Appointments/approve/1"'
Endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"' with route pattern '"api/Appointments/approve/{id:int}"' is valid for the request path '"/api/Appointments/approve/1"'
Request matched endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"'
Route matched with "{action = \"ApproveAppointment\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveAppointment(Int32)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (6ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Beginning transaction with isolation level '"Unspecified"'.
Began transaction with isolation level '"ReadCommitted"'.
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (10ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("109"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 48ms reading results.
The unchanged property '"Appointment"."IsApproved"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
An entity of type '"Appointment"' tracked by '"AppointmentsDbContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Committing transaction.
Committed transaction.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Appointments\" SET \"Date\" = @p0, \"DoctorId\" = @p1, \"IsApproved\" = @p2, \"PatientId\" = @p3, \"ServiceId\" = @p4, \"Time\" = @p5
WHERE \"Id\" = @p6;"
Executed DbCommand ("31"ms) [Parameters=["@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Appointments\" SET \"Date\" = @p0, \"DoctorId\" = @p1, \"IsApproved\" = @p2, \"PatientId\" = @p3, \"ServiceId\" = @p4, \"Time\" = @p5
WHERE \"Id\" = @p6;"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 5ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
An entity of type '"Appointment"' tracked by '"AppointmentsDbContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"MediatR.Unit"'.
Executed action "AppointmentsController.ApproveAppointment (Appointments.API)" in 1292.1542ms
Executed endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"'
HTTP "POST" "/api/Appointments/approve/1" responded 200 in 1576.3280 ms
Connection id ""0HN5UO4B5DDAU"" completed keep alive response.
Disposing transaction.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/approve/1""" - 200 null "application/json; charset=utf-8" 1708.1979ms
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.012ms - processed: 0 items - remaining: 1 items
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/cancel/1""" - null 0
1 candidate(s) found for the request path '"/api/Appointments/cancel/1"'
Endpoint '"AppointmentsController.CancelAppointment (Appointments.API)"' with route pattern '"api/Appointments/cancel/{id:int}"' is valid for the request path '"/api/Appointments/cancel/1"'
Request matched endpoint '"AppointmentsController.CancelAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.CancelAppointment (Appointments.API)"'
Route matched with "{action = \"CancelAppointment\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CancelAppointment(Int32)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Beginning transaction with isolation level '"Unspecified"'.
Began transaction with isolation level '"ReadCommitted"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (2ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("28"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 3ms reading results.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 2ms reading results.
An entity of type '"Appointment"' tracked by '"AppointmentsDbContext"' changed state from 'Unchanged' to 'Deleted'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Committing transaction.
Committed transaction.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM \"Appointments\"
WHERE \"Id\" = @p0;"
Executed DbCommand ("30"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM \"Appointments\"
WHERE \"Id\" = @p0;"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 2ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
An entity of type '"Appointment"' tracked by '"AppointmentsDbContext"' changed state from 'Deleted' to 'Detached'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"MediatR.Unit"'.
Executed action "AppointmentsController.CancelAppointment (Appointments.API)" in 365.4388ms
Executed endpoint '"AppointmentsController.CancelAppointment (Appointments.API)"'
HTTP "POST" "/api/Appointments/cancel/1" responded 200 in 401.7777 ms
Connection id ""0HN5UO4B5DDAU"" completed keep alive response.
Disposing transaction.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/cancel/1""" - 200 null "application/json; charset=utf-8" 430.0422ms
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0098ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0099ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0085ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.1355ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0116ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.01ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0098ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0111ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 3.6237ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0085ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 1 items
Connection id ""0HN5UO4B5DDAU"" received FIN.
Connection id ""0HN5UO4B5DDAU"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UO4B5DDAU"" disconnecting.
Connection id ""0HN5UO4B5DDAU"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 12.126ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 1 items
Connection id ""0HN5UO4B5DDAV"" accepted.
Connection id ""0HN5UO4B5DDAV"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create""" - "application/json" 198
1 candidate(s) found for the request path '"/api/Appointments/create"'
Endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"' with route pattern '"api/Appointments/create"' is valid for the request path '"/api/Appointments/create"'
Request matched endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Route matched with "{action = \"CreateAppointment\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointment(CreateAppointmentRequest)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UO4B5DDAV"", Request id ""0HN5UO4B5DDAV:00000001"": started reading request body.
Connection id ""0HN5UO4B5DDAV"", Request id ""0HN5UO4B5DDAV:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"'.
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 2315.8849ms - 200
End processing HTTP request after 2327.1505ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 169.8022ms - 200
End processing HTTP request after 175.3407ms - 200
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (13ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (8ms).
Initialized DbCommand for '"ExecuteReader"' (31ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("373"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 83ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (40ms).
'"AppointmentsDbContext"' generated a temporary value for the property '"Appointment"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Appointments\" (\"Date\", \"DoctorId\", \"IsApproved\", \"PatientId\", \"ServiceId\", \"Time\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING \"Id\";"
Executed DbCommand ("42"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Appointments\" (\"Date\", \"DoctorId\", \"IsApproved\", \"PatientId\", \"ServiceId\", \"Time\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING \"Id\";"
The foreign key property '"Appointment"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 15ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
An entity of type '"Appointment"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"Appointment"'.
Executed action "AppointmentsController.CreateAppointment (Appointments.API)" in 3781.8562ms
Executed endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
HTTP "POST" "/api/Appointments/create" responded 200 in 3869.7542 ms
Connection id ""0HN5UO4B5DDAV"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create""" - 200 null "application/json; charset=utf-8" 4010.8603ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/approve/2""" - null 0
1 candidate(s) found for the request path '"/api/Appointments/approve/2"'
Endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"' with route pattern '"api/Appointments/approve/{id:int}"' is valid for the request path '"/api/Appointments/approve/2"'
Request matched endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"'
Route matched with "{action = \"ApproveAppointment\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveAppointment(Int32)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 1 items
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Beginning transaction with isolation level '"Unspecified"'.
Began transaction with isolation level '"ReadCommitted"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (3ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("21"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 12ms reading results.
The unchanged property '"Appointment"."IsApproved"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
An entity of type '"Appointment"' tracked by '"AppointmentsDbContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Committing transaction.
Committed transaction.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (998ms).
Initialized DbCommand for '"ExecuteReader"' (1001ms).
Executing DbCommand [Parameters=["@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Appointments\" SET \"Date\" = @p0, \"DoctorId\" = @p1, \"IsApproved\" = @p2, \"PatientId\" = @p3, \"ServiceId\" = @p4, \"Time\" = @p5
WHERE \"Id\" = @p6;"
Executed DbCommand ("20"ms) [Parameters=["@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Appointments\" SET \"Date\" = @p0, \"DoctorId\" = @p1, \"IsApproved\" = @p2, \"PatientId\" = @p3, \"ServiceId\" = @p4, \"Time\" = @p5
WHERE \"Id\" = @p6;"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 2ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
An entity of type '"Appointment"' tracked by '"AppointmentsDbContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"MediatR.Unit"'.
Executed action "AppointmentsController.ApproveAppointment (Appointments.API)" in 1350.9479ms
Executed endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"'
HTTP "POST" "/api/Appointments/approve/2" responded 200 in 1406.1986 ms
Connection id ""0HN5UO4B5DDAV"" completed keep alive response.
Disposing transaction.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/approve/2""" - 200 null "application/json; charset=utf-8" 1453.0797ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/approve/2""" - null 0
1 candidate(s) found for the request path '"/api/Appointments/approve/2"'
Endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"' with route pattern '"api/Appointments/approve/{id:int}"' is valid for the request path '"/api/Appointments/approve/2"'
Request matched endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"'
Route matched with "{action = \"ApproveAppointment\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveAppointment(Int32)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Beginning transaction with isolation level '"Unspecified"'.
Began transaction with isolation level '"ReadCommitted"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 6ms reading results.
An entity of type '"Appointment"' tracked by '"AppointmentsDbContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Committing transaction.
Committed transaction.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (3ms).
Executing DbCommand [Parameters=["@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Appointments\" SET \"Date\" = @p0, \"DoctorId\" = @p1, \"IsApproved\" = @p2, \"PatientId\" = @p3, \"ServiceId\" = @p4, \"Time\" = @p5
WHERE \"Id\" = @p6;"
Executed DbCommand ("9"ms) [Parameters=["@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Appointments\" SET \"Date\" = @p0, \"DoctorId\" = @p1, \"IsApproved\" = @p2, \"PatientId\" = @p3, \"ServiceId\" = @p4, \"Time\" = @p5
WHERE \"Id\" = @p6;"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 1ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
An entity of type '"Appointment"' tracked by '"AppointmentsDbContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"MediatR.Unit"'.
Executed action "AppointmentsController.ApproveAppointment (Appointments.API)" in 161.0746ms
Executed endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"'
HTTP "POST" "/api/Appointments/approve/2" responded 200 in 189.6997 ms
Connection id ""0HN5UO4B5DDAV"" completed keep alive response.
Disposing transaction.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/approve/2""" - 200 null "application/json; charset=utf-8" 214.3123ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/approve/2""" - null 0
1 candidate(s) found for the request path '"/api/Appointments/approve/2"'
Endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"' with route pattern '"api/Appointments/approve/{id:int}"' is valid for the request path '"/api/Appointments/approve/2"'
Request matched endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"'
Route matched with "{action = \"ApproveAppointment\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveAppointment(Int32)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Beginning transaction with isolation level '"Unspecified"'.
Began transaction with isolation level '"ReadCommitted"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("10"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 9ms reading results.
An entity of type '"Appointment"' tracked by '"AppointmentsDbContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Committing transaction.
Committed transaction.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (10ms).
Executing DbCommand [Parameters=["@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Appointments\" SET \"Date\" = @p0, \"DoctorId\" = @p1, \"IsApproved\" = @p2, \"PatientId\" = @p3, \"ServiceId\" = @p4, \"Time\" = @p5
WHERE \"Id\" = @p6;"
Executed DbCommand ("10"ms) [Parameters=["@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Appointments\" SET \"Date\" = @p0, \"DoctorId\" = @p1, \"IsApproved\" = @p2, \"PatientId\" = @p3, \"ServiceId\" = @p4, \"Time\" = @p5
WHERE \"Id\" = @p6;"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 2ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
An entity of type '"Appointment"' tracked by '"AppointmentsDbContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"MediatR.Unit"'.
Executed action "AppointmentsController.ApproveAppointment (Appointments.API)" in 205.5811ms
Executed endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"'
HTTP "POST" "/api/Appointments/approve/2" responded 200 in 232.3875 ms
Connection id ""0HN5UO4B5DDAV"" completed keep alive response.
Disposing transaction.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/approve/2""" - 200 null "application/json; charset=utf-8" 265.0893ms
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 6.3085ms - processed: 1 items - remaining: 0 items
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 1.0713ms - processed: 0 items - remaining: 1 items
Connection id ""0HN5UO4B5DDAV"" received FIN.
Connection id ""0HN5UO4B5DDAV"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UO4B5DDAV"" disconnecting.
Connection id ""0HN5UO4B5DDAV"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0122ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.1189ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0089ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0153ms - processed: 0 items - remaining: 1 items
Connection id ""0HN5UO4B5DDB0"" accepted.
Connection id ""0HN5UO4B5DDB0"" started.
Request starting "HTTP/1.1" "PUT" "http"://"localhost:8086""""/api/Appointments/reschedule/2""" - "application/json" 130
1 candidate(s) found for the request path '"/api/Appointments/reschedule/2"'
Endpoint '"AppointmentsController.RescheduleAppointment (Appointments.API)"' with route pattern '"api/Appointments/reschedule/{id:int}"' is valid for the request path '"/api/Appointments/reschedule/2"'
Request matched endpoint '"AppointmentsController.RescheduleAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.RescheduleAppointment (Appointments.API)"'
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0122ms - processed: 0 items - remaining: 1 items
Route matched with "{action = \"RescheduleAppointment\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RescheduleAppointment(RescheduleAppointmentRequest)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"RescheduleAppointmentRequest"' ...
Attempting to bind parameter '"request"' of type '"RescheduleAppointmentRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UO4B5DDB0"", Request id ""0HN5UO4B5DDB0:00000001"": started reading request body.
Connection id ""0HN5UO4B5DDB0"", Request id ""0HN5UO4B5DDB0:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"RescheduleAppointmentRequest"'
Done attempting to bind parameter '"request"' of type '"RescheduleAppointmentRequest"'.
Done attempting to bind parameter '"request"' of type '"RescheduleAppointmentRequest"'.
Attempting to validate the bound parameter '"request"' of type '"RescheduleAppointmentRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"RescheduleAppointmentRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (7ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Beginning transaction with isolation level '"Unspecified"'.
Began transaction with isolation level '"ReadCommitted"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("111"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 25ms reading results.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "AppointmentsController.RescheduleAppointment (Appointments.API)" in 952.039ms
Executed endpoint '"AppointmentsController.RescheduleAppointment (Appointments.API)"'
HTTP "PUT" "/api/Appointments/reschedule/2" responded 500 in 1337.4060 ms
Connection id ""0HN5UO4B5DDB0"" completed keep alive response.
Disposing transaction.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "PUT" "http"://"localhost:8086""""/api/Appointments/reschedule/2""" - 500 null "application/problem+json; charset=utf-8" 1527.7122ms
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0088ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.011ms - processed: 0 items - remaining: 1 items
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create""" - "application/json" 198
1 candidate(s) found for the request path '"/api/Appointments/create"'
Endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"' with route pattern '"api/Appointments/create"' is valid for the request path '"/api/Appointments/create"'
Request matched endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Route matched with "{action = \"CreateAppointment\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointment(CreateAppointmentRequest)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UO4B5DDB0"", Request id ""0HN5UO4B5DDB0:00000002"": started reading request body.
Connection id ""0HN5UO4B5DDB0"", Request id ""0HN5UO4B5DDB0:00000002"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"'.
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0114ms - processed: 0 items - remaining: 1 items
Received HTTP response headers after 1514.9575ms - 200
End processing HTTP request after 1525.4839ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 126.4724ms - 200
End processing HTTP request after 131.1994ms - 200
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("13"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 10ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
'"AppointmentsDbContext"' generated a temporary value for the property '"Appointment"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Appointments\" (\"Date\", \"DoctorId\", \"IsApproved\", \"PatientId\", \"ServiceId\", \"Time\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING \"Id\";"
Executed DbCommand ("43"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Appointments\" (\"Date\", \"DoctorId\", \"IsApproved\", \"PatientId\", \"ServiceId\", \"Time\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING \"Id\";"
The foreign key property '"Appointment"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 12ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
An entity of type '"Appointment"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"Appointment"'.
Executed action "AppointmentsController.CreateAppointment (Appointments.API)" in 1981.675ms
Executed endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
HTTP "POST" "/api/Appointments/create" responded 200 in 1998.8462 ms
Connection id ""0HN5UO4B5DDB0"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create""" - 200 null "application/json; charset=utf-8" 2047.481ms
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.01ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0076ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0119ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0097ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0091ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 8.168ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0094ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0106ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0091ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.011ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0097ms - processed: 0 items - remaining: 1 items
Connection id ""0HN5UO4B5DDB0"" received FIN.
Connection id ""0HN5UO4B5DDB0"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UO4B5DDB0"" disconnecting.
Connection id ""0HN5UO4B5DDB0"" stopped.
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0095ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0115ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 12.035ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0061ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0055ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 2 items
Connection id ""0HN5UO4B5DDB1"" accepted.
Connection id ""0HN5UO4B5DDB1"" started.
Request starting "HTTP/1.1" "PUT" "http"://"localhost:8086""""/api/Appointments/reschedule/3""" - "application/json" 130
1 candidate(s) found for the request path '"/api/Appointments/reschedule/3"'
Endpoint '"AppointmentsController.RescheduleAppointment (Appointments.API)"' with route pattern '"api/Appointments/reschedule/{id:int}"' is valid for the request path '"/api/Appointments/reschedule/3"'
Request matched endpoint '"AppointmentsController.RescheduleAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.RescheduleAppointment (Appointments.API)"'
Route matched with "{action = \"RescheduleAppointment\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RescheduleAppointment(RescheduleAppointmentRequest)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"RescheduleAppointmentRequest"' ...
Attempting to bind parameter '"request"' of type '"RescheduleAppointmentRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UO4B5DDB1"", Request id ""0HN5UO4B5DDB1:00000001"": started reading request body.
Connection id ""0HN5UO4B5DDB1"", Request id ""0HN5UO4B5DDB1:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"RescheduleAppointmentRequest"'
Done attempting to bind parameter '"request"' of type '"RescheduleAppointmentRequest"'.
Done attempting to bind parameter '"request"' of type '"RescheduleAppointmentRequest"'.
Attempting to validate the bound parameter '"request"' of type '"RescheduleAppointmentRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"RescheduleAppointmentRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (9ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Beginning transaction with isolation level '"Unspecified"'.
Began transaction with isolation level '"ReadCommitted"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (15ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("123"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 38ms reading results.
The unchanged property '"Appointment"."Date"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
An entity of type '"Appointment"' tracked by '"AppointmentsDbContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
The unchanged property '"Appointment"."DoctorId"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
The unchanged property '"Appointment"."Time"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Committing transaction.
Committed transaction.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Appointments\" SET \"Date\" = @p0, \"DoctorId\" = @p1, \"IsApproved\" = @p2, \"PatientId\" = @p3, \"ServiceId\" = @p4, \"Time\" = @p5
WHERE \"Id\" = @p6;"
Executed DbCommand ("46"ms) [Parameters=["@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Appointments\" SET \"Date\" = @p0, \"DoctorId\" = @p1, \"IsApproved\" = @p2, \"PatientId\" = @p3, \"ServiceId\" = @p4, \"Time\" = @p5
WHERE \"Id\" = @p6;"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 3ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
An entity of type '"Appointment"' tracked by '"AppointmentsDbContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"Appointment"'.
Executed action "AppointmentsController.RescheduleAppointment (Appointments.API)" in 1037.8415ms
Executed endpoint '"AppointmentsController.RescheduleAppointment (Appointments.API)"'
HTTP "PUT" "/api/Appointments/reschedule/3" responded 200 in 1196.3347 ms
Connection id ""0HN5UO4B5DDB1"" completed keep alive response.
Disposing transaction.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "PUT" "http"://"localhost:8086""""/api/Appointments/reschedule/3""" - 200 null "application/json; charset=utf-8" 1375.515ms
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0918ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0067ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 2 items
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17%2013%3A48%3A10.273%2B00%20&doctorId=12&serviceId=2&isActive=true" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Appointment>()"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
        SELECT a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
        FROM Appointments AS a), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Creating DbConnection.
Created DbConnection. (8ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Executed DbCommand ("74"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 26ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 3618.8374ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 3993.0786 ms
Connection id ""0HN5UO4B5DDB1"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17%2013%3A48%3A10.273%2B00%20&doctorId=12&serviceId=2&isActive=true" - 200 null "application/json; charset=utf-8" 4138.0774ms
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 0 items - remaining: 2 items
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17%2013%3A48%3A10.273%2B00%20&doctorId=12&serviceId=12&isActive=true" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 128.918ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 163.6184 ms
Connection id ""0HN5UO4B5DDB1"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17%2013%3A48%3A10.273%2B00%20&doctorId=12&serviceId=12&isActive=true" - 200 null "application/json; charset=utf-8" 180.982ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17%2013%3A48%3A10.273%2B00%20&doctorId=12&serviceId=12&isActive=true" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 95.4022ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 119.8186 ms
Connection id ""0HN5UO4B5DDB1"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17%2013%3A48%3A10.273%2B00%20&doctorId=12&serviceId=12&isActive=true" - 200 null "application/json; charset=utf-8" 137.8366ms
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0064ms - processed: 0 items - remaining: 2 items
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17%2013%3A48%3A10.273%2B00%20&doctorId=12&serviceId=12&isActive=false" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 98.8713ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 122.7109 ms
Connection id ""0HN5UO4B5DDB1"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17%2013%3A48%3A10.273%2B00%20&doctorId=12&serviceId=12&isActive=false" - 200 null "application/json; charset=utf-8" 144.5428ms
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 2 items
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17%2013%3A00&doctorId=12&serviceId=12&isActive=false" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 86.8654ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 111.2492 ms
Connection id ""0HN5UO4B5DDB1"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17%2013%3A00&doctorId=12&serviceId=12&isActive=false" - 200 null "application/json; charset=utf-8" 129.9547ms
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0479ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.006ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.006ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0059ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0061ms - processed: 0 items - remaining: 2 items
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0121ms - processed: 0 items - remaining: 3 items
Connection id ""0HN5UO4B5DDB1"" received FIN.
Connection id ""0HN5UO4B5DDB1"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UO4B5DDB1"" disconnecting.
Connection id ""0HN5UO4B5DDB1"" stopped.
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0055ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0586ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0076ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0116ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0095ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0122ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0064ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0067ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0068ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0075ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0079ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0068ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 3 items
Connection id ""0HN5UO4B5DDB2"" accepted.
Connection id ""0HN5UO4B5DDB2"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17%2013%3A00&doctorId=12&serviceId=12&isActive=false" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 337.2764ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 466.1869 ms
Connection id ""0HN5UO4B5DDB2"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17%2013%3A00&doctorId=12&serviceId=12&isActive=false" - 200 null "application/json; charset=utf-8" 600.2731ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17%2013%3A00&doctorId=12&serviceId=12&isActive=true" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 129.6152ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 168.1429 ms
Connection id ""0HN5UO4B5DDB2"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17%2013%3A00&doctorId=12&serviceId=12&isActive=true" - 200 null "application/json; charset=utf-8" 193.681ms
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0095ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0078ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 0 items - remaining: 3 items
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create""" - "application/json" 198
1 candidate(s) found for the request path '"/api/Appointments/create"'
Endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"' with route pattern '"api/Appointments/create"' is valid for the request path '"/api/Appointments/create"'
Request matched endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Route matched with "{action = \"CreateAppointment\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointment(CreateAppointmentRequest)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UO4B5DDB2"", Request id ""0HN5UO4B5DDB2:00000003"": started reading request body.
Connection id ""0HN5UO4B5DDB2"", Request id ""0HN5UO4B5DDB2:00000003"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"'.
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 2602.5337ms - 200
End processing HTTP request after 2613.2772ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 198.0911ms - 200
End processing HTTP request after 206.979ms - 200
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (8ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("58"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 34ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
'"AppointmentsDbContext"' generated a temporary value for the property '"Appointment"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Appointments\" (\"Date\", \"DoctorId\", \"IsApproved\", \"PatientId\", \"ServiceId\", \"Time\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING \"Id\";"
Executed DbCommand ("38"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Appointments\" (\"Date\", \"DoctorId\", \"IsApproved\", \"PatientId\", \"ServiceId\", \"Time\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING \"Id\";"
The foreign key property '"Appointment"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 14ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
An entity of type '"Appointment"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"Appointment"'.
Executed action "AppointmentsController.CreateAppointment (Appointments.API)" in 3529.8526ms
Executed endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
HTTP "POST" "/api/Appointments/create" responded 200 in 3553.2783 ms
Connection id ""0HN5UO4B5DDB2"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create""" - 200 null "application/json; charset=utf-8" 3586.6987ms
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 3 items
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17%2013%3A00&doctorId=12&serviceId=12&isActive=true" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 75.2568ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 94.1510 ms
Connection id ""0HN5UO4B5DDB2"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17%2013%3A00&doctorId=12&serviceId=12&isActive=true" - 200 null "application/json; charset=utf-8" 114.2826ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17%2015%3A00&doctorId=12&serviceId=12&isActive=true" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 72.7709ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 98.1414 ms
Connection id ""0HN5UO4B5DDB2"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17%2015%3A00&doctorId=12&serviceId=12&isActive=true" - 200 null "application/json; charset=utf-8" 115.3615ms
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0089ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0107ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0118ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0076ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 3 items
HttpMessageHandler expired after 120000ms for client '"profiles"'
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Config reload token fired. Checking for changes...
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0068ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0061ms - processed: 0 items - remaining: 4 items
Connection id ""0HN5UO4B5DDB2"" received FIN.
Connection id ""0HN5UO4B5DDB2"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UO4B5DDB2"" disconnecting.
Connection id ""0HN5UO4B5DDB2"" stopped.
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0052ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0113ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0079ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0061ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0078ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0984ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0067ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0085ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 1.4072ms - processed: 0 items - remaining: 4 items
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-JY97LRAqKWl3d_07j75LVg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-3ywUgkF9rgErvyW0E1jJXA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-muTz_k9iOBXV1TL495tQBw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-99bSwZPLg8zPCYxY0hPfyg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-JY97LRAqKWl3d_07j75LVg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-muTz_k9iOBXV1TL495tQBw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-99bSwZPLg8zPCYxY0hPfyg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-3ywUgkF9rgErvyW0E1jJXA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/93e4ce8a5a27_AppointmentsAPI_bus_bwbyyyfcnobrfu36bdqm7odcf3?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/93e4ce8a5a27_AppointmentsAPI_bus_bwbyyyfcnobrfu36bdqm7odcf3?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (202ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (36ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (39ms).
Initialized DbCommand for '"ExecuteScalar"' (63ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("200"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (20ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("36"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 30ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 50894)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_8yyyyyfcnobrr6oybdqm7tteft?temporary=true
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-tXXjd6MROALsKmqEy_BmWw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-VC1SZWUnvKX4ke83UVsjjA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-v_BVsD_yJLTrh89pTii9ZA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-rdKHEgWxOBXVOITzQVpFOw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5UOQBP6VHI"" accepted.
Connection id ""0HN5UOQBP6VHI"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
Wildcard detected, all requests with hosts will be allowed.
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN5UOQBP6VHI"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 836.1097ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - null null
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Connection id ""0HN5UOQBP6VHI"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 53.965ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Connection id ""0HN5UOQBP6VHI"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 496.7341ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=12&serviceId=12&isActive=false" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 1207.6679ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 1421.0457 ms
Connection id ""0HN5UOQBP6VHI"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=12&serviceId=12&isActive=false" - 200 null "application/json; charset=utf-8" 1569.4539ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=12&serviceId=12&isActive=true" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 171.0377ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 245.2004 ms
Connection id ""0HN5UOQBP6VHI"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=12&serviceId=12&isActive=true" - 200 null "application/json; charset=utf-8" 277.9079ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/approve/3""" - null 0
1 candidate(s) found for the request path '"/api/Appointments/approve/3"'
Endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"' with route pattern '"api/Appointments/approve/{id:int}"' is valid for the request path '"/api/Appointments/approve/3"'
Request matched endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"'
Route matched with "{action = \"ApproveAppointment\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveAppointment(Int32)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (6ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Beginning transaction with isolation level '"Unspecified"'.
Began transaction with isolation level '"ReadCommitted"'.
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (14ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("192"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 166ms reading results.
The unchanged property '"Appointment"."IsApproved"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
An entity of type '"Appointment"' tracked by '"AppointmentsDbContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Committing transaction.
Committed transaction.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Appointments\" SET \"Date\" = @p0, \"DoctorId\" = @p1, \"IsApproved\" = @p2, \"PatientId\" = @p3, \"ServiceId\" = @p4, \"Time\" = @p5
WHERE \"Id\" = @p6;"
Executed DbCommand ("55"ms) [Parameters=["@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Appointments\" SET \"Date\" = @p0, \"DoctorId\" = @p1, \"IsApproved\" = @p2, \"PatientId\" = @p3, \"ServiceId\" = @p4, \"Time\" = @p5
WHERE \"Id\" = @p6;"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 10ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
An entity of type '"Appointment"' tracked by '"AppointmentsDbContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"MediatR.Unit"'.
Executed action "AppointmentsController.ApproveAppointment (Appointments.API)" in 1813.4995ms
Executed endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"'
HTTP "POST" "/api/Appointments/approve/3" responded 200 in 1843.8488 ms
Connection id ""0HN5UOQBP6VHI"" completed keep alive response.
Disposing transaction.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (24ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/approve/3""" - 200 null "application/json; charset=utf-8" 1934.2016ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=12&serviceId=12&isActive=true" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Appointment>()"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
        SELECT a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
        FROM Appointments AS a), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Creating DbConnection.
Created DbConnection. (5ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 12ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 371.178ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 393.3377 ms
Connection id ""0HN5UOQBP6VHI"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=12&serviceId=12&isActive=true" - 200 null "application/json; charset=utf-8" 420.1497ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=12&serviceId=12&isActive=true" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 54.4162ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 77.4572 ms
Connection id ""0HN5UOQBP6VHI"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=12&serviceId=12&isActive=true" - 200 null "application/json; charset=utf-8" 91.7323ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 2.7093ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0254ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0062ms - processed: 0 items - remaining: 1 items
Connection id ""0HN5UOQBP6VHI"" received FIN.
Connection id ""0HN5UOQBP6VHI"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UOQBP6VHI"" disconnecting.
Connection id ""0HN5UOQBP6VHI"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0111ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0135ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0121ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0087ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0064ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0098ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0091ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0117ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0083ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0121ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0106ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0099ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0106ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.011ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0089ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0097ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 2.679ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0067ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0093ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0076ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0087ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0078ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0078ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 5.0823ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.006ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0075ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0105ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0097ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0059ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0113ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0091ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0075ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0056ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0188ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.009ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0093ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0068ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0105ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0149ms - processed: 0 items - remaining: 1 items
Connection id ""0HN5UOQBP6VHJ"" accepted.
Connection id ""0HN5UOQBP6VHJ"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=12&serviceId=12&isActive=true" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (17ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (9ms).
Initialized DbCommand for '"ExecuteReader"' (10ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Executed DbCommand ("122"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 46ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 2681.9962ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 2793.7405 ms
Connection id ""0HN5UOQBP6VHJ"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=12&serviceId=12&isActive=true" - 200 null "application/json; charset=utf-8" 2945.1816ms
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 8.9418ms - processed: 1 items - remaining: 0 items
Connection id ""0HN5UOQBP6VHJ"" received FIN.
Connection id ""0HN5UOQBP6VHJ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UOQBP6VHJ"" disconnecting.
Connection id ""0HN5UOQBP6VHJ"" stopped.
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0052ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0059ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0061ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0062ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0059ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0881ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0052ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0086ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0476ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.1351ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0781ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0056ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0068ms - processed: 0 items - remaining: 1 items
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-v_BVsD_yJLTrh89pTii9ZA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-rdKHEgWxOBXVOITzQVpFOw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-tXXjd6MROALsKmqEy_BmWw"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-VC1SZWUnvKX4ke83UVsjjA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-rdKHEgWxOBXVOITzQVpFOw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-v_BVsD_yJLTrh89pTii9ZA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-VC1SZWUnvKX4ke83UVsjjA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-tXXjd6MROALsKmqEy_BmWw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_8yyyyyfcnobrr6oybdqm7tteft?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_8yyyyyfcnobrr6oybdqm7tteft?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (441ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (71ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (89ms).
Initialized DbCommand for '"ExecuteScalar"' (190ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("233"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (11ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (8ms).
Initialized DbCommand for '"ExecuteReader"' (10ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("112"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 31ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 38920)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_peyoyyfcnobrrumibdqm7if9g4?temporary=true
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-pzOxRrtgAI-HPGF1_XcKZw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-gX9UY2eH93814YYeD-qdaw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-USCFjsWbgzotNgMNzj87-g"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-bUilS3o1H1hBabPwWleoog"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Connection id ""0HN5UQJ4KSTVJ"" accepted.
Connection id ""0HN5UQJ4KSTVJ"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=12&serviceId=12&isActive=true" - null null
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Appointment>()"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
        SELECT a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
        FROM Appointments AS a), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Executed DbCommand ("71"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 272ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 2587.8172ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 2867.7629 ms
Connection id ""0HN5UQJ4KSTVJ"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=12&serviceId=12&isActive=true" - 200 null "application/json; charset=utf-8" 3144.8724ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=12&serviceId=12&isActive=true" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 12ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 362.818ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 396.3697 ms
Connection id ""0HN5UQJ4KSTVJ"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=12&serviceId=12&isActive=true" - 200 null "application/json; charset=utf-8" 442.9385ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 3.3983ms - processed: 0 items - remaining: 1 items
Connection id ""0HN5UQJ4KSTVJ"" received FIN.
Connection id ""0HN5UQJ4KSTVJ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UQJ4KSTVJ"" disconnecting.
Connection id ""0HN5UQJ4KSTVJ"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0233ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0109ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.012ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0235ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0136ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0108ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 20.5596ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.012ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0128ms - processed: 0 items - remaining: 1 items
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-pzOxRrtgAI-HPGF1_XcKZw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-USCFjsWbgzotNgMNzj87-g"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-gX9UY2eH93814YYeD-qdaw"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-bUilS3o1H1hBabPwWleoog"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-USCFjsWbgzotNgMNzj87-g"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-pzOxRrtgAI-HPGF1_XcKZw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-gX9UY2eH93814YYeD-qdaw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-bUilS3o1H1hBabPwWleoog"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_peyoyyfcnobrrumibdqm7if9g4?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_peyoyyfcnobrrumibdqm7if9g4?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (100ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (39ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (25ms).
Initialized DbCommand for '"ExecuteScalar"' (56ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("305"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (17ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 25ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 40150)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_yobyyyfcnobrruztbdqm7icegc?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-9mGptmqEqSetBBctJrz5MQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-j81ELeC1W86ez2tS6QE1qA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-7aM40kftV6XXvQBJ5ITHOg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-ei6czZHK4MhYiNxVj2OxSA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5UQNIV23VA"" accepted.
Connection id ""0HN5UQNIV23VA"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/approve/3""" - null 0
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Appointments/approve/3"'
Endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"' with route pattern '"api/Appointments/approve/{id:int}"' is valid for the request path '"/api/Appointments/approve/3"'
Request matched endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"'
Route matched with "{action = \"ApproveAppointment\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveAppointment(Int32)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (10ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Beginning transaction with isolation level '"Unspecified"'.
Began transaction with isolation level '"ReadCommitted"'.
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (40ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("254"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 319ms reading results.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "AppointmentsController.ApproveAppointment (Appointments.API)" in 3034.8666ms
Executed endpoint '"AppointmentsController.ApproveAppointment (Appointments.API)"'
HTTP "POST" "/api/Appointments/approve/3" responded 409 in 3601.3926 ms
Connection id ""0HN5UQNIV23VA"" completed keep alive response.
Disposing transaction.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (54ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/approve/3""" - 409 null "application/problem+json; charset=utf-8" 4708.1554ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=12&serviceId=12&isActive=true" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Appointment>()"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
        SELECT a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
        FROM Appointments AS a), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Creating DbConnection.
Created DbConnection. (5ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 18ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/12"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/12"
Received HTTP response headers after 4045.552ms - 400
End processing HTTP request after 4157.8435ms - 400
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 6159.605ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 500 in 6287.2726 ms
Connection id ""0HN5UQNIV23VA"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=12&serviceId=12&isActive=true" - 500 null "application/problem+json; charset=utf-8" 6476.4426ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Connection id ""0HN5UQNIV23VA"" received FIN.
Connection id ""0HN5UQNIV23VA"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UQNIV23VA"" disconnecting.
Connection id ""0HN5UQNIV23VA"" stopped.
Connection id ""0HN5UQNIV23VB"" accepted.
Connection id ""0HN5UQNIV23VB"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&serviceId=12&isActive=true" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (16ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Executed DbCommand ("149"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 283ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 2871.331ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 404 in 3092.3941 ms
Connection id ""0HN5UQNIV23VB"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&serviceId=12&isActive=true" - 404 null "application/problem+json; charset=utf-8" 3301.659ms
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 6.4233ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.018ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0167ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0127ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0199ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0162ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0187ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.1706ms - processed: 0 items - remaining: 1 items
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&serviceId=12&isActive=true" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (16ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (23ms).
Initialized DbCommand for '"ExecuteReader"' (28ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Executed DbCommand ("76"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 72ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0163ms - processed: 0 items - remaining: 1 items
Received HTTP response headers after 9267.4818ms - 200
End processing HTTP request after 9289.2438ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 755.7628ms - 200
End processing HTTP request after 774.6106ms - 200
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("66"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 199ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 13284.3391ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 13396.4391 ms
Connection id ""0HN5UQNIV23VB"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&serviceId=12&isActive=true" - 200 null "application/json; charset=utf-8" 13541.3704ms
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0122ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0133ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0171ms - processed: 0 items - remaining: 1 items
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0158ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0134ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0112ms - processed: 0 items - remaining: 2 items
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&serviceId=45&isActive=true" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 789.968ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 952.9412 ms
Connection id ""0HN5UQNIV23VB"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&serviceId=45&isActive=true" - 200 null "application/json; charset=utf-8" 1159.5438ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&serviceId=45&isActive=true" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 150.7577ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 183.7428 ms
Connection id ""0HN5UQNIV23VB"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&serviceId=45&isActive=true" - 200 null "application/json; charset=utf-8" 210.3834ms
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0209ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0158ms - processed: 0 items - remaining: 2 items
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&serviceId=45&isActive=true" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 734.7938ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 967.2644 ms
Connection id ""0HN5UQNIV23VB"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&serviceId=45&isActive=true" - 200 null "application/json; charset=utf-8" 1221.2808ms
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0189ms - processed: 0 items - remaining: 2 items
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&serviceId=45&isActive=false" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 418.7268ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 494.0357 ms
Connection id ""0HN5UQNIV23VB"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&serviceId=45&isActive=false" - 200 null "application/json; charset=utf-8" 550.4682ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=22&serviceId=45&isActive=false" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 210.846ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 257.7121 ms
Connection id ""0HN5UQNIV23VB"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=22&serviceId=45&isActive=false" - 200 null "application/json; charset=utf-8" 307.9102ms
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0154ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0142ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0264ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 2.7381ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0138ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0152ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0134ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 1.0733ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0186ms - processed: 0 items - remaining: 2 items
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0195ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0134ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0142ms - processed: 0 items - remaining: 3 items
Connection id ""0HN5UQNIV23VB"" received FIN.
Connection id ""0HN5UQNIV23VB"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UQNIV23VB"" disconnecting.
Connection id ""0HN5UQNIV23VB"" stopped.
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0234ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0161ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0124ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 1.7407ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0126ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0141ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0121ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0105ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.2709ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.02ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0123ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0093ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0127ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.013ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0122ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.012ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0142ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0117ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0224ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0604ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0126ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0639ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0137ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.013ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.9463ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0108ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0157ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0143ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0133ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.011ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0068ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0102ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0092ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0067ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0096ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0075ms - processed: 0 items - remaining: 3 items
Connection id ""0HN5UQNIV23VC"" accepted.
Connection id ""0HN5UQNIV23VC"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=22&serviceId=45&isActive=false" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 726.6546ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 870.8979 ms
Connection id ""0HN5UQNIV23VC"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=22&serviceId=45&isActive=false" - 200 null "application/json; charset=utf-8" 1054.8887ms
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0087ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 3 items
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=3" - null null
1 candidate(s) found for the request path '"/api/Appointments/history"'
Endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"' with route pattern '"api/Appointments/history"' is valid for the request path '"/api/Appointments/history"'
Request matched endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 3 items
Route matched with "{action = \"GetAppointmentHistory\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentHistory(Int32)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Appointment>()
    .Where(a => a.PatientId == __request_PatientId_0)"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
        SELECT a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
        FROM Appointments AS a
        WHERE a.PatientId == @__request_PatientId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Creating DbConnection.
Created DbConnection. (7ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (12ms).
Executing DbCommand [Parameters=["@__request_PatientId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0"
Executed DbCommand ("123"ms) [Parameters=["@__request_PatientId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 8ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "AppointmentsController.GetAppointmentHistory (Appointments.API)" in 951.7675ms
Executed endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
HTTP "GET" "/api/Appointments/history" responded 404 in 2134.9576 ms
Connection id ""0HN5UQNIV23VC"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=3" - 404 null "application/problem+json; charset=utf-8" 2201.1333ms
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 22.8632ms - processed: 3 items - remaining: 0 items
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=8" - null null
1 candidate(s) found for the request path '"/api/Appointments/history"'
Endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"' with route pattern '"api/Appointments/history"' is valid for the request path '"/api/Appointments/history"'
Request matched endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Route matched with "{action = \"GetAppointmentHistory\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentHistory(Int32)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (9ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (17ms).
Initialized DbCommand for '"ExecuteReader"' (33ms).
Executing DbCommand [Parameters=["@__request_PatientId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0"
Executed DbCommand ("122"ms) [Parameters=["@__request_PatientId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 64ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 5517.8672ms - 200
End processing HTTP request after 5531.1442ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("36"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 13ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 196.8317ms - 200
End processing HTTP request after 205.0639ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 4ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 211.9036ms - 200
End processing HTTP request after 220.6963ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 3ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentHistoryResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentHistory (Appointments.API)" in 7437.2086ms
Executed endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
HTTP "GET" "/api/Appointments/history" responded 200 in 7549.9739 ms
Connection id ""0HN5UQNIV23VC"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=8" - 200 null "application/json; charset=utf-8" 7795.4624ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=8" - null null
1 candidate(s) found for the request path '"/api/Appointments/history"'
Endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"' with route pattern '"api/Appointments/history"' is valid for the request path '"/api/Appointments/history"'
Request matched endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Route matched with "{action = \"GetAppointmentHistory\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentHistory(Int32)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (7ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__request_PatientId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0"
Executed DbCommand ("10"ms) [Parameters=["@__request_PatientId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 14ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 249.2689ms - 200
End processing HTTP request after 269.0262ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (12ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("17"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 8ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 296.0137ms - 200
End processing HTTP request after 310.8433ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 10ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 202.9852ms - 200
End processing HTTP request after 217.4264ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (12ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("13"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 2ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (9ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentHistoryResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentHistory (Appointments.API)" in 1272.3089ms
Executed endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
HTTP "GET" "/api/Appointments/history" responded 200 in 1367.6994 ms
Connection id ""0HN5UQNIV23VC"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (15ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=8" - 200 null "application/json; charset=utf-8" 1499.5546ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=1" - null null
1 candidate(s) found for the request path '"/api/Appointments/history"'
Endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"' with route pattern '"api/Appointments/history"' is valid for the request path '"/api/Appointments/history"'
Request matched endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Route matched with "{action = \"GetAppointmentHistory\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentHistory(Int32)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@__request_PatientId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0"
Executed DbCommand ("9"ms) [Parameters=["@__request_PatientId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 6ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "AppointmentsController.GetAppointmentHistory (Appointments.API)" in 157.9191ms
Executed endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
HTTP "GET" "/api/Appointments/history" responded 404 in 213.8138 ms
Connection id ""0HN5UQNIV23VC"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=1" - 404 null "application/problem+json; charset=utf-8" 265.4707ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=8" - null null
1 candidate(s) found for the request path '"/api/Appointments/history"'
Endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"' with route pattern '"api/Appointments/history"' is valid for the request path '"/api/Appointments/history"'
Request matched endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Route matched with "{action = \"GetAppointmentHistory\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentHistory(Int32)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=["@__request_PatientId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0"
Executed DbCommand ("8"ms) [Parameters=["@__request_PatientId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 19ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 201.4603ms - 200
End processing HTTP request after 215.6178ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 13ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 270.6048ms - 200
End processing HTTP request after 283.9583ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (15ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 3ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 119.8667ms - 200
End processing HTTP request after 135.0885ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 11ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentHistoryResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentHistory (Appointments.API)" in 988.8273ms
Executed endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
HTTP "GET" "/api/Appointments/history" responded 200 in 1035.6403 ms
Connection id ""0HN5UQNIV23VC"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=8" - 200 null "application/json; charset=utf-8" 1100.5485ms
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.1685ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0059ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.006ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0061ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0068ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0059ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0097ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0139ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 1 items
Connection id ""0HN5UQNIV23VC"" received FIN.
Connection id ""0HN5UQNIV23VC"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UQNIV23VC"" disconnecting.
Connection id ""0HN5UQNIV23VC"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0068ms - processed: 0 items - remaining: 1 items
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0079ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.006ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0445ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0052ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0061ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0094ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0055ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.006ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0068ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0055ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0068ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0056ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0055ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0068ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0055ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0067ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0062ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.006ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0061ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0085ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0067ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0086ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0061ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0064ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.006ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0079ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0122ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0075ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0075ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0115ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0056ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0064ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.006ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0075ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0056ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0088ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0076ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0068ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0086ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0062ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0096ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0086ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0086ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0079ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0087ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 2 items
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-9mGptmqEqSetBBctJrz5MQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-ei6czZHK4MhYiNxVj2OxSA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-7aM40kftV6XXvQBJ5ITHOg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-j81ELeC1W86ez2tS6QE1qA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-7aM40kftV6XXvQBJ5ITHOg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-j81ELeC1W86ez2tS6QE1qA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-9mGptmqEqSetBBctJrz5MQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-ei6czZHK4MhYiNxVj2OxSA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_yobyyyfcnobrruztbdqm7icegc?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_yobyyyfcnobrruztbdqm7icegc?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (205ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (33ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (27ms).
Initialized DbCommand for '"ExecuteScalar"' (100ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("623"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (23ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (16ms).
Initialized DbCommand for '"ExecuteReader"' (23ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("51"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 68ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (12ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 58188)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_twboyyfcnobrfu44bdqm7shtyh?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Q-JVZxeAoVFybg6RdP_ghQ"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-KgifEWfIf-KIlkU0C7OpAw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-5C73pFBtrh55DI88-UZtUg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-87M_6AFURr42tpiq8YsOyA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5UREKH3GHA"" accepted.
Connection id ""0HN5UREKH3GHA"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=22&serviceId=45&isActive=false" - null null
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (24ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("76"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 24ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 2232.2972ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 404 in 2438.8750 ms
Connection id ""0HN5UREKH3GHA"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=22&serviceId=45&isActive=false" - 404 null "application/problem+json; charset=utf-8" 2735.4903ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=22&serviceId=2&isActive=false" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("29"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 14ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 510.8147ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 404 in 552.6276 ms
Connection id ""0HN5UREKH3GHA"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=22&serviceId=2&isActive=false" - 404 null "application/problem+json; charset=utf-8" 609.2844ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=22&serviceId=12&isActive=false" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("11"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 347ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/22"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/22"
Received HTTP response headers after 2330.6327ms - 400
End processing HTTP request after 2365.2093ms - 400
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 2954.1234ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 500 in 2976.4469 ms
Connection id ""0HN5UREKH3GHA"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=22&serviceId=12&isActive=false" - 500 null "application/problem+json; charset=utf-8" 3011.679ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&serviceId=12&isActive=false" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 1992.1888ms - 200
End processing HTTP request after 2000.0978ms - 200
Compiling query expression: "
"'"DbSet<Appointment>()"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
        SELECT a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
        FROM Appointments AS a), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 92ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 2436.7522ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 404 in 2464.4018 ms
Connection id ""0HN5UREKH3GHA"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (9ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&serviceId=12&isActive=false" - 404 null "application/problem+json; charset=utf-8" 2500.1955ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=3&serviceId=12&isActive=false" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 5ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/3"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/3"
Received HTTP response headers after 494.5332ms - 200
End processing HTTP request after 501.8064ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (9ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 24ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 784.0045ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 404 in 819.0505 ms
Connection id ""0HN5UREKH3GHA"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=3&serviceId=12&isActive=false" - 404 null "application/problem+json; charset=utf-8" 848.5307ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=4&serviceId=12&isActive=false" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (5ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 8ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 270.8166ms - 200
End processing HTTP request after 281.6943ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 21ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 561.0175ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 404 in 602.7263 ms
Connection id ""0HN5UREKH3GHA"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=4&serviceId=12&isActive=false" - 404 null "application/problem+json; charset=utf-8" 644.3797ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&serviceId=12&isActive=true" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (7ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 11ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 271.8957ms - 200
End processing HTTP request after 302.1715ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (7ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 25ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 131.3838ms - 200
End processing HTTP request after 149.5122ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 231.7031ms - 200
End processing HTTP request after 242.6775ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 1262.7242ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 1318.6264 ms
Connection id ""0HN5UREKH3GHA"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&serviceId=12&isActive=true" - 200 null "application/json; charset=utf-8" 1395.8481ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=8" - null null
1 candidate(s) found for the request path '"/api/Appointments/history"'
Endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"' with route pattern '"api/Appointments/history"' is valid for the request path '"/api/Appointments/history"'
Request matched endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Route matched with "{action = \"GetAppointmentHistory\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentHistory(Int32)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Appointment>()
    .Where(a => a.PatientId == __request_PatientId_0)"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
        SELECT a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
        FROM Appointments AS a
        WHERE a.PatientId == @__request_PatientId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=["@__request_PatientId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0"
Executed DbCommand ("6"ms) [Parameters=["@__request_PatientId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 8ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 126.2442ms - 200
End processing HTTP request after 134.3477ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (207ms).
Initialized DbCommand for '"ExecuteReader"' (208ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 137.318ms - 200
End processing HTTP request after 152.1696ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (95ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 6ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (12ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 119.0556ms - 200
End processing HTTP request after 135.839ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 12ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (12ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentHistoryResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentHistory (Appointments.API)" in 2289.7514ms
Executed endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
HTTP "GET" "/api/Appointments/history" responded 200 in 2364.2561 ms
Connection id ""0HN5UREKH3GHA"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=8" - 200 null "application/json; charset=utf-8" 2403.1874ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=8" - null null
1 candidate(s) found for the request path '"/api/Appointments/history"'
Endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"' with route pattern '"api/Appointments/history"' is valid for the request path '"/api/Appointments/history"'
Request matched endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Route matched with "{action = \"GetAppointmentHistory\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentHistory(Int32)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=["@__request_PatientId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0"
Executed DbCommand ("9"ms) [Parameters=["@__request_PatientId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 18ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 170.0541ms - 200
End processing HTTP request after 193.0659ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (9ms).
Initialized DbCommand for '"ExecuteReader"' (17ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 9ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 104.5989ms - 200
End processing HTTP request after 120.8362ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 2ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (10ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 176.5259ms - 200
End processing HTTP request after 216.6859ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (18ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 12ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentHistoryResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentHistory (Appointments.API)" in 987.7716ms
Executed endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
HTTP "GET" "/api/Appointments/history" responded 200 in 1049.6075 ms
Connection id ""0HN5UREKH3GHA"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=8" - 200 null "application/json; charset=utf-8" 1101.2637ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.6108ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0132ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0153ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0684ms - processed: 0 items - remaining: 1 items
Connection id ""0HN5UREKH3GHA"" received FIN.
Connection id ""0HN5UREKH3GHA"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UREKH3GHA"" disconnecting.
Connection id ""0HN5UREKH3GHA"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0147ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.9213ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0123ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 1.0603ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.014ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 1.0689ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0131ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.016ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0107ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0114ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0128ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0123ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0144ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0114ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0118ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.121ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.014ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0606ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0115ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0173ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0113ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0113ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0115ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0123ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0121ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0143ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 3.3804ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.011ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0112ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0174ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0089ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 5.7329ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.01ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0122ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0095ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0134ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0119ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0108ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.009ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.1902ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0102ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0114ms - processed: 0 items - remaining: 1 items
Connection id ""0HN5UREKH3GHB"" accepted.
Connection id ""0HN5UREKH3GHB"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/schedule/2""?appointmentDate=2024-08-17" - null null
1 candidate(s) found for the request path '"/api/Appointments/schedule/2"'
Endpoint '"AppointmentsController.GetAppointmentSchedule (Appointments.API)"' with route pattern '"api/Appointments/schedule/{doctorId:int}"' is valid for the request path '"/api/Appointments/schedule/2"'
Request matched endpoint '"AppointmentsController.GetAppointmentSchedule (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentSchedule (Appointments.API)"'
Route matched with "{action = \"GetAppointmentSchedule\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentSchedule(Int32, System.DateTime)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"doctorId"' of type '"System.Int32"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Int32"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Int32"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Int32"'.
Attempting to bind parameter '"appointmentDate"' of type '"System.DateTime"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.DateTime"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.DateTime"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.DateTime"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.DateTime"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.DateTime"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Appointment>()
    .Where(a => a.DoctorId == __request_DoctorId_0 && a.Date == __request_AppointmentDate_Date_1)"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
        SELECT a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
        FROM Appointments AS a
        WHERE (a.DoctorId == @__request_DoctorId_0) && (a.Date == @__request_AppointmentDate_Date_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Creating DbConnection.
Created DbConnection. (30ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (11ms).
Initialized DbCommand for '"ExecuteReader"' (35ms).
Executing DbCommand [Parameters=["@__request_DoctorId_0='?' (DbType = Int32), @__request_AppointmentDate_Date_1='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"DoctorId\" = @__request_DoctorId_0 AND a.\"Date\" = @__request_AppointmentDate_Date_1"
Failed executing DbCommand ("93"ms) [Parameters=["@__request_DoctorId_0='?' (DbType = Int32), @__request_AppointmentDate_Date_1='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"DoctorId\" = @__request_DoctorId_0 AND a.\"Date\" = @__request_AppointmentDate_Date_1"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
An exception occurred while iterating over the results of a query for context type '"AppointmentsDbContext"'."
""System.ArgumentException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()"
System.ArgumentException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Executed action "AppointmentsController.GetAppointmentSchedule (Appointments.API)" in 2637.2771ms
Executed endpoint '"AppointmentsController.GetAppointmentSchedule (Appointments.API)"'
HTTP "GET" "/api/Appointments/schedule/2" responded 500 in 3220.1649 ms
System.ArgumentException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at AppointmentsRepository.ListAsync(Expression`1 filter, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Infrastructure\Persistence\Repository\AppointmentsRepository.cs:line 45
   at ViewAppointmentScheduleQueryHandler.Handle(ViewAppointmentScheduleQuery request, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Application\Queries\Appointments\ViewAppointmentSchedule\ViewAppointmentScheduleQueryHandler.cs:line 17
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 23
   at AppointmentsController.GetAppointmentSchedule(Int32 doctorId, DateTime appointmentDate) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\AppointmentsController.cs:line 16
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.ArgumentException: Cannot write DateTime with Kind=Unspecified to PostgreSQL type 'timestamp with time zone', only UTC is supported. Note that it's not possible to mix DateTimes with different Kinds in an array, range, or multirange. (Parameter 'value')
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(DateTime value, Nullable`1 expectedPgTypeId, Boolean validateOnly)
   at Npgsql.Internal.Converters.DateTimeConverterResolver.<>c.<CreateResolver>b__0_0(DateTimeConverterResolver`1 resolver, DateTime value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.Converters.DateTimeConverterResolver`1.Get(T value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgConverterResolver`1.GetAsObjectInternal(PgTypeInfo typeInfo, Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgResolverTypeInfo.GetResolutionAsObject(Object value, Nullable`1 expectedPgTypeId)
   at Npgsql.Internal.PgTypeInfo.GetObjectResolution(Object value)
   at Npgsql.NpgsqlParameter.ResolveConverter(PgTypeInfo typeInfo)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at AppointmentsRepository.ListAsync(Expression`1 filter, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Infrastructure\Persistence\Repository\AppointmentsRepository.cs:line 45
   at ViewAppointmentScheduleQueryHandler.Handle(ViewAppointmentScheduleQuery request, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Application\Queries\Appointments\ViewAppointmentSchedule\ViewAppointmentScheduleQueryHandler.cs:line 17
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 23
   at AppointmentsController.GetAppointmentSchedule(Int32 doctorId, DateTime appointmentDate) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\AppointmentsController.cs:line 16
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5UREKH3GHB"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/schedule/2""?appointmentDate=2024-08-17" - 500 null "text/plain; charset=utf-8" 4319.5669ms
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0108ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0233ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0123ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0106ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0109ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0111ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0116ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0104ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0121ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.9857ms - processed: 0 items - remaining: 1 items
Connection id ""0HN5UREKH3GHB"" received FIN.
Connection id ""0HN5UREKH3GHB"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UREKH3GHB"" disconnecting.
Connection id ""0HN5UREKH3GHB"" stopped.
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0075ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0068ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0075ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0079ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0068ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.01ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0055ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0062ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0062ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 2 items
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Q-JVZxeAoVFybg6RdP_ghQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-5C73pFBtrh55DI88-UZtUg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-87M_6AFURr42tpiq8YsOyA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-5C73pFBtrh55DI88-UZtUg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-Q-JVZxeAoVFybg6RdP_ghQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-87M_6AFURr42tpiq8YsOyA"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-KgifEWfIf-KIlkU0C7OpAw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-KgifEWfIf-KIlkU0C7OpAw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_twboyyfcnobrfu44bdqm7shtyh?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_twboyyfcnobrfu44bdqm7shtyh?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0062ms - processed: 0 items - remaining: 2 items
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (107ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (21ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (16ms).
Initialized DbCommand for '"ExecuteScalar"' (38ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("259"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("33"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 28ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 33150)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_1cnyyyfcnobrfxbdbdqm7zo8dq?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-d8Yl0-ixsDKdK2HUbZz8AA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-4VyvcK3mfrbcmDXQl0ycRQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-E0mEHMfxIEZ5uXiNuvh8bQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-T9c-1ttx7HyIZoZIo318eg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5URPA36AUT"" accepted.
Connection id ""0HN5URPA36AUT"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/schedule/2""?appointmentDate=2024-08-17" - null null
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Appointments/schedule/2"'
Endpoint '"AppointmentsController.GetAppointmentSchedule (Appointments.API)"' with route pattern '"api/Appointments/schedule/{doctorId:int}"' is valid for the request path '"/api/Appointments/schedule/2"'
Request matched endpoint '"AppointmentsController.GetAppointmentSchedule (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentSchedule (Appointments.API)"'
Route matched with "{action = \"GetAppointmentSchedule\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentSchedule(Int32, System.DateTime)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"doctorId"' of type '"System.Int32"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Int32"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Int32"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Int32"'.
Attempting to bind parameter '"appointmentDate"' of type '"System.DateTime"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.DateTime"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.DateTime"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.DateTime"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.DateTime"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.DateTime"'.
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 4622.8556ms - 200
End processing HTTP request after 4648.8013ms - 200
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Appointment>()
    .Where(a => a.DoctorId == __request_DoctorId_0 && a.Date == __request_AppointmentDate_Date_1)"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
        SELECT a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
        FROM Appointments AS a
        WHERE (a.DoctorId == @__request_DoctorId_0) && (a.Date == @__request_AppointmentDate_Date_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Creating DbConnection.
Created DbConnection. (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (23ms).
Executing DbCommand [Parameters=["@__request_DoctorId_0='?' (DbType = Int32), @__request_AppointmentDate_Date_1='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"DoctorId\" = @__request_DoctorId_0 AND a.\"Date\" = @__request_AppointmentDate_Date_1"
Executed DbCommand ("97"ms) [Parameters=["@__request_DoctorId_0='?' (DbType = Int32), @__request_AppointmentDate_Date_1='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"DoctorId\" = @__request_DoctorId_0 AND a.\"Date\" = @__request_AppointmentDate_Date_1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 14ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "AppointmentsController.GetAppointmentSchedule (Appointments.API)" in 6984.939ms
Executed endpoint '"AppointmentsController.GetAppointmentSchedule (Appointments.API)"'
HTTP "GET" "/api/Appointments/schedule/2" responded 404 in 7197.2208 ms
Connection id ""0HN5URPA36AUT"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/schedule/2""?appointmentDate=2024-08-17" - 404 null "application/problem+json; charset=utf-8" 7676.7048ms
Application is shutting down...
Hosting stopping
Connection id ""0HN5URPA36AUT"" disconnecting.
Connection id ""0HN5URPA36AUT"" stopped.
Connection id ""0HN5URPA36AUT"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-d8Yl0-ixsDKdK2HUbZz8AA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-4VyvcK3mfrbcmDXQl0ycRQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-T9c-1ttx7HyIZoZIo318eg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-E0mEHMfxIEZ5uXiNuvh8bQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-d8Yl0-ixsDKdK2HUbZz8AA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-E0mEHMfxIEZ5uXiNuvh8bQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-T9c-1ttx7HyIZoZIo318eg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-4VyvcK3mfrbcmDXQl0ycRQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_1cnyyyfcnobrfxbdbdqm7zo8dq?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_1cnyyyfcnobrfxbdbdqm7zo8dq?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (191ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (26ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (32ms).
Initialized DbCommand for '"ExecuteScalar"' (51ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("368"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (27ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (13ms).
Initialized DbCommand for '"ExecuteReader"' (21ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("64"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 58ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 45474)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_gynoyyfcnobrfgyybdqm7zipda?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-18pMkrOGFFLVTXeBkxCfJw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-uWX48nnetnSp_QsMlwo7rw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-T93ZNkcXREDh5y6Im6LfJQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-aoaFEOGSfhG_pFZXDwFeuQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5URQOVRS1R"" accepted.
Connection id ""0HN5URQOVRS1R"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/schedule/2""?appointmentDate=2024-08-17" - null null
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Appointments/schedule/2"'
Endpoint '"AppointmentsController.GetAppointmentSchedule (Appointments.API)"' with route pattern '"api/Appointments/schedule/{doctorId:int}"' is valid for the request path '"/api/Appointments/schedule/2"'
Request matched endpoint '"AppointmentsController.GetAppointmentSchedule (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentSchedule (Appointments.API)"'
Route matched with "{action = \"GetAppointmentSchedule\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentSchedule(Int32, System.DateTime)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"doctorId"' of type '"System.Int32"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Int32"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Int32"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Int32"'.
Attempting to bind parameter '"appointmentDate"' of type '"System.DateTime"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.DateTime"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.DateTime"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.DateTime"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.DateTime"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.DateTime"'.
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 4923.6144ms - 200
End processing HTTP request after 4969.7603ms - 200
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Appointment>()
    .Where(a => a.DoctorId == __request_DoctorId_0 && a.Date.Date == __request_AppointmentDate_Date_1)"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
        SELECT a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
        FROM Appointments AS a
        WHERE (a.DoctorId == @__request_DoctorId_0) && (date_trunc('day', a.Date, 'UTC') == @__request_AppointmentDate_Date_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (15ms).
Executing DbCommand [Parameters=["@__request_DoctorId_0='?' (DbType = Int32), @__request_AppointmentDate_Date_1='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"DoctorId\" = @__request_DoctorId_0 AND date_trunc('day', a.\"Date\", 'UTC') = @__request_AppointmentDate_Date_1"
Executed DbCommand ("78"ms) [Parameters=["@__request_DoctorId_0='?' (DbType = Int32), @__request_AppointmentDate_Date_1='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"DoctorId\" = @__request_DoctorId_0 AND date_trunc('day', a.\"Date\", 'UTC') = @__request_AppointmentDate_Date_1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 150ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 642.6281ms - 200
End processing HTTP request after 649.5445ms - 200
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("19"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 58ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentsScheduleResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentSchedule (Appointments.API)" in 8884.2951ms
Executed endpoint '"AppointmentsController.GetAppointmentSchedule (Appointments.API)"'
HTTP "GET" "/api/Appointments/schedule/2" responded 200 in 9081.8162 ms
Connection id ""0HN5URQOVRS1R"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (63ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/schedule/2""?appointmentDate=2024-08-17" - 200 null "application/json; charset=utf-8" 9477.2994ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Connection id ""0HN5URQOVRS1R"" received FIN.
Connection id ""0HN5URQOVRS1R"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5URQOVRS1R"" disconnecting.
Connection id ""0HN5URQOVRS1R"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.6091ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0102ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0129ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0096ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0131ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.3544ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0204ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0134ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0143ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0159ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0085ms - processed: 0 items - remaining: 1 items
Connection id ""0HN5URQOVRS1S"" accepted.
Connection id ""0HN5URQOVRS1S"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5URQOVRS1S"", Request id ""0HN5URQOVRS1S:00000001"": started reading request body.
Connection id ""0HN5URQOVRS1S"", Request id ""0HN5URQOVRS1S:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (10ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (11ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("121"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 22ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("14"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 4ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 1871.3621ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 404 in 2182.4032 ms
Connection id ""0HN5URQOVRS1S"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 404 null "application/problem+json; charset=utf-8" 2435.2444ms
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0117ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0141ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 1.2651ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 7.9918ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0154ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0093ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0137ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0127ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0134ms - processed: 0 items - remaining: 1 items
Application is shutting down...
Hosting stopping
Connection id ""0HN5URQOVRS1S"" disconnecting.
Connection id ""0HN5URQOVRS1S"" stopped.
Connection id ""0HN5URQOVRS1S"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-aoaFEOGSfhG_pFZXDwFeuQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-18pMkrOGFFLVTXeBkxCfJw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-uWX48nnetnSp_QsMlwo7rw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-T93ZNkcXREDh5y6Im6LfJQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-aoaFEOGSfhG_pFZXDwFeuQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-uWX48nnetnSp_QsMlwo7rw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-T93ZNkcXREDh5y6Im6LfJQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-18pMkrOGFFLVTXeBkxCfJw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_gynoyyfcnobrfgyybdqm7zipda?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_gynoyyfcnobrfgyybdqm7zipda?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (292ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
An error occurred using the connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (95ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (33ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (36ms).
Initialized DbCommand for '"ExecuteScalar"' (58ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("262"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 31ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 44722)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_jrdyyyfcnobrfodubdqm7arnrt?temporary=true
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-zlVCPXJnkP573-DzvPwC8g"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-xB-N3MfQmw-7iMJmDQAyZQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-ukfFm6xIu3yTIyFDNazDkw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-JxLRd6aPnGcgtK6hBzeRGQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5US267K6MP"" accepted.
Connection id ""0HN5US267K6MP"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5US267K6MP"", Request id ""0HN5US267K6MP:00000001"": started reading request body.
Connection id ""0HN5US267K6MP"", Request id ""0HN5US267K6MP:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (12ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("61"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 158ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("18"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 80ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 3341.7347ms - 200
End processing HTTP request after 3363.0497ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 581.3272ms - 200
End processing HTTP request after 589.0411ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("142"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 42ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 7351.9963ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 500 in 7496.3013 ms
System.Exception: QuestPDF is a modern open-source library. We identify the importance of the library in your projects and therefore want to make sure you can safely and confidently continue the development. Being a healthy and growing community is the primary goal that motivates us to pursue professionalism. 

Please refer to the QuestPDF License and Pricing webpage for more details. (https://www.questpdf.com/license/) 

If you are an existing QuestPDF user and for any reason cannot update, you can stay with the 2022.12.X release with the extended quality support but without any new features, improvements, or optimizations. That release will always be available under the MIT license, free for commercial usage. We are planning to sunset support for the 2022.12.X branch around Q1 2024. Until then, it will continue to receive quality and bug-fix updates. 

The library does not require any license key. We trust our users, and therefore the process is simple. To disable license validation and turn off this exception, please configure an eligible license using the QuestPDF.Settings.License API, for example: 

"QuestPDF.Settings.License = LicenseType.Community;" 

Learn more on: https://www.questpdf.com/license/configuration.html 


   at QuestPDF.Drawing.DocumentGenerator.ValidateLicense()
   at QuestPDF.Drawing.DocumentGenerator.GeneratePdf(SkWriteStream stream, IDocument document)
   at QuestPDF.Fluent.GenerateExtensions.GeneratePdf(IDocument document)
   at PDFDodumentGenerator.GenerateAppointmentResults(GeneratePDFResultsRequest results) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Application\PDF\PDFDodumentGenerator.cs:line 9
   at CreateAppointmentsResultCommandHandler.Handle(CreateAppointmentsResultCommand request, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Application\Commands\Results\CreateAppointmentResult\CreateAppointmentsResultCommandHandler.cs:line 73
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 23
   at ResultsController.CreateAppointmentResult(CreateAppointmentResultRequest request) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.Exception: QuestPDF is a modern open-source library. We identify the importance of the library in your projects and therefore want to make sure you can safely and confidently continue the development. Being a healthy and growing community is the primary goal that motivates us to pursue professionalism. 

Please refer to the QuestPDF License and Pricing webpage for more details. (https://www.questpdf.com/license/) 

If you are an existing QuestPDF user and for any reason cannot update, you can stay with the 2022.12.X release with the extended quality support but without any new features, improvements, or optimizations. That release will always be available under the MIT license, free for commercial usage. We are planning to sunset support for the 2022.12.X branch around Q1 2024. Until then, it will continue to receive quality and bug-fix updates. 

The library does not require any license key. We trust our users, and therefore the process is simple. To disable license validation and turn off this exception, please configure an eligible license using the QuestPDF.Settings.License API, for example: 

"QuestPDF.Settings.License = LicenseType.Community;" 

Learn more on: https://www.questpdf.com/license/configuration.html 


   at QuestPDF.Drawing.DocumentGenerator.ValidateLicense()
   at QuestPDF.Drawing.DocumentGenerator.GeneratePdf(SkWriteStream stream, IDocument document)
   at QuestPDF.Fluent.GenerateExtensions.GeneratePdf(IDocument document)
   at PDFDodumentGenerator.GenerateAppointmentResults(GeneratePDFResultsRequest results) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Application\PDF\PDFDodumentGenerator.cs:line 9
   at CreateAppointmentsResultCommandHandler.Handle(CreateAppointmentsResultCommand request, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Application\Commands\Results\CreateAppointmentResult\CreateAppointmentsResultCommandHandler.cs:line 73
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 23
   at ResultsController.CreateAppointmentResult(CreateAppointmentResultRequest request) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5US267K6MP"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 500 null "text/plain; charset=utf-8" 7905.1863ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Connection id ""0HN5US267K6MP"" received FIN.
Connection id ""0HN5US267K6MP"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5US267K6MP"" disconnecting.
Connection id ""0HN5US267K6MP"" stopped.
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-ukfFm6xIu3yTIyFDNazDkw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-JxLRd6aPnGcgtK6hBzeRGQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-xB-N3MfQmw-7iMJmDQAyZQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-ukfFm6xIu3yTIyFDNazDkw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-xB-N3MfQmw-7iMJmDQAyZQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-JxLRd6aPnGcgtK6hBzeRGQ"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-zlVCPXJnkP573-DzvPwC8g"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-zlVCPXJnkP573-DzvPwC8g"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_jrdyyyfcnobrfodubdqm7arnrt?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_jrdyyyfcnobrfodubdqm7arnrt?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (463ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (31ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (36ms).
Initialized DbCommand for '"ExecuteScalar"' (59ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("323"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (20ms).
Initialized DbCommand for '"ExecuteReader"' (25ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 20ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 54352)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_4odyyyfcnobrruccbdqm7aeoyr?temporary=true
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-qTjTMRM199HWnrhGTXb6tA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-RTZhC1HRNRCBePbuqXyVrw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-GOWHD0HGfRv77QnCvXrVTQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-oxqTh9eZkGls4Th16hLNdQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5US4NMSHLN"" accepted.
Connection id ""0HN5US4NMSHLN"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5US4NMSHLN"", Request id ""0HN5US4NMSHLN:00000001"": started reading request body.
Connection id ""0HN5US4NMSHLN"", Request id ""0HN5US4NMSHLN:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("45"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 115ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (3ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("17"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 87ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 2817.9378ms - 200
End processing HTTP request after 2848.166ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 1163.6597ms - 200
End processing HTTP request after 1199.3411ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (15ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("74"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 34ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 13542.9675ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 500 in 13629.5633 ms
Connection id ""0HN5US4NMSHLN"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 500 null "application/problem+json; charset=utf-8" 13809.84ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Connection id ""0HN5US4NMSHLN"" received FIN.
Connection id ""0HN5US4NMSHLN"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5US4NMSHLN"" disconnecting.
Connection id ""0HN5US4NMSHLN"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.2057ms - processed: 0 items - remaining: 1 items
HttpMessageHandler expired after 120000ms for client '"files"'
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0114ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0159ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0132ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.022ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0143ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0162ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 28.211ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0126ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0184ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.7823ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0165ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0137ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0112ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0112ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 1.6681ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0182ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.01ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0102ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0134ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0107ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0113ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 15.9714ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0202ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.837ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0091ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0202ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 7.3894ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0111ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0093ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.3499ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.011ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0139ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0056ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0075ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0121ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0091ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.009ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0079ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0064ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0067ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0089ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0087ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0076ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0083ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 1.5023ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0067ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0067ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0078ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0055ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0086ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0059ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0088ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 25.6149ms - processed: 2 items - remaining: 0 items
Connection id ""0HN5US4NMSHLO"" accepted.
Connection id ""0HN5US4NMSHLO"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5US4NMSHLO"", Request id ""0HN5US4NMSHLO:00000001"": started reading request body.
Connection id ""0HN5US4NMSHLO"", Request id ""0HN5US4NMSHLO:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (6ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (7ms).
Initialized DbCommand for '"ExecuteReader"' (12ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("127"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 43ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("18"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 13ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 2992.1784ms - 200
End processing HTTP request after 2999.2786ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 197.2908ms - 200
End processing HTTP request after 204.6956ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("58"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 8ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 4807.2507ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 500 in 4926.9086 ms
Connection id ""0HN5US4NMSHLO"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 500 null "application/problem+json; charset=utf-8" 5103.9578ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5US4NMSHLO"", Request id ""0HN5US4NMSHLO:00000002"": started reading request body.
Connection id ""0HN5US4NMSHLO"", Request id ""0HN5US4NMSHLO:00000002"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("14"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 4ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 255.5987ms - 200
End processing HTTP request after 261.0592ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 122.4509ms - 200
End processing HTTP request after 130.5189ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("13"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 5ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (9ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 749.5351ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 500 in 774.2018 ms
Connection id ""0HN5US4NMSHLO"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 500 null "application/problem+json; charset=utf-8" 842.6307ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
HttpMessageHandler expired after 120000ms for client '"files"'
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 2 items
Connection id ""0HN5US4NMSHLO"" received FIN.
Connection id ""0HN5US4NMSHLO"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5US4NMSHLO"" disconnecting.
Connection id ""0HN5US4NMSHLO"" stopped.
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0093ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0056ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.006ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0067ms - processed: 0 items - remaining: 2 items
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-oxqTh9eZkGls4Th16hLNdQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-qTjTMRM199HWnrhGTXb6tA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-RTZhC1HRNRCBePbuqXyVrw"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-GOWHD0HGfRv77QnCvXrVTQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-oxqTh9eZkGls4Th16hLNdQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-RTZhC1HRNRCBePbuqXyVrw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-qTjTMRM199HWnrhGTXb6tA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-GOWHD0HGfRv77QnCvXrVTQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_4odyyyfcnobrruccbdqm7aeoyr?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_4odyyyfcnobrruccbdqm7aeoyr?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (206ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (30ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (56ms).
Initialized DbCommand for '"ExecuteScalar"' (150ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("386"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (31ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (22ms).
Initialized DbCommand for '"ExecuteReader"' (29ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("56"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 45ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (9ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 48134)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_jhryyyfcnobrfq4ibdqm73sffi?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-f5HfjZuDOv62LZ0c38W1nA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-6mzPLewD8IZ5nxM2F9AU5A"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-sz32qrPhhBoJg6yhuOYp7A"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-eTlfwhab6jtfdByaTE6UXQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Connection id ""0HN5USR3J8EL8"" accepted.
Bus started: rabbitmq://rabbitmq.message-broker/
Connection id ""0HN5USR3J8EL8"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Now listening on: "http://[::]:8080"
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5USR3J8EL8"", Request id ""0HN5USR3J8EL8:00000001"": started reading request body.
Connection id ""0HN5USR3J8EL8"", Request id ""0HN5USR3J8EL8:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (14ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("58"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 184ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (7ms).
Initialized DbCommand for '"ExecuteReader"' (14ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("25"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 133ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 3927.0447ms - 200
End processing HTTP request after 3971.7741ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 1553.6607ms - 200
End processing HTTP request after 1567.9098ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (15ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("98"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 68ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 20114.9344ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 500 in 20300.5348 ms
Connection id ""0HN5USR3J8EL8"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 500 null "application/problem+json; charset=utf-8" 21114.3143ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 53.6056ms - processed: 0 items - remaining: 1 items
Connection id ""0HN5USR3J8EL8"" received FIN.
Connection id ""0HN5USR3J8EL8"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5USR3J8EL8"" disconnecting.
Connection id ""0HN5USR3J8EL8"" stopped.
HttpMessageHandler expired after 120000ms for client '"files"'
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0155ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0179ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0153ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0147ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0459ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0163ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 3.2436ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0174ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 10.2947ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0123ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0104ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0115ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0119ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0089ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 2.4719ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0112ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.009ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0118ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0143ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0092ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 9.2674ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0118ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 2.3061ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0104ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0098ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 3.415ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0107ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0142ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.6465ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0102ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0578ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0067ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0075ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0102ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0085ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0079ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0794ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0085ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0078ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0078ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0121ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.009ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0078ms - processed: 0 items - remaining: 2 items
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-f5HfjZuDOv62LZ0c38W1nA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-6mzPLewD8IZ5nxM2F9AU5A"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-sz32qrPhhBoJg6yhuOYp7A"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-eTlfwhab6jtfdByaTE6UXQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-sz32qrPhhBoJg6yhuOYp7A"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-f5HfjZuDOv62LZ0c38W1nA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-eTlfwhab6jtfdByaTE6UXQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-6mzPLewD8IZ5nxM2F9AU5A"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_jhryyyfcnobrfq4ibdqm73sffi?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_jhryyyfcnobrfq4ibdqm73sffi?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (83ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (16ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (14ms).
Initialized DbCommand for '"ExecuteScalar"' (26ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("233"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (8ms).
Initialized DbCommand for '"ExecuteReader"' (11ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 28ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 37704)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_geroyyfcnobrfxnqbdqm74d3rc?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-V3CwzFFxUtwSWhDQAHBxTg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-fy09v4PoKheWJs4ejFvRkg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-SWlVgm3cRNcSm3SjRdlaWA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-K0LsAjsc7wfWB-GXBW9y9w"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5UT25SL0EN"" accepted.
Connection id ""0HN5UT25SL0EN"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UT25SL0EN"", Request id ""0HN5UT25SL0EN:00000001"": started reading request body.
Connection id ""0HN5UT25SL0EN"", Request id ""0HN5UT25SL0EN:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (10ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("46"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 156ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("19"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 116ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 3910.9139ms - 200
End processing HTTP request after 3950.8739ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 726.4926ms - 200
End processing HTTP request after 735.3595ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("64"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 39ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 12692.941ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 500 in 12818.1614 ms
Connection id ""0HN5UT25SL0EN"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 500 null "application/problem+json; charset=utf-8" 13035.2714ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Connection id ""0HN5UT25SL0EN"" received FIN.
Connection id ""0HN5UT25SL0EN"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UT25SL0EN"" disconnecting.
Connection id ""0HN5UT25SL0EN"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.7311ms - processed: 0 items - remaining: 1 items
HttpMessageHandler expired after 120000ms for client '"files"'
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.015ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0123ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0144ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0109ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0181ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.017ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 5.7614ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.017ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.517ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 7.7876ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.057ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0105ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0109ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0115ms - processed: 0 items - remaining: 2 items
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-SWlVgm3cRNcSm3SjRdlaWA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-V3CwzFFxUtwSWhDQAHBxTg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-K0LsAjsc7wfWB-GXBW9y9w"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-fy09v4PoKheWJs4ejFvRkg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-K0LsAjsc7wfWB-GXBW9y9w"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-SWlVgm3cRNcSm3SjRdlaWA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-V3CwzFFxUtwSWhDQAHBxTg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-fy09v4PoKheWJs4ejFvRkg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_geroyyfcnobrfxnqbdqm74d3rc?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_geroyyfcnobrfxnqbdqm74d3rc?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (289ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (23ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (30ms).
Initialized DbCommand for '"ExecuteScalar"' (49ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("303"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 45ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 48444)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_5yroyyfcnobrruf1bdqm74ksgt?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag--Xxh1RsVYCaYm_mxy0B_gQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-NTO7byl_Rv13ip2rqAFoCw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-inuZtT4DTrYv2u5XP9Tjpw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-whniQRx8VbWGo7-YqG3H_w"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5UT7TCRPJG"" accepted.
Connection id ""0HN5UT7TCRPJG"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UT7TCRPJG"", Request id ""0HN5UT7TCRPJG:00000001"": started reading request body.
Connection id ""0HN5UT7TCRPJG"", Request id ""0HN5UT7TCRPJG:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (9ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (8ms).
Initialized DbCommand for '"ExecuteReader"' (73ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("2,335"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 406ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (3ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("16"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 111ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 5225.4464ms - 200
End processing HTTP request after 5247.2851ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 516.5499ms - 200
End processing HTTP request after 521.854ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (11ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("57"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 36ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 19414.4622ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 500 in 20061.4675 ms
Connection id ""0HN5UT7TCRPJG"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (9ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 500 null "application/problem+json; charset=utf-8" 20954.8878ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 2.8254ms - processed: 0 items - remaining: 1 items
Connection id ""0HN5UT7TCRPJG"" received FIN.
Connection id ""0HN5UT7TCRPJG"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UT7TCRPJG"" disconnecting.
Connection id ""0HN5UT7TCRPJG"" stopped.
HttpMessageHandler expired after 120000ms for client '"files"'
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0119ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0188ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0129ms - processed: 0 items - remaining: 2 items
Connection id ""0HN5UT7TCRPJH"" accepted.
Connection id ""0HN5UT7TCRPJH"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UT7TCRPJH"", Request id ""0HN5UT7TCRPJH:00000001"": started reading request body.
Connection id ""0HN5UT7TCRPJH"", Request id ""0HN5UT7TCRPJH:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (7ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("129"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 31ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("21"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 18ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0237ms - processed: 0 items - remaining: 2 items
Received HTTP response headers after 1709.5663ms - 200
End processing HTTP request after 1719.6359ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 176.3027ms - 200
End processing HTTP request after 181.5167ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("46"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 10ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 3495.0097ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 500 in 3601.2959 ms
Connection id ""0HN5UT7TCRPJH"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 500 null "application/problem+json; charset=utf-8" 3730.5326ms
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0873ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0092ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0111ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0559ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0123ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0091ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0123ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0157ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0121ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0129ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0194ms - processed: 0 items - remaining: 2 items
Connection id ""0HN5UT7TCRPJH"" received FIN.
Connection id ""0HN5UT7TCRPJH"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UT7TCRPJH"" disconnecting.
Connection id ""0HN5UT7TCRPJH"" stopped.
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0106ms - processed: 0 items - remaining: 3 items
HttpMessageHandler expired after 120000ms for client '"files"'
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0214ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0162ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0127ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0101ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0067ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0125ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 3.3799ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0119ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0108ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0133ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0112ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0153ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0153ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.009ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.01ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0086ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0112ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0123ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0095ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0122ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0148ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0106ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0113ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0108ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0106ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.012ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0145ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0115ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0088ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0104ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 3.1389ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0083ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0102ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0116ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0105ms - processed: 0 items - remaining: 4 items
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag--Xxh1RsVYCaYm_mxy0B_gQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-whniQRx8VbWGo7-YqG3H_w"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-NTO7byl_Rv13ip2rqAFoCw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-inuZtT4DTrYv2u5XP9Tjpw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag--Xxh1RsVYCaYm_mxy0B_gQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-NTO7byl_Rv13ip2rqAFoCw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-whniQRx8VbWGo7-YqG3H_w"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-inuZtT4DTrYv2u5XP9Tjpw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_5yroyyfcnobrruf1bdqm74ksgt?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_5yroyyfcnobrruf1bdqm74ksgt?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (91ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (15ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (13ms).
Initialized DbCommand for '"ExecuteScalar"' (23ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("147"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 23ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 45558)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_5ofyyyfcnobrrzhzbdqm746nr8?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-92wspToaEVgjwCHzsMqQgg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-1biFXDvfXm_hQILg0FkslA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-2rI2Qo2UqYkObAdmDF43PA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-fIqqPN7eJM4nwA80e8ZBHA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5UTFA0DNO1"" accepted.
Connection id ""0HN5UTFA0DNO1"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UTFA0DNO1"", Request id ""0HN5UTFA0DNO1:00000001"": started reading request body.
Connection id ""0HN5UTFA0DNO1"", Request id ""0HN5UTFA0DNO1:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (19ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("143"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 115ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("15"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 53ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 2668.9379ms - 200
End processing HTTP request after 2689.5585ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 610.5822ms - 200
End processing HTTP request after 615.0427ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("83"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 43ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 10260.7964ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 500 in 10401.2678 ms
Connection id ""0HN5UTFA0DNO1"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (12ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 500 null "application/problem+json; charset=utf-8" 10600.8738ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Connection id ""0HN5UTFA0DNO1"" received FIN.
Connection id ""0HN5UTFA0DNO1"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UTFA0DNO1"" disconnecting.
Connection id ""0HN5UTFA0DNO1"" stopped.
HttpMessageHandler expired after 120000ms for client '"files"'
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 1.77ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0116ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0107ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0113ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0144ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0135ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0118ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.2227ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0136ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 4.5935ms - processed: 0 items - remaining: 2 items
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-1biFXDvfXm_hQILg0FkslA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-92wspToaEVgjwCHzsMqQgg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-fIqqPN7eJM4nwA80e8ZBHA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-2rI2Qo2UqYkObAdmDF43PA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-2rI2Qo2UqYkObAdmDF43PA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-92wspToaEVgjwCHzsMqQgg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-1biFXDvfXm_hQILg0FkslA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-fIqqPN7eJM4nwA80e8ZBHA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_5ofyyyfcnobrrzhzbdqm746nr8?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_5ofyyyfcnobrrzhzbdqm746nr8?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (166ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (25ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (37ms).
Initialized DbCommand for '"ExecuteScalar"' (59ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("415"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (23ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("63"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 59ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 40740)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_xwfoyyfcnobrfh6wbdqm75reye?temporary=true
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-WZp7xYCeb0CQmY0OtZGYcA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-JD9_sSp0T6SSjMFVejY0ng"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-3NqBp40TcATGtzighXyRUg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-1BxBDs3rL7sMVREF6JVqCg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5UTK5EILIL"" accepted.
Connection id ""0HN5UTK5EILIL"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UTK5EILIL"", Request id ""0HN5UTK5EILIL:00000001"": started reading request body.
Connection id ""0HN5UTK5EILIL"", Request id ""0HN5UTK5EILIL:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (7ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (37ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("231"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 198ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (3ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("17"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 82ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 6931.5528ms - 200
End processing HTTP request after 6949.05ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 484.6665ms - 200
End processing HTTP request after 490.8819ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (17ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("100"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 37ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 15842.3605ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 500 in 16095.8935 ms
Connection id ""0HN5UTK5EILIL"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 500 null "application/problem+json; charset=utf-8" 16655.9373ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UTK5EILIL"", Request id ""0HN5UTK5EILIL:00000002"": started reading request body.
Connection id ""0HN5UTK5EILIL"", Request id ""0HN5UTK5EILIL:00000002"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (10ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("33"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 14ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (3ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 5ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 1704.3854ms - 200
End processing HTTP request after 1713.6482ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 263.4863ms - 200
End processing HTTP request after 272.9538ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("29"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 11ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 3178.8742ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 500 in 3226.0844 ms
Connection id ""0HN5UTK5EILIL"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 500 null "application/problem+json; charset=utf-8" 3305.1866ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 1.4873ms - processed: 0 items - remaining: 1 items
HttpMessageHandler expired after 120000ms for client '"files"'
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0134ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0192ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0138ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0135ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.747ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0753ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0127ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0115ms - processed: 0 items - remaining: 2 items
Connection id ""0HN5UTK5EILIL"" received FIN.
Connection id ""0HN5UTK5EILIL"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UTK5EILIL"" disconnecting.
Connection id ""0HN5UTK5EILIL"" stopped.
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.1569ms - processed: 0 items - remaining: 2 items
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-3NqBp40TcATGtzighXyRUg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-WZp7xYCeb0CQmY0OtZGYcA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-1BxBDs3rL7sMVREF6JVqCg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-JD9_sSp0T6SSjMFVejY0ng"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-3NqBp40TcATGtzighXyRUg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-1BxBDs3rL7sMVREF6JVqCg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-JD9_sSp0T6SSjMFVejY0ng"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-WZp7xYCeb0CQmY0OtZGYcA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_xwfoyyfcnobrfh6wbdqm75reye?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_xwfoyyfcnobrfh6wbdqm75reye?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (166ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (25ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (35ms).
Initialized DbCommand for '"ExecuteScalar"' (50ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("393"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("36"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 49ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 33206)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_ergyyyfcnobrr159bdqm75px8i?temporary=true
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-8I7PdjSzUIYV1GiG6ByCAA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-YT5G78ypmaYTvVUbnHygrA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-NZPoajJTB5Z7vAJphPbuEw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-Gs6h-BL8O1LP8816ZkAnzA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5UTN29FJFE"" accepted.
Connection id ""0HN5UTN29FJFE"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UTN29FJFE"", Request id ""0HN5UTN29FJFE:00000001"": started reading request body.
Connection id ""0HN5UTN29FJFE"", Request id ""0HN5UTN29FJFE:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (16ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("135"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 97ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("13"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 75ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 2957.125ms - 200
End processing HTTP request after 2981.2694ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 495.0847ms - 200
End processing HTTP request after 506.3422ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (10ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("54"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 31ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
Start processing HTTP request "POST" "http://documents.api:8080/api/document"
Sending HTTP request "POST" "http://documents.api:8080/api/document"
Received HTTP response headers after 393.8185ms - 400
End processing HTTP request after 399.0645ms - 400
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 11884.9153ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 500 in 12113.5399 ms
Connection id ""0HN5UTN29FJFE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 500 null "application/problem+json; charset=utf-8" 12490.0068ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Connection id ""0HN5UTN29FJFE"" received FIN.
Connection id ""0HN5UTN29FJFE"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UTN29FJFE"" disconnecting.
Connection id ""0HN5UTN29FJFE"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.9735ms - processed: 0 items - remaining: 1 items
HttpMessageHandler expired after 120000ms for client '"files"'
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0174ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0134ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0134ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0129ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.8537ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.015ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0143ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0133ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.8425ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 1.0768ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.044ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0139ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 2.6734ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0092ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0134ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0107ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0087ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.5752ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0135ms - processed: 0 items - remaining: 2 items
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-YT5G78ypmaYTvVUbnHygrA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-Gs6h-BL8O1LP8816ZkAnzA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-8I7PdjSzUIYV1GiG6ByCAA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-NZPoajJTB5Z7vAJphPbuEw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-YT5G78ypmaYTvVUbnHygrA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-8I7PdjSzUIYV1GiG6ByCAA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-NZPoajJTB5Z7vAJphPbuEw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-Gs6h-BL8O1LP8816ZkAnzA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_ergyyyfcnobrr159bdqm75px8i?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_ergyyyfcnobrr159bdqm75px8i?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (109ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (17ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (15ms).
Initialized DbCommand for '"ExecuteScalar"' (29ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("305"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (14ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("56"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 66ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 35902)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_7cgyyyfcnobrr79kbdqm75ihn7?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-T-cGNiGTMyL3ocUEiQ-cqA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-_G8iqZQv0c15CQXETP8CLQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-lkvmFHA-xiPi6OE8oapWXw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-DDYkc8JGmOlxpHNYqBxPaA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5UTR40GGLA"" accepted.
Connection id ""0HN5UTR40GGLA"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UTR40GGLA"", Request id ""0HN5UTR40GGLA:00000001"": started reading request body.
Connection id ""0HN5UTR40GGLA"", Request id ""0HN5UTR40GGLA:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (10ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("49"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 127ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("13"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 87ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 3000.0093ms - 200
End processing HTTP request after 3018.1485ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 657.7635ms - 200
End processing HTTP request after 662.5197ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("49"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 45ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
Start processing HTTP request "POST" "http://documents.api:8080/api/document"
Sending HTTP request "POST" "http://documents.api:8080/api/document"
Received HTTP response headers after 7606.0982ms - 200
End processing HTTP request after 7612.149ms - 200
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"Results"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 20247.9607ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 200 in 20363.1980 ms
Connection id ""0HN5UTR40GGLA"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 200 null "application/json; charset=utf-8" 20558.866ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 6.7861ms - processed: 0 items - remaining: 1 items
HttpMessageHandler expired after 120000ms for client '"files"'
Connection id ""0HN5UTR40GGLA"" received FIN.
Connection id ""0HN5UTR40GGLA"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UTR40GGLA"" disconnecting.
Connection id ""0HN5UTR40GGLA"" stopped.
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0156ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0121ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.013ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0125ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 2.1855ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.012ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0104ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.015ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 7.7203ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 11.3117ms - processed: 0 items - remaining: 2 items
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-T-cGNiGTMyL3ocUEiQ-cqA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-_G8iqZQv0c15CQXETP8CLQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-DDYkc8JGmOlxpHNYqBxPaA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-lkvmFHA-xiPi6OE8oapWXw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-lkvmFHA-xiPi6OE8oapWXw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-T-cGNiGTMyL3ocUEiQ-cqA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-DDYkc8JGmOlxpHNYqBxPaA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-_G8iqZQv0c15CQXETP8CLQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_7cgyyyfcnobrr79kbdqm75ihn7?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/c65240ccee77_AppointmentsAPI_bus_7cgyyyfcnobrr79kbdqm75ihn7?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (172ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
An error occurred using the connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (279ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (41ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (21ms).
Initialized DbCommand for '"ExecuteScalar"' (40ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("176"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (32ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 20ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 39774)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/d9d5c7554d81_AppointmentsAPI_bus_8hyyyyfcnebrrir7bdqm7hjzg5?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-Iy4KmXL1cN43dUscFZ7a6A"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-QJIQPERyV43acS0BdM6wsQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-tirjRMAbX_9RyYkj_FKJFw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-yvQYYBVWNPdKjBZl838k-w"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5UU51ROCP4"" accepted.
Connection id ""0HN5UU51ROCP4"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
Wildcard detected, all requests with hosts will be allowed.
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN5UU51ROCP4"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 373.9601ms
Connection id ""0HN5UU51ROCP5"" accepted.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/swagger-ui.css""" - null null
Connection id ""0HN5UU51ROCP5"" started.
Connection id ""0HN5UU51ROCP6"" accepted.
No candidates found for the request path '"/swagger/swagger-ui.css"'
Connection id ""0HN5UU51ROCP6"" started.
Request did not match any endpoints
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - null null
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.css""" - null null
Connection id ""0HN5UU51ROCP6"" completed keep alive response.
No candidates found for the request path '"/swagger/index.css"'
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 60.0327ms
Request did not match any endpoints
Sending file. Request path: '"/index.css"'. Physical path: '"N/A"'
Connection id ""0HN5UU51ROCP5"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.css""" - 200 202 "text/css" 60.0831ms
Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
Connection id ""0HN5UU51ROCP4"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/swagger-ui.css""" - 200 152034 "text/css" 202.1405ms
Connection id ""0HN5UU51ROCP6"" received FIN.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/favicon-32x32.png""" - null null
No candidates found for the request path '"/swagger/favicon-32x32.png"'
Request did not match any endpoints
Connection id ""0HN5UU51ROCP6"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UU51ROCP6"" disconnecting.
Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/favicon-32x32.png""" - 200 628 "image/png" 44.8155ms
Connection id ""0HN5UU51ROCP6"" stopped.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Connection id ""0HN5UU51ROCP5"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 513.2958ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UU51ROCP4"", Request id ""0HN5UU51ROCP4:00000003"": started reading request body.
Connection id ""0HN5UU51ROCP4"", Request id ""0HN5UU51ROCP4:00000003"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (25ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("93"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 104ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (9ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("20"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 81ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 3634.7033ms - 200
End processing HTTP request after 3667.667ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 1323.7352ms - 200
End processing HTTP request after 1345.5192ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (26ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("243"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 43ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 14191.4014ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 500 in 14356.7665 ms
System.NullReferenceException: Object reference not set to an instance of an object.
   at Microsoft.AspNetCore.Http.FormFile.set_ContentType(String value)
   at PDFDodumentGenerator.GenerateAppointmentResults(GeneratePDFResultsRequest results) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Application\PDF\PDFDodumentGenerator.cs:line 85
   at CreateAppointmentsResultCommandHandler.Handle(CreateAppointmentsResultCommand request, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Application\Commands\Results\CreateAppointmentResult\CreateAppointmentsResultCommandHandler.cs:line 73
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 23
   at ResultsController.CreateAppointmentResult(CreateAppointmentResultRequest request) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Microsoft.AspNetCore.Http.FormFile.set_ContentType(String value)
   at PDFDodumentGenerator.GenerateAppointmentResults(GeneratePDFResultsRequest results) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Application\PDF\PDFDodumentGenerator.cs:line 85
   at CreateAppointmentsResultCommandHandler.Handle(CreateAppointmentsResultCommand request, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Application\Commands\Results\CreateAppointmentResult\CreateAppointmentsResultCommandHandler.cs:line 73
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 23
   at ResultsController.CreateAppointmentResult(CreateAppointmentResultRequest request) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5UU51ROCP4"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 500 null "text/plain; charset=utf-8" 14615.8906ms
Connection id ""0HN5UU51ROCP5"" received FIN.
Connection id ""0HN5UU51ROCP5"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UU51ROCP5"" disconnecting.
Connection id ""0HN5UU51ROCP5"" stopped.
Application is shutting down...
Hosting stopping
Connection id ""0HN5UU51ROCP4"" disconnecting.
Connection id ""0HN5UU51ROCP4"" stopped.
Connection id ""0HN5UU51ROCP4"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-tirjRMAbX_9RyYkj_FKJFw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-yvQYYBVWNPdKjBZl838k-w"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-QJIQPERyV43acS0BdM6wsQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-QJIQPERyV43acS0BdM6wsQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-tirjRMAbX_9RyYkj_FKJFw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-yvQYYBVWNPdKjBZl838k-w"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-Iy4KmXL1cN43dUscFZ7a6A"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-Iy4KmXL1cN43dUscFZ7a6A"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/d9d5c7554d81_AppointmentsAPI_bus_8hyyyyfcnebrrir7bdqm7hjzg5?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/d9d5c7554d81_AppointmentsAPI_bus_8hyyyyfcnebrrir7bdqm7hjzg5?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (82ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (19ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (15ms).
Initialized DbCommand for '"ExecuteScalar"' (24ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("103"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (10ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("36"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 18ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 41190)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/d9d5c7554d81_AppointmentsAPI_bus_4wyyyyfcnebrfqkabdqm7hqafm?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-JqW_9N3PZsSBnICg8URaTA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-G2l7CMqsxV0rA36xjMf2Hw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-HUNuNiK92ME6Dcci-gVBCw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-EpwHA-P1fuaz-eLnZP5itw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5UU7ORB3GE"" accepted.
Connection id ""0HN5UU7ORB3GE"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UU7ORB3GE"", Request id ""0HN5UU7ORB3GE:00000001"": started reading request body.
Connection id ""0HN5UU7ORB3GE"", Request id ""0HN5UU7ORB3GE:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (16ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("49"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 107ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (10ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("22"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 58ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 2006.7504ms - 200
End processing HTTP request after 2025.1559ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 903.6139ms - 200
End processing HTTP request after 912.7485ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (0ms).
Initialized DbCommand for '"ExecuteReader"' (10ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("44"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 33ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 10048.7713ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 500 in 10172.1758 ms
System.NullReferenceException: Object reference not set to an instance of an object.
   at Microsoft.AspNetCore.Http.FormFile.set_ContentType(String value)
   at PDFDodumentGenerator.GenerateAppointmentResults(GeneratePDFResultsRequest results) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Application\PDF\PDFDodumentGenerator.cs:line 86
   at CreateAppointmentsResultCommandHandler.Handle(CreateAppointmentsResultCommand request, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Application\Commands\Results\CreateAppointmentResult\CreateAppointmentsResultCommandHandler.cs:line 73
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 23
   at ResultsController.CreateAppointmentResult(CreateAppointmentResultRequest request) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Microsoft.AspNetCore.Http.FormFile.set_ContentType(String value)
   at PDFDodumentGenerator.GenerateAppointmentResults(GeneratePDFResultsRequest results) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Application\PDF\PDFDodumentGenerator.cs:line 86
   at CreateAppointmentsResultCommandHandler.Handle(CreateAppointmentsResultCommand request, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.Application\Commands\Results\CreateAppointmentResult\CreateAppointmentsResultCommandHandler.cs:line 73
   at ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\InnoClinic\InnoClinic\Common\InnoClinnic.Behaviours\Validation\ValidationBehaviour.cs:line 23
   at ResultsController.CreateAppointmentResult(CreateAppointmentResultRequest request) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN5UU7ORB3GE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 500 null "text/plain; charset=utf-8" 10520.5217ms
Hosting stopping
Application is shutting down...
Connection id ""0HN5UU7ORB3GE"" disconnecting.
Connection id ""0HN5UU7ORB3GE"" stopped.
Connection id ""0HN5UU7ORB3GE"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-HUNuNiK92ME6Dcci-gVBCw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-JqW_9N3PZsSBnICg8URaTA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-EpwHA-P1fuaz-eLnZP5itw"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-G2l7CMqsxV0rA36xjMf2Hw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-JqW_9N3PZsSBnICg8URaTA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-HUNuNiK92ME6Dcci-gVBCw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-EpwHA-P1fuaz-eLnZP5itw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-G2l7CMqsxV0rA36xjMf2Hw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/d9d5c7554d81_AppointmentsAPI_bus_4wyyyyfcnebrfqkabdqm7hqafm?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/d9d5c7554d81_AppointmentsAPI_bus_4wyyyyfcnebrfqkabdqm7hqafm?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (88ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (21ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (21ms).
Initialized DbCommand for '"ExecuteScalar"' (31ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("256"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (13ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (29ms).
Initialized DbCommand for '"ExecuteReader"' (43ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("53"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 62ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (46ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 50782)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/d9d5c7554d81_AppointmentsAPI_bus_mryoyyfcnebrre5dbdqm7htf8f?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-zKJzwzhS5Lu3Ey3V3xmoew"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-BAiwMuCUUUaC0XBB3FSLCw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-92UeCB0Ifq3dCjEylOHU1Q"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-vD8daEJNoldgMAjv8aOjGw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5UU8MJ8IJQ"" accepted.
Connection id ""0HN5UU8MJ8IJQ"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UU8MJ8IJQ"", Request id ""0HN5UU8MJ8IJQ:00000001"": started reading request body.
Connection id ""0HN5UU8MJ8IJQ"", Request id ""0HN5UU8MJ8IJQ:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (7ms).
Initialized DbCommand for '"ExecuteReader"' (18ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("40"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 108ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (16ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("14"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 62ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 1898.4105ms - 200
End processing HTTP request after 1917.8937ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 459.7517ms - 200
End processing HTTP request after 466.0335ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (14ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("43"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 28ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
Start processing HTTP request "POST" "http://documents.api:8080/api/document"
Sending HTTP request "POST" "http://documents.api:8080/api/document"
Received HTTP response headers after 6629.4587ms - 200
End processing HTTP request after 6640.3398ms - 200
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"Results"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 16498.7837ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 200 in 16579.6043 ms
Connection id ""0HN5UU8MJ8IJQ"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 200 null "application/json; charset=utf-8" 16701.6496ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
HttpMessageHandler expired after 120000ms for client '"files"'
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 1.3342ms - processed: 0 items - remaining: 2 items
Connection id ""0HN5UU8MJ8IJQ"" received FIN.
Connection id ""0HN5UU8MJ8IJQ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UU8MJ8IJQ"" disconnecting.
Connection id ""0HN5UU8MJ8IJQ"" stopped.
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0116ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0121ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0117ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0123ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 1.9877ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0131ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0134ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0178ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 1.5559ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 1.5156ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0145ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0096ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0125ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0104ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.5366ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0131ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.013ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0105ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0115ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.522ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0106ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0118ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0133ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.5839ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 6.8864ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0107ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0119ms - processed: 0 items - remaining: 2 items
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-92UeCB0Ifq3dCjEylOHU1Q"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-zKJzwzhS5Lu3Ey3V3xmoew"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-vD8daEJNoldgMAjv8aOjGw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-zKJzwzhS5Lu3Ey3V3xmoew"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-92UeCB0Ifq3dCjEylOHU1Q"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-vD8daEJNoldgMAjv8aOjGw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-BAiwMuCUUUaC0XBB3FSLCw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-BAiwMuCUUUaC0XBB3FSLCw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/d9d5c7554d81_AppointmentsAPI_bus_mryoyyfcnebrre5dbdqm7htf8f?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/d9d5c7554d81_AppointmentsAPI_bus_mryoyyfcnebrre5dbdqm7htf8f?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (100ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (23ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (28ms).
Initialized DbCommand for '"ExecuteScalar"' (46ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("183"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (13ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (22ms).
Initialized DbCommand for '"ExecuteReader"' (24ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("61"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 49ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (14ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 35950)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/d9d5c7554d81_AppointmentsAPI_bus_nrbyyyfcnebrrcjybdqm7h37rt?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Connection id ""0HN5UUCV7JD09"" accepted.
Connection id ""0HN5UUCV7JD09"" started.
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
Wildcard detected, all requests with hosts will be allowed.
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-CfGeXjClL89th95Z64Zj3w"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-FiO0m7_IUibmwkiGG9MJrg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-B7nicsqA7no4x8D5JJDWSw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-qRaIXmCtY1nfgO8RsSQhYw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUCV7JD09"", Request id ""0HN5UUCV7JD09:00000001"": started reading request body.
Connection id ""0HN5UUCV7JD09"", Request id ""0HN5UUCV7JD09:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (17ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("62"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 143ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (10ms).
Initialized DbCommand for '"ExecuteReader"' (14ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("23"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 93ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 2577.0608ms - 200
End processing HTTP request after 2617.1789ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 864.8569ms - 200
End processing HTTP request after 877.7899ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (11ms).
Initialized DbCommand for '"ExecuteReader"' (21ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("108"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 54ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
Start processing HTTP request "POST" "http://documents.api:8080/api/document"
Sending HTTP request "POST" "http://documents.api:8080/api/document"
Received HTTP response headers after 4316.5227ms - 200
End processing HTTP request after 4331.6285ms - 200
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"Results"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 16668.7253ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 200 in 16850.3601 ms
Connection id ""0HN5UUCV7JD09"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 200 null "application/json; charset=utf-8" 17139.862ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 2.8375ms - processed: 0 items - remaining: 1 items
Connection id ""0HN5UUCV7JD09"" received FIN.
Connection id ""0HN5UUCV7JD09"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UUCV7JD09"" disconnecting.
HttpMessageHandler expired after 120000ms for client '"files"'
Connection id ""0HN5UUCV7JD09"" stopped.
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0125ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0123ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0131ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0137ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0139ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0127ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0184ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0076ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 32.4469ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0097ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 2.0067ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0107ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.012ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 4.3295ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0099ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0076ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0095ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0111ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0096ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 4.7784ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0115ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0115ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 4.4198ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0102ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0079ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0092ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.2454ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0078ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0091ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0087ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0068ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0091ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0116ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0087ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0093ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0075ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.086ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0056ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 6.9654ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0067ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 2 items
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-qRaIXmCtY1nfgO8RsSQhYw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-FiO0m7_IUibmwkiGG9MJrg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-CfGeXjClL89th95Z64Zj3w"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-B7nicsqA7no4x8D5JJDWSw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-B7nicsqA7no4x8D5JJDWSw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-CfGeXjClL89th95Z64Zj3w"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-FiO0m7_IUibmwkiGG9MJrg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-qRaIXmCtY1nfgO8RsSQhYw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/d9d5c7554d81_AppointmentsAPI_bus_nrbyyyfcnebrrcjybdqm7h37rt?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/d9d5c7554d81_AppointmentsAPI_bus_nrbyyyfcnebrrcjybdqm7h37rt?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (117ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (26ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (35ms).
Initialized DbCommand for '"ExecuteScalar"' (52ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("256"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (15ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 22ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 42382)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/f4a6534de786_AppointmentsAPI_bus_8wyyyyfcnobrrcnhbdqm7714yw?temporary=true
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-E19v-2C6UFyAjTl6VOqhkg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-9KoLfgh8HHw-bKi9TvGenA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-pVSQryzg6HWV6PHJbUe20w"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-BF27XbMZZFHygFM1oQi7FQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5UUPGKN4JG"" accepted.
Connection id ""0HN5UUPGKN4JG"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:00000001"": started reading request body.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("42"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 111ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("20"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 59ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Compiling query expression: "
"'"DbSet<Results>()
    .Where(r => r.AppointmentId == __request_AppointmentId_0)"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Results>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Results.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Results.AppointmentId (int) Required FK Index, 1], [Property: Results.Complaints (string) Required, 2], [Property: Results.Conclusion (string) Required, 3], [Property: Results.Date (DateTime) Required, 4], [Property: Results.Recommendations (string) Required, 5] }
        SELECT r.Id, r.AppointmentId, r.Complaints, r.Conclusion, r.Date, r.Recommendations
        FROM Results AS r
        WHERE r.AppointmentId == @__request_AppointmentId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Results>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Executed DbCommand ("17"ms) [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 86ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 1536.8101ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 409 in 1659.6175 ms
Connection id ""0HN5UUPGKN4JG"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 409 null "application/problem+json; charset=utf-8" 1874.5359ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:00000002"": started reading request body.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:00000002"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("16"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("10"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 10ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Executed DbCommand ("7"ms) [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 14ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 464.9117ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 409 in 496.5162 ms
Connection id ""0HN5UUPGKN4JG"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 409 null "application/problem+json; charset=utf-8" 541.5203ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:00000003"": started reading request body.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:00000003"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("14"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 6ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Executed DbCommand ("12"ms) [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 2ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 251.0134ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 409 in 289.3052 ms
Connection id ""0HN5UUPGKN4JG"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 409 null "application/problem+json; charset=utf-8" 319.9097ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:00000004"": started reading request body.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:00000004"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 6ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 6ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Executed DbCommand ("6"ms) [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 3ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 197.9172ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 409 in 220.8305 ms
Connection id ""0HN5UUPGKN4JG"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 409 null "application/problem+json; charset=utf-8" 248.7321ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:00000005"": started reading request body.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:00000005"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (3ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 4ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (3ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 8ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Executed DbCommand ("4"ms) [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 3ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 150.3878ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 409 in 173.5241 ms
Connection id ""0HN5UUPGKN4JG"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 409 null "application/problem+json; charset=utf-8" 195.1902ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:00000006"": started reading request body.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:00000006"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 4ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 6ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Executed DbCommand ("3"ms) [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 4ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 160.996ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 409 in 188.3529 ms
Connection id ""0HN5UUPGKN4JG"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 409 null "application/problem+json; charset=utf-8" 220.1569ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:00000007"": started reading request body.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:00000007"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 6ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 6ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Executed DbCommand ("8"ms) [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 1ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 163.2607ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 409 in 188.9226 ms
Connection id ""0HN5UUPGKN4JG"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 409 null "application/problem+json; charset=utf-8" 224.795ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:00000008"": started reading request body.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:00000008"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 5ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 9ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Executed DbCommand ("5"ms) [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 3ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 193.5354ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 409 in 217.6206 ms
Connection id ""0HN5UUPGKN4JG"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 409 null "application/problem+json; charset=utf-8" 247.7948ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:00000009"": started reading request body.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:00000009"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Executed DbCommand ("5"ms) [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 2ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 166.1351ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 409 in 191.1179 ms
Connection id ""0HN5UUPGKN4JG"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 409 null "application/problem+json; charset=utf-8" 219.9559ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:0000000A"": started reading request body.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:0000000A"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 8ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 3ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Executed DbCommand ("6"ms) [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 2ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 165.583ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 409 in 195.8554 ms
Connection id ""0HN5UUPGKN4JG"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (26ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 409 null "application/problem+json; charset=utf-8" 288.6211ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:0000000B"": started reading request body.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:0000000B"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 8ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (10ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 5ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Executed DbCommand ("10"ms) [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 3ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 405.6162ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 409 in 433.8807 ms
Connection id ""0HN5UUPGKN4JG"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 409 null "application/problem+json; charset=utf-8" 463.7242ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:0000000C"": started reading request body.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:0000000C"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 4ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (2ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 4ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (2ms).
Executing DbCommand [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Executed DbCommand ("6"ms) [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 1ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 120.4279ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 409 in 144.5550 ms
Connection id ""0HN5UUPGKN4JG"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 409 null "application/problem+json; charset=utf-8" 167.2809ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:0000000D"": started reading request body.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:0000000D"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 11ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 4ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (3ms).
Executing DbCommand [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Executed DbCommand ("3"ms) [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 1ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 149.0279ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 409 in 172.1397 ms
Connection id ""0HN5UUPGKN4JG"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 409 null "application/problem+json; charset=utf-8" 194.4267ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:0000000E"": started reading request body.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:0000000E"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (3ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 3ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (3ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 6ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Executed DbCommand ("5"ms) [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 2ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 121.3805ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 409 in 138.5112 ms
Connection id ""0HN5UUPGKN4JG"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 409 null "application/problem+json; charset=utf-8" 163.9883ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:0000000F"": started reading request body.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:0000000F"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (2ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 4ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Executed DbCommand ("6"ms) [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 1ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 122.7011ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 409 in 139.9467 ms
Connection id ""0HN5UUPGKN4JG"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 409 null "application/problem+json; charset=utf-8" 166.1955ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:00000010"": started reading request body.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:00000010"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 6ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (3ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 4ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (3ms).
Executing DbCommand [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Executed DbCommand ("3"ms) [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 4ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 120.6043ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 409 in 137.8108 ms
Connection id ""0HN5UUPGKN4JG"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (10ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 409 null "application/problem+json; charset=utf-8" 168.3391ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:00000011"": started reading request body.
Connection id ""0HN5UUPGKN4JG"", Request id ""0HN5UUPGKN4JG:00000011"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (3ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 3ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (3ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 5ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (3ms).
Executing DbCommand [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Executed DbCommand ("7"ms) [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 4ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 168.0023ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 409 in 191.2567 ms
Connection id ""0HN5UUPGKN4JG"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 409 null "application/problem+json; charset=utf-8" 214.5812ms
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0791ms - processed: 0 items - remaining: 1 items
Application is shutting down...
Hosting stopping
Connection id ""0HN5UUPGKN4JG"" disconnecting.
Connection id ""0HN5UUPGKN4JG"" stopped.
Connection id ""0HN5UUPGKN4JG"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-9KoLfgh8HHw-bKi9TvGenA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-BF27XbMZZFHygFM1oQi7FQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-E19v-2C6UFyAjTl6VOqhkg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-pVSQryzg6HWV6PHJbUe20w"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-pVSQryzg6HWV6PHJbUe20w"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-E19v-2C6UFyAjTl6VOqhkg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-BF27XbMZZFHygFM1oQi7FQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-9KoLfgh8HHw-bKi9TvGenA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/f4a6534de786_AppointmentsAPI_bus_8wyyyyfcnobrrcnhbdqm7714yw?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/f4a6534de786_AppointmentsAPI_bus_8wyyyyfcnobrrcnhbdqm7714yw?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (75ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (19ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (15ms).
Initialized DbCommand for '"ExecuteScalar"' (29ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("167"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (9ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 27ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 40858)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/f4a6534de786_AppointmentsAPI_bus_zcyyyyfcnobrfju8bdqm77skgw?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-EYomHoCn2yTmvjwezn29yA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-kHClBs1mM62LO2bvkmLJyg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-5Z1YsWINPJZzVG3OoiA-kA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-uVNjnZxqRm_sqWzjvWVVkA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5UUR72E28L"" accepted.
Connection id ""0HN5UUR72E28L"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUR72E28L"", Request id ""0HN5UUR72E28L:00000001"": started reading request body.
Connection id ""0HN5UUR72E28L"", Request id ""0HN5UUR72E28L:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (10ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("33"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 114ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("10"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 57ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Compiling query expression: "
"'"DbSet<Results>()
    .Where(r => r.AppointmentId == __request_AppointmentId_0)"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Results>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Results.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Results.AppointmentId (int) Required FK Index, 1], [Property: Results.Complaints (string) Required, 2], [Property: Results.Conclusion (string) Required, 3], [Property: Results.Date (DateTime) Required, 4], [Property: Results.Recommendations (string) Required, 5] }
        SELECT r.Id, r.AppointmentId, r.Complaints, r.Conclusion, r.Date, r.Recommendations
        FROM Results AS r
        WHERE r.AppointmentId == @__request_AppointmentId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Results>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Executed DbCommand ("10"ms) [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 6ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 1477.2149ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 409 in 1559.8709 ms
Connection id ""0HN5UUR72E28L"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 409 null "application/problem+json; charset=utf-8" 1691.1846ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUR72E28L"", Request id ""0HN5UUR72E28L:00000002"": started reading request body.
Connection id ""0HN5UUR72E28L"", Request id ""0HN5UUR72E28L:00000002"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("14"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 8ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (3ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 6ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Executed DbCommand ("5"ms) [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 4ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 325.5075ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 409 in 362.4476 ms
Connection id ""0HN5UUR72E28L"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 409 null "application/problem+json; charset=utf-8" 417.3287ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUR72E28L"", Request id ""0HN5UUR72E28L:00000003"": started reading request body.
Connection id ""0HN5UUR72E28L"", Request id ""0HN5UUR72E28L:00000003"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 11ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Executed DbCommand ("5"ms) [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 2ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 207.8867ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 409 in 239.8067 ms
Connection id ""0HN5UUR72E28L"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 409 null "application/problem+json; charset=utf-8" 275.9173ms
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUR72E28L"", Request id ""0HN5UUR72E28L:00000004"": started reading request body.
Connection id ""0HN5UUR72E28L"", Request id ""0HN5UUR72E28L:00000004"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (3ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 5ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 6ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (11ms).
Executing DbCommand [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Executed DbCommand ("4"ms) [Parameters=["@__request_AppointmentId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"AppointmentId\" = @__request_AppointmentId_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 3ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 181.3333ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 409 in 208.7522 ms
Connection id ""0HN5UUR72E28L"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 409 null "application/problem+json; charset=utf-8" 238.3219ms
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (106ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (78ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (18ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (15ms).
Initialized DbCommand for '"ExecuteScalar"' (29ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("176"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 24ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 39402)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/f4a6534de786_AppointmentsAPI_bus_twyoyyfcnobrre35bdqm77398e?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-bGq8eSHNS3Qh9fwBLp819Q"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-CexGKQ-Wh8lrecdusA9XEg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-2YPVQhG54dtBe8froxazEw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-wcvkvhl5XkehWIZWZkoK8A"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN5UUT337NJB"" accepted.
Connection id ""0HN5UUT337NJB"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUT337NJB"", Request id ""0HN5UUT337NJB:00000001"": started reading request body.
Connection id ""0HN5UUT337NJB"", Request id ""0HN5UUT337NJB:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("37"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 150ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("19"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 84ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 2132.2887ms - 200
End processing HTTP request after 2154.2649ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 495.8276ms - 200
End processing HTTP request after 502.4562ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("134"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 50ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
Start processing HTTP request "POST" "http://documents.api:8080/api/document"
Sending HTTP request "POST" "http://documents.api:8080/api/document"
Received HTTP response headers after 5878.8393ms - 200
End processing HTTP request after 5885.1117ms - 200
Start processing HTTP request "GET" "http://identity.api:8080/api/Authorization/account/8"
Sending HTTP request "GET" "http://identity.api:8080/api/Authorization/account/8"
Received HTTP response headers after 203.8362ms - 404
End processing HTTP request after 210.0262ms - 404
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"Results"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 17307.8692ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 200 in 17381.3174 ms
Connection id ""0HN5UUT337NJB"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 200 null "application/json; charset=utf-8" 17513.8921ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0851ms - processed: 0 items - remaining: 1 items
HttpMessageHandler expired after 120000ms for client '"files"'
Connection id ""0HN5UUT337NJB"" received FIN.
Connection id ""0HN5UUT337NJB"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UUT337NJB"" disconnecting.
Connection id ""0HN5UUT337NJB"" stopped.
HttpMessageHandler expired after 120000ms for client '"identity"'
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0104ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.013ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0955ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0135ms - processed: 0 items - remaining: 3 items
Connection id ""0HN5UUT337NJC"" accepted.
Connection id ""0HN5UUT337NJC"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUT337NJC"", Request id ""0HN5UUT337NJC:00000001"": started reading request body.
Connection id ""0HN5UUT337NJC"", Request id ""0HN5UUT337NJC:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (6ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (11ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("39"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 22ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("11"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 14ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 758.2744ms - 200
End processing HTTP request after 766.2882ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 123.0152ms - 200
End processing HTTP request after 130.1786ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("15"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 9ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
Start processing HTTP request "POST" "http://documents.api:8080/api/document"
Sending HTTP request "POST" "http://documents.api:8080/api/document"
Received HTTP response headers after 694.7403ms - 200
End processing HTTP request after 704.3991ms - 200
Start processing HTTP request "GET" "http://identity.api:8080/api/Authorization/account/8"
Sending HTTP request "GET" "http://identity.api:8080/api/Authorization/account/8"
Received HTTP response headers after 70.6072ms - 404
End processing HTTP request after 80.5799ms - 404
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"Results"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 2591.4081ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 200 in 2660.6318 ms
Connection id ""0HN5UUT337NJC"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 200 null "application/json; charset=utf-8" 2764.1646ms
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0917ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0713ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0124ms - processed: 0 items - remaining: 3 items
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUT337NJC"", Request id ""0HN5UUT337NJC:00000002"": started reading request body.
Connection id ""0HN5UUT337NJC"", Request id ""0HN5UUT337NJC:00000002"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 6ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("11"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 4ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 168.405ms - 200
End processing HTTP request after 177.4414ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 148.2478ms - 200
End processing HTTP request after 168.2349ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (3ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("14"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
Start processing HTTP request "POST" "http://documents.api:8080/api/document"
Sending HTTP request "POST" "http://documents.api:8080/api/document"
Received HTTP response headers after 405.6682ms - 200
End processing HTTP request after 413.7205ms - 200
Start processing HTTP request "GET" "http://identity.api:8080/api/Authorization/account/8"
Sending HTTP request "GET" "http://identity.api:8080/api/Authorization/account/8"
Received HTTP response headers after 84.459ms - 404
End processing HTTP request after 94.6792ms - 404
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"Results"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 1149.871ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 200 in 1183.5763 ms
Connection id ""0HN5UUT337NJC"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 200 null "application/json; charset=utf-8" 1228.6519ms
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0093ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.7846ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0094ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0617ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.011ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0099ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.009ms - processed: 0 items - remaining: 3 items
HttpMessageHandler expired after 120000ms for client '"profiles"'
HttpMessageHandler expired after 120000ms for client '"files"'
HttpMessageHandler expired after 120000ms for client '"identity"'
Starting HttpMessageHandler cleanup cycle with 6 items
Ending HttpMessageHandler cleanup cycle after 0.0105ms - processed: 0 items - remaining: 6 items
Starting HttpMessageHandler cleanup cycle with 6 items
Ending HttpMessageHandler cleanup cycle after 0.0647ms - processed: 0 items - remaining: 6 items
Starting HttpMessageHandler cleanup cycle with 6 items
Ending HttpMessageHandler cleanup cycle after 0.0089ms - processed: 0 items - remaining: 6 items
Starting HttpMessageHandler cleanup cycle with 6 items
Ending HttpMessageHandler cleanup cycle after 0.0107ms - processed: 0 items - remaining: 6 items
Connection id ""0HN5UUT337NJC"" received FIN.
Connection id ""0HN5UUT337NJC"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UUT337NJC"" disconnecting.
Connection id ""0HN5UUT337NJC"" stopped.
Starting HttpMessageHandler cleanup cycle with 6 items
Ending HttpMessageHandler cleanup cycle after 0.0149ms - processed: 0 items - remaining: 6 items
Starting HttpMessageHandler cleanup cycle with 6 items
Ending HttpMessageHandler cleanup cycle after 0.0125ms - processed: 0 items - remaining: 6 items
Starting HttpMessageHandler cleanup cycle with 6 items
Ending HttpMessageHandler cleanup cycle after 0.0118ms - processed: 0 items - remaining: 6 items
Connection id ""0HN5UUT337NJD"" accepted.
Connection id ""0HN5UUT337NJD"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUT337NJD"", Request id ""0HN5UUT337NJD:00000001"": started reading request body.
Connection id ""0HN5UUT337NJD"", Request id ""0HN5UUT337NJD:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (10ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("47"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 13ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (13ms).
Initialized DbCommand for '"ExecuteReader"' (17ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("25"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 12ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 942.5083ms - 200
End processing HTTP request after 956.9257ms - 200
Starting HttpMessageHandler cleanup cycle with 6 items
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Ending HttpMessageHandler cleanup cycle after 0.0101ms - processed: 0 items - remaining: 6 items
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 123.283ms - 200
End processing HTTP request after 138.1258ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("32"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 6ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
Start processing HTTP request "POST" "http://documents.api:8080/api/document"
Sending HTTP request "POST" "http://documents.api:8080/api/document"
Received HTTP response headers after 425.0371ms - 200
End processing HTTP request after 433.432ms - 200
Start processing HTTP request "GET" "http://identity.api:8080/api/Authorization/account/8"
Sending HTTP request "GET" "http://identity.api:8080/api/Authorization/account/8"
Received HTTP response headers after 98.5853ms - 404
End processing HTTP request after 103.5795ms - 404
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"Results"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 2254.2015ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 200 in 2287.9376 ms
Connection id ""0HN5UUT337NJD"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 200 null "application/json; charset=utf-8" 2335.4985ms
Starting HttpMessageHandler cleanup cycle with 6 items
Ending HttpMessageHandler cleanup cycle after 0.0136ms - processed: 0 items - remaining: 6 items
Starting HttpMessageHandler cleanup cycle with 6 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 6 items
Starting HttpMessageHandler cleanup cycle with 6 items
Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 6 items
Starting HttpMessageHandler cleanup cycle with 6 items
Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 6 items
Starting HttpMessageHandler cleanup cycle with 6 items
Ending HttpMessageHandler cleanup cycle after 0.4582ms - processed: 0 items - remaining: 6 items
Starting HttpMessageHandler cleanup cycle with 6 items
Ending HttpMessageHandler cleanup cycle after 0.0139ms - processed: 0 items - remaining: 6 items
Starting HttpMessageHandler cleanup cycle with 6 items
Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 6 items
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUT337NJD"", Request id ""0HN5UUT337NJD:00000002"": started reading request body.
Connection id ""0HN5UUT337NJD"", Request id ""0HN5UUT337NJD:00000002"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (5ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (11ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("16"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 23ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (15ms).
Initialized DbCommand for '"ExecuteReader"' (20ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("15"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 257.4796ms - 200
End processing HTTP request after 268.5435ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 103.8442ms - 200
End processing HTTP request after 121.4362ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("14"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 4ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
Start processing HTTP request "POST" "http://documents.api:8080/api/document"
Sending HTTP request "POST" "http://documents.api:8080/api/document"
Received HTTP response headers after 233.3476ms - 200
End processing HTTP request after 243.3736ms - 200
Start processing HTTP request "GET" "http://identity.api:8080/api/Authorization/account/8"
Sending HTTP request "GET" "http://identity.api:8080/api/Authorization/account/8"
Received HTTP response headers after 131.2145ms - 404
End processing HTTP request after 147.5549ms - 404
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"Results"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 1261.5431ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 200 in 1318.9508 ms
Connection id ""0HN5UUT337NJD"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 200 null "application/json; charset=utf-8" 1367.4474ms
Starting HttpMessageHandler cleanup cycle with 6 items
Ending HttpMessageHandler cleanup cycle after 4.6685ms - processed: 6 items - remaining: 0 items
HttpMessageHandler expired after 120000ms for client '"profiles"'
HttpMessageHandler expired after 120000ms for client '"files"'
HttpMessageHandler expired after 120000ms for client '"identity"'
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0068ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 3 items
Connection id ""0HN5UUT337NJD"" received FIN.
Connection id ""0HN5UUT337NJD"" disconnecting.
Connection id ""0HN5UUT337NJD"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN5UUT337NJD"" stopped.
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0086ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0083ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0052ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 3 items
Connection id ""0HN5UUT337NJE"" accepted.
Connection id ""0HN5UUT337NJE"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 161
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN5UUT337NJE"", Request id ""0HN5UUT337NJE:00000001"": started reading request body.
Connection id ""0HN5UUT337NJE"", Request id ""0HN5UUT337NJE:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("11"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 11ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (12ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 8ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 180.6517ms - 200
End processing HTTP request after 191.8647ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 145.5289ms - 200
End processing HTTP request after 157.4254ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("9"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
Start processing HTTP request "POST" "http://documents.api:8080/api/document"
Sending HTTP request "POST" "http://documents.api:8080/api/document"
Received HTTP response headers after 161.261ms - 200
End processing HTTP request after 171.3603ms - 200
Start processing HTTP request "GET" "http://identity.api:8080/api/Authorization/account/8"
Sending HTTP request "GET" "http://identity.api:8080/api/Authorization/account/8"
Received HTTP response headers after 62.2613ms - 404
End processing HTTP request after 72.2342ms - 404
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"Results"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 931.9307ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 200 in 955.3282 ms
Connection id ""0HN5UUT337NJE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 200 null "application/json; charset=utf-8" 996.3813ms
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 3 items
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/23""" - null null
1 candidate(s) found for the request path '"/api/Results/download/23"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/23"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Results>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Results>(
    asyncEnumerable: new SingleQueryingEnumerable<Results>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Results.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Results.AppointmentId (int) Required FK Index, 1], [Property: Results.Complaints (string) Required, 2], [Property: Results.Conclusion (string) Required, 3], [Property: Results.Date (DateTime) Required, 4], [Property: Results.Recommendations (string) Required, 5] }
            SELECT TOP(1) r.Id, r.AppointmentId, r.Complaints, r.Conclusion, r.Date, r.Recommendations
            FROM Results AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Results>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("22"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/23"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/23"
Received HTTP response headers after 1460.615ms - 500
End processing HTTP request after 1465.8562ms - 500
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 1976.5802ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/23" responded 500 in 2078.1264 ms
Connection id ""0HN5UUT337NJE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/23""" - 500 null "application/problem+json; charset=utf-8" 2151.7962ms
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 3 items
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/2""" - null null
1 candidate(s) found for the request path '"/api/Results/download/2"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/2"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("12"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 5ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 118.7077ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/2" responded 404 in 154.1733 ms
Connection id ""0HN5UUT337NJE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/2""" - 404 null "application/problem+json; charset=utf-8" 185.1513ms
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 3 items
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/23""" - null null
1 candidate(s) found for the request path '"/api/Results/download/23"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/23"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 8ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/23"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/23"
Received HTTP response headers after 181.893ms - 500
End processing HTTP request after 190.4922ms - 500
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 317.9599ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/23" responded 500 in 344.0775 ms
Connection id ""0HN5UUT337NJE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/23""" - 500 null "application/problem+json; charset=utf-8" 378.3763ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/23""" - null null
1 candidate(s) found for the request path '"/api/Results/23"'
Endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"' with route pattern '"api/Results/{id:int}"' is valid for the request path '"/api/Results/23"'
Request matched endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
Route matched with "{action = \"GetAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentResult(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 5ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("12"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
The navigation '"Results"."Appointment"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 36ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 278.2245ms - 200
End processing HTTP request after 284.4384ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 495.514ms - 200
End processing HTTP request after 499.4071ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("14"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 12ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"ResultResponse"'.
Executed action "ResultsController.GetAppointmentResult (Appointments.API)" in 2436.7244ms
Executed endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
HTTP "GET" "/api/Results/23" responded 200 in 2478.6791 ms
Connection id ""0HN5UUT337NJE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/23""" - 200 null "application/json; charset=utf-8" 2519.9711ms
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.01ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 3 items
HttpMessageHandler expired after 120000ms for client '"profiles"'
HttpMessageHandler expired after 120000ms for client '"files"'
HttpMessageHandler expired after 120000ms for client '"identity"'
Starting HttpMessageHandler cleanup cycle with 6 items
Ending HttpMessageHandler cleanup cycle after 0.0092ms - processed: 0 items - remaining: 6 items
Starting HttpMessageHandler cleanup cycle with 6 items
Ending HttpMessageHandler cleanup cycle after 0.0143ms - processed: 0 items - remaining: 6 items
Starting HttpMessageHandler cleanup cycle with 6 items
Ending HttpMessageHandler cleanup cycle after 0.1061ms - processed: 0 items - remaining: 6 items
Starting HttpMessageHandler cleanup cycle with 6 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 6 items
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (215ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (19ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (27ms).
Initialized DbCommand for '"ExecuteScalar"' (51ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("363"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (14ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("65"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 50ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (12ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 43242)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_goyyyyfcnebrfkhebdqcb64sdp?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-QzwCjAE4CMT_eBONMonOyw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-4sPJyUvildaN-FryDYFnPA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-3yJDc8lWvSjeE558c7UJ5A"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-oksMNQ82szs4-NgWMdCFmA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN60VDGG8E3P"" accepted.
Connection id ""0HN60VDGG8E3P"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
Wildcard detected, all requests with hosts will be allowed.
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN60VDGG8E3P"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 590.7341ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/swagger-ui.css""" - null null
Connection id ""0HN60VDGG8E3Q"" accepted.
No candidates found for the request path '"/swagger/swagger-ui.css"'
Connection id ""0HN60VDGG8E3Q"" started.
Connection id ""0HN60VDGG8E3R"" accepted.
Request did not match any endpoints
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/swagger-ui-bundle.js""" - null null
Connection id ""0HN60VDGG8E3R"" started.
Connection id ""0HN60VDGG8E3S"" accepted.
Connection id ""0HN60VDGG8E3S"" started.
No candidates found for the request path '"/swagger/swagger-ui-bundle.js"'
Connection id ""0HN60VDGG8E3T"" accepted.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/swagger-ui-standalone-preset.js""" - null null
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.css""" - null null
Request did not match any endpoints
Connection id ""0HN60VDGG8E3T"" started.
No candidates found for the request path '"/swagger/swagger-ui-standalone-preset.js"'
No candidates found for the request path '"/swagger/index.css"'
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - null null
The file "/swagger-ui-bundle.js" was not modified
Request did not match any endpoints
Request did not match any endpoints
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Handled. Status code: 304 File: "/swagger-ui-bundle.js"
Connection id ""0HN60VDGG8E3Q"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/swagger-ui-bundle.js""" - 304 null "text/javascript" 183.2358ms
Connection id ""0HN60VDGG8E3T"" completed keep alive response.
Sending file. Request path: '"/index.css"'. Physical path: '"N/A"'
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 146.398ms
Connection id ""0HN60VDGG8E3R"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.css""" - 200 202 "text/css" 204.3613ms
The file "/swagger-ui-standalone-preset.js" was not modified
Handled. Status code: 304 File: "/swagger-ui-standalone-preset.js"
Connection id ""0HN60VDGG8E3S"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/swagger-ui-standalone-preset.js""" - 304 null "text/javascript" 292.2989ms
Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
Connection id ""0HN60VDGG8E3P"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/swagger-ui.css""" - 200 152034 "text/css" 427.4697ms
Connection id ""0HN60VDGG8E3T"" received FIN.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/favicon-32x32.png""" - null null
No candidates found for the request path '"/swagger/favicon-32x32.png"'
Connection id ""0HN60VDGG8E3T"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Request did not match any endpoints
Connection id ""0HN60VDGG8E3T"" disconnecting.
Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/favicon-32x32.png""" - 200 628 "image/png" 39.0514ms
Connection id ""0HN60VDGG8E3T"" stopped.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Connection id ""0HN60VDGG8E3R"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 836.5311ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&serviceId=12&isActive=true" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (15ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("62"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 183ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 3923.1103ms - 200
End processing HTTP request after 3950.1018ms - 200
Compiling query expression: "
"'"DbSet<Appointment>()"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
        SELECT a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
        FROM Appointments AS a), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 115ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 418.8123ms - 200
End processing HTTP request after 433.5339ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 260.6298ms - 200
End processing HTTP request after 266.7186ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 3ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 6779.6395ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 7019.7290 ms
Connection id ""0HN60VDGG8E3P"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&serviceId=12&isActive=true" - 200 null "application/json; charset=utf-8" 7153.207ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&serviceId=12&isActive=false" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 8ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 92.9371ms - 200
End processing HTTP request after 109.1548ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (14ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 29ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 639.528ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 404 in 695.8159 ms
Connection id ""0HN60VDGG8E3P"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (15ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&serviceId=12&isActive=false" - 404 null "application/problem+json; charset=utf-8" 776.6018ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&serviceId=12" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '""' in request data ...
Could not find a value in the request with name '""' for binding parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 6ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 112.7385ms - 200
End processing HTTP request after 130.9559ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 14ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (9ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 384.0015ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 404 in 415.7733 ms
Connection id ""0HN60VDGG8E3P"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&serviceId=12" - 404 null "application/problem+json; charset=utf-8" 455.6415ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&isActive=true" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '""' in request data ...
Could not find a value in the request with name '""' for binding parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 133.6204ms - 200
End processing HTTP request after 152.7381ms - 200
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (16ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 42ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 105.0448ms - 200
End processing HTTP request after 120.8776ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 90.058ms - 200
End processing HTTP request after 105.9659ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("10"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 5ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 730.639ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 766.5739 ms
Connection id ""0HN60VDGG8E3P"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&doctorId=2&isActive=true" - 200 null "application/json; charset=utf-8" 804.8627ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&isActive=true" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '""' in request data ...
Could not find a value in the request with name '""' for binding parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '""' in request data ...
Could not find a value in the request with name '""' for binding parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (11ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (10ms).
Initialized DbCommand for '"ExecuteReader"' (14ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 22ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (14ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 862.4268ms - 200
End processing HTTP request after 945.783ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 213.9266ms - 200
End processing HTTP request after 299.0895ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (18ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("21"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 16ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 1852.7227ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 1918.3592 ms
Connection id ""0HN60VDGG8E3P"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-17&isActive=true" - 200 null "application/json; charset=utf-8" 1996.8781ms
Connection id ""0HN60VDGG8E3S"" received FIN.
Connection id ""0HN60VDGG8E3Q"" received FIN.
Connection id ""0HN60VDGG8E3S"" disconnecting.
Connection id ""0HN60VDGG8E3Q"" disconnecting.
Connection id ""0HN60VDGG8E3S"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN60VDGG8E3Q"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN60VDGG8E3S"" stopped.
Connection id ""0HN60VDGG8E3Q"" stopped.
Connection id ""0HN60VDGG8E3R"" received FIN.
Connection id ""0HN60VDGG8E3R"" disconnecting.
Connection id ""0HN60VDGG8E3R"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN60VDGG8E3R"" stopped.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=2" - null null
1 candidate(s) found for the request path '"/api/Appointments/history"'
Endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"' with route pattern '"api/Appointments/history"' is valid for the request path '"/api/Appointments/history"'
Request matched endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Route matched with "{action = \"GetAppointmentHistory\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentHistory(Int32)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Appointment>()
    .Where(a => a.PatientId == __request_PatientId_0)"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
        SELECT a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
        FROM Appointments AS a
        WHERE a.PatientId == @__request_PatientId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Creating DbConnection.
Created DbConnection. (21ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (12ms).
Initialized DbCommand for '"ExecuteReader"' (15ms).
Executing DbCommand [Parameters=["@__request_PatientId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0"
Executed DbCommand ("16"ms) [Parameters=["@__request_PatientId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 6ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "AppointmentsController.GetAppointmentHistory (Appointments.API)" in 2067.5656ms
Executed endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
HTTP "GET" "/api/Appointments/history" responded 404 in 2102.3366 ms
Connection id ""0HN60VDGG8E3P"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=2" - 404 null "application/problem+json; charset=utf-8" 2158.0147ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=8" - null null
1 candidate(s) found for the request path '"/api/Appointments/history"'
Endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"' with route pattern '"api/Appointments/history"' is valid for the request path '"/api/Appointments/history"'
Request matched endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Route matched with "{action = \"GetAppointmentHistory\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentHistory(Int32)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (12ms).
Executing DbCommand [Parameters=["@__request_PatientId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0"
Executed DbCommand ("4"ms) [Parameters=["@__request_PatientId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 14ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 230.5692ms - 200
End processing HTTP request after 804.0151ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (10ms).
Initialized DbCommand for '"ExecuteReader"' (14ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 14ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 202.435ms - 200
End processing HTTP request after 232.4859ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 2ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 645.5379ms - 200
End processing HTTP request after 659.6834ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 6ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentHistoryResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentHistory (Appointments.API)" in 2381.9418ms
Executed endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
HTTP "GET" "/api/Appointments/history" responded 200 in 2417.5732 ms
Connection id ""0HN60VDGG8E3P"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=8" - 200 null "application/json; charset=utf-8" 2473.8865ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/23""" - null null
1 candidate(s) found for the request path '"/api/Results/23"'
Endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"' with route pattern '"api/Results/{id:int}"' is valid for the request path '"/api/Results/23"'
Request matched endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
Route matched with "{action = \"GetAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentResult(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Results>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Results>(
    asyncEnumerable: new SingleQueryingEnumerable<Results>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Results.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Results.AppointmentId (int) Required FK Index, 1], [Property: Results.Complaints (string) Required, 2], [Property: Results.Conclusion (string) Required, 3], [Property: Results.Date (DateTime) Required, 4], [Property: Results.Recommendations (string) Required, 5] }
            SELECT TOP(1) r.Id, r.AppointmentId, r.Complaints, r.Conclusion, r.Date, r.Recommendations
            FROM Results AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Results>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (2ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("17"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 40ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (3ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
The navigation '"Results"."Appointment"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 43ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 111.4008ms - 200
End processing HTTP request after 135.67ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 129.6425ms - 200
End processing HTTP request after 151.186ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("17"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 14ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"ResultResponse"'.
Executed action "ResultsController.GetAppointmentResult (Appointments.API)" in 854.6191ms
Executed endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
HTTP "GET" "/api/Results/23" responded 200 in 966.3201 ms
Connection id ""0HN60VDGG8E3P"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (17ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/23""" - 200 null "application/json; charset=utf-8" 1101.503ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/23""" - null null
1 candidate(s) found for the request path '"/api/Results/download/23"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/23"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 10ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/23"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/23"
Received HTTP response headers after 11730.9014ms - 500
End processing HTTP request after 11762.2856ms - 500
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 11982.0828ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/23" responded 500 in 12069.7308 ms
Connection id ""0HN60VDGG8E3P"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/23""" - 500 null "application/problem+json; charset=utf-8" 12169.3866ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.1131ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0102ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.012ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0126ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0163ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0225ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0113ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0119ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0086ms - processed: 0 items - remaining: 1 items
HttpMessageHandler expired after 120000ms for client '"files"'
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0133ms - processed: 0 items - remaining: 2 items
Connection id ""0HN60VDGG8E3P"" received FIN.
Connection id ""0HN60VDGG8E3P"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN60VDGG8E3P"" disconnecting.
Connection id ""0HN60VDGG8E3P"" stopped.
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.011ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0108ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0147ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0123ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0136ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0141ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0146ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0169ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.013ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 14.4246ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0112ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0122ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0099ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.011ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0119ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0148ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0142ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0111ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 3.9105ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0083ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0105ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.01ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0106ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0888ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0091ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0083ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0094ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0097ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0052ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0076ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0154ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0135ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0056ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.01ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0088ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0177ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.009ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.015ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0086ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0098ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0089ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0237ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0075ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0106ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0095ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0083ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0062ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0182ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0052ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0056ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0052ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.006ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0109ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0055ms - processed: 0 items - remaining: 2 items
Hosting stopping
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 2 items
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-QzwCjAE4CMT_eBONMonOyw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-oksMNQ82szs4-NgWMdCFmA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-4sPJyUvildaN-FryDYFnPA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-3yJDc8lWvSjeE558c7UJ5A"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-3yJDc8lWvSjeE558c7UJ5A"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-4sPJyUvildaN-FryDYFnPA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-oksMNQ82szs4-NgWMdCFmA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-QzwCjAE4CMT_eBONMonOyw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_goyyyyfcnebrfkhebdqcb64sdp?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_goyyyyfcnebrfkhebdqcb64sdp?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (260ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (31ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (23ms).
Initialized DbCommand for '"ExecuteScalar"' (41ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("166"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (11ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("46"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 20ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 50140)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_jcyoyyfcnebrf1bfbdqcb91xdo?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-ydah9L1Dwuthltx1NZeHAw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-m3sLyXLfAjJ5aJmXPcPAJg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-pfulACPLWF5SIkIXk5JmgA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-I_Sfi38EFkekycckd426QQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN60VPI3JLLE"" accepted.
Connection id ""0HN60VPI3JLLE"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/23""" - null null
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/download/23"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/23"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Results>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Results>(
    asyncEnumerable: new SingleQueryingEnumerable<Results>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Results.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Results.AppointmentId (int) Required FK Index, 1], [Property: Results.Complaints (string) Required, 2], [Property: Results.Conclusion (string) Required, 3], [Property: Results.Date (DateTime) Required, 4], [Property: Results.Recommendations (string) Required, 5] }
            SELECT TOP(1) r.Id, r.AppointmentId, r.Complaints, r.Conclusion, r.Date, r.Recommendations
            FROM Results AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Results>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (17ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("105"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 193ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/23"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/23"
Received HTTP response headers after 9060.742ms - 500
End processing HTTP request after 9092.3874ms - 500
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 11506.3233ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
request System.Func`1[System.String] returns 500
HTTP "GET" "/api/Results/download/23" responded 500 in 11789.2313 ms
Connection id ""0HN60VPI3JLLE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (16ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/23""" - 500 0 "application/problem+json; charset=utf-8" 12115.5039ms
Application is shutting down...
Hosting stopping
Connection id ""0HN60VPI3JLLE"" disconnecting.
Connection id ""0HN60VPI3JLLE"" stopped.
Connection id ""0HN60VPI3JLLE"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-m3sLyXLfAjJ5aJmXPcPAJg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-I_Sfi38EFkekycckd426QQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-pfulACPLWF5SIkIXk5JmgA"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-ydah9L1Dwuthltx1NZeHAw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-pfulACPLWF5SIkIXk5JmgA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-ydah9L1Dwuthltx1NZeHAw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-I_Sfi38EFkekycckd426QQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-m3sLyXLfAjJ5aJmXPcPAJg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_jcyoyyfcnebrf1bfbdqcb91xdo?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_jcyoyyfcnebrf1bfbdqcb91xdo?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (76ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (19ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (15ms).
Initialized DbCommand for '"ExecuteScalar"' (29ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("200"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (22ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (9ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("39"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 23ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 34590)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_3oyoyyfcnebrr5kbbdqcb9i4yx?temporary=true
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-HpJnTOiRELQOWbzzlMywTg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-I3hp7rELnTBV3rrlzLFvMQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-VqpTlhsZ9tBh1Hk13Qpmdg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-stcpdfhdsdAJ_zksS53soA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN60VRC1PKSR"" accepted.
Connection id ""0HN60VRC1PKSR"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/23""" - null null
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/download/23"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/23"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Results>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Results>(
    asyncEnumerable: new SingleQueryingEnumerable<Results>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Results.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Results.AppointmentId (int) Required FK Index, 1], [Property: Results.Complaints (string) Required, 2], [Property: Results.Conclusion (string) Required, 3], [Property: Results.Date (DateTime) Required, 4], [Property: Results.Recommendations (string) Required, 5] }
            SELECT TOP(1) r.Id, r.AppointmentId, r.Complaints, r.Conclusion, r.Date, r.Recommendations
            FROM Results AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Results>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (10ms).
Initialized DbCommand for '"ExecuteReader"' (23ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("52"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 216ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/23"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/23"
Received HTTP response headers after 4656.6458ms - 500
End processing HTTP request after 4682.2939ms - 500
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 6261.081ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/23" responded 500 in 6528.2629 ms
Connection id ""0HN60VRC1PKSR"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (16ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/23""" - 500 null "application/problem+json; charset=utf-8" 7062.8344ms
HttpMessageHandler expired after 120000ms for client '"files"'
Connection id ""0HN60VRC1PKSR"" received FIN.
Connection id ""0HN60VRC1PKSR"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN60VRC1PKSR"" disconnecting.
Connection id ""0HN60VRC1PKSR"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.159ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0143ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0107ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0086ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0092ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0112ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.012ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.01ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0139ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 7.8224ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0117ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0094ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0157ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0151ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0128ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0147ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0114ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0091ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.014ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0128ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.3751ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0315ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0095ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0117ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0721ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0107ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 1.6962ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.014ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0076ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0056ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0087ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0079ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0091ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.011ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0086ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0075ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.1918ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0064ms - processed: 0 items - remaining: 1 items
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-I3hp7rELnTBV3rrlzLFvMQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-HpJnTOiRELQOWbzzlMywTg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-VqpTlhsZ9tBh1Hk13Qpmdg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-stcpdfhdsdAJ_zksS53soA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-VqpTlhsZ9tBh1Hk13Qpmdg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-HpJnTOiRELQOWbzzlMywTg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-I3hp7rELnTBV3rrlzLFvMQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-stcpdfhdsdAJ_zksS53soA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_3oyoyyfcnebrr5kbbdqcb9i4yx?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_3oyoyyfcnebrr5kbbdqcb9i4yx?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (98ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (22ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (20ms).
Initialized DbCommand for '"ExecuteScalar"' (43ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("152"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("53"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 37ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (11ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 34992)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_irbyyyfcnebrryyhbdqcnyjcrc?temporary=true
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-SSwMnpdy8p9_nyMQBo6RRQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-l7LD4fCcL_May4dfCKJVZA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-BcF4bloVwaao6k3Ahbca7Q"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-Nn7pn5LRhP2XnGE_jlNxzQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN6104NNUF3O"" accepted.
Connection id ""0HN6104NNUF3O"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/23""" - null null
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/download/23"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/23"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Results>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Results>(
    asyncEnumerable: new SingleQueryingEnumerable<Results>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Results.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Results.AppointmentId (int) Required FK Index, 1], [Property: Results.Complaints (string) Required, 2], [Property: Results.Conclusion (string) Required, 3], [Property: Results.Date (DateTime) Required, 4], [Property: Results.Recommendations (string) Required, 5] }
            SELECT TOP(1) r.Id, r.AppointmentId, r.Complaints, r.Conclusion, r.Date, r.Recommendations
            FROM Results AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Results>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (17ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("81"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 156ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/23"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/23"
Received HTTP response headers after 5201.021ms - 500
End processing HTTP request after 5225.3234ms - 500
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 6632.3885ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/23" responded 500 in 6742.3309 ms
Connection id ""0HN6104NNUF3O"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/23""" - 500 null "application/problem+json; charset=utf-8" 6920.4144ms
HttpMessageHandler expired after 120000ms for client '"files"'
Connection id ""0HN6104NNUF3O"" received FIN.
Connection id ""0HN6104NNUF3O"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN6104NNUF3O"" disconnecting.
Connection id ""0HN6104NNUF3O"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.7209ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0094ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0115ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0127ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0126ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0121ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0101ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0111ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0144ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 1.7049ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0118ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0104ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.1383ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0101ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0076ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0129ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0153ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0104ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0148ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 1.4378ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.9598ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0108ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0089ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.7411ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0104ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0088ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0052ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0098ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.9846ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.8674ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0055ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0068ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0083ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0075ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0079ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0083ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0079ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0099ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0076ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0128ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0075ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 4.8607ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.4024ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.006ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0056ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0068ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0055ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0052ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0083ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0061ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0052ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0056ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0055ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0056ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0087ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0052ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0062ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0052ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0059ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0056ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 1 items
Connection id ""0HN6104NNUF3P"" accepted.
Connection id ""0HN6104NNUF3P"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/23""" - null null
1 candidate(s) found for the request path '"/api/Results/download/23"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/23"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 1 items
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (10ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("149"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 53ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/23"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/23"
Received HTTP response headers after 2000.8888ms - 500
End processing HTTP request after 2011.4426ms - 500
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 3548.5579ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/23" responded 500 in 3701.4582 ms
Connection id ""0HN6104NNUF3P"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/23""" - 500 null "application/problem+json; charset=utf-8" 3965.2692ms
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0411ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0056ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 1 items
Connection id ""0HN6104NNUF3P"" received FIN.
Connection id ""0HN6104NNUF3P"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN6104NNUF3P"" disconnecting.
Connection id ""0HN6104NNUF3P"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 1 items
HttpMessageHandler expired after 120000ms for client '"files"'
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0061ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0059ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0041ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.006ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0061ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0064ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 2 items
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 2 items
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-SSwMnpdy8p9_nyMQBo6RRQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Starting HttpMessageHandler cleanup cycle with 2 items
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-l7LD4fCcL_May4dfCKJVZA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Ending HttpMessageHandler cleanup cycle after 50.6836ms - processed: 2 items - remaining: 0 items
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-Nn7pn5LRhP2XnGE_jlNxzQ"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-BcF4bloVwaao6k3Ahbca7Q"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-Nn7pn5LRhP2XnGE_jlNxzQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-l7LD4fCcL_May4dfCKJVZA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-BcF4bloVwaao6k3Ahbca7Q"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-SSwMnpdy8p9_nyMQBo6RRQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_irbyyyfcnebrryyhbdqcnyjcrc?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_irbyyyfcnebrryyhbdqcnyjcrc?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (60ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (19ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (16ms).
Initialized DbCommand for '"ExecuteScalar"' (32ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("139"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("45"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 20ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 43884)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_ycnyyyfcnebrfunsbdqcnngc8r?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-RsrxUiiry9HzcefycjXy7A"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-ZH0u3y89gMucHe3CW4CkDw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-hI7Is9IfrEfWpSJ5psZd7Q"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-flrssH-osgegSPXgadNurw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-ZH0u3y89gMucHe3CW4CkDw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-RsrxUiiry9HzcefycjXy7A"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-flrssH-osgegSPXgadNurw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-RsrxUiiry9HzcefycjXy7A"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-ZH0u3y89gMucHe3CW4CkDw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-flrssH-osgegSPXgadNurw"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-hI7Is9IfrEfWpSJ5psZd7Q"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-hI7Is9IfrEfWpSJ5psZd7Q"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_ycnyyyfcnebrfunsbdqcnngc8r?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_ycnyyyfcnebrfunsbdqcnngc8r?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (249ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (35ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (29ms).
Initialized DbCommand for '"ExecuteScalar"' (57ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("293"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (13ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (13ms).
Initialized DbCommand for '"ExecuteReader"' (30ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("43"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 64ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (16ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 33418)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_1ynyyyfcnebrr9c4bdqcnnmod1?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-Q48ycLGQPWVopFKvhrHW8Q"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-Ol7AZd_0bhs2lT8Oqqlqow"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-NWUkzlirRlVsCe2JKnKqOw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-F0pnMg7ZmbFCS0bU2Zp3Ow"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-NWUkzlirRlVsCe2JKnKqOw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-Ol7AZd_0bhs2lT8Oqqlqow"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-Q48ycLGQPWVopFKvhrHW8Q"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-F0pnMg7ZmbFCS0bU2Zp3Ow"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-NWUkzlirRlVsCe2JKnKqOw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-Q48ycLGQPWVopFKvhrHW8Q"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-F0pnMg7ZmbFCS0bU2Zp3Ow"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-Ol7AZd_0bhs2lT8Oqqlqow"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_1ynyyyfcnebrr9c4bdqcnnmod1?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_1ynyyyfcnebrr9c4bdqcnnmod1?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (87ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (23ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (20ms).
Initialized DbCommand for '"ExecuteScalar"' (35ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("251"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (15ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (19ms).
Initialized DbCommand for '"ExecuteReader"' (30ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("37"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 41ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 48808)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_rhnoyyfcnebrfup8bdqcnnubya?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-uLAeGJ3-aMs0FjCkWaNudQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-1-XSMtd7t5vEpdyvfpctZg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-PFkNjN3DPuj9abVhZzKn8w"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-jMLOdDCMmm0owgJGpjZdYQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN611A1U6AOQ"" accepted.
Connection id ""0HN611A1U6AOQ"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/23""" - null null
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/download/23"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/23"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Results>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Results>(
    asyncEnumerable: new SingleQueryingEnumerable<Results>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Results.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Results.AppointmentId (int) Required FK Index, 1], [Property: Results.Complaints (string) Required, 2], [Property: Results.Conclusion (string) Required, 3], [Property: Results.Date (DateTime) Required, 4], [Property: Results.Recommendations (string) Required, 5] }
            SELECT TOP(1) r.Id, r.AppointmentId, r.Complaints, r.Conclusion, r.Date, r.Recommendations
            FROM Results AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Results>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (16ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (21ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("64"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 135ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/23"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/23"
Received HTTP response headers after 436.9985ms - 500
End processing HTTP request after 459.1352ms - 500
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 1851.7783ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/23" responded 500 in 1964.8092 ms
Connection id ""0HN611A1U6AOQ"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/23""" - 500 null "application/problem+json; charset=utf-8" 2145.3344ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/23""" - null null
1 candidate(s) found for the request path '"/api/Results/download/23"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/23"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 11ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/23"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/23"
Received HTTP response headers after 127.2427ms - 500
End processing HTTP request after 135.3246ms - 500
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 409.625ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/23" responded 500 in 441.5937 ms
Connection id ""0HN611A1U6AOQ"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (16ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/23""" - 500 null "application/problem+json; charset=utf-8" 508.1035ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/23""" - null null
1 candidate(s) found for the request path '"/api/Results/download/23"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/23"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (10ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (16ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("15"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 13ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (41ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/23"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/23"
Received HTTP response headers after 149.2655ms - 500
End processing HTTP request after 181.0732ms - 500
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 516.9425ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/23" responded 500 in 650.9028 ms
Connection id ""0HN611A1U6AOQ"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (10ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/23""" - 500 null "application/problem+json; charset=utf-8" 739.0238ms
HttpMessageHandler expired after 120000ms for client '"files"'
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.8524ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0106ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0114ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0129ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0123ms - processed: 0 items - remaining: 1 items
Connection id ""0HN611A1U6AOQ"" received FIN.
Connection id ""0HN611A1U6AOQ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN611A1U6AOQ"" disconnecting.
Connection id ""0HN611A1U6AOQ"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0096ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 6.2036ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 73.6275ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0099ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.1941ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.012ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.01ms - processed: 0 items - remaining: 1 items
Connection id ""0HN611A1U6AOR"" accepted.
Connection id ""0HN611A1U6AOR"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/17""" - null null
1 candidate(s) found for the request path '"/api/Results/download/17"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/17"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (10ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (12ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("59"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 13ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (9ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 607.5752ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/17" responded 404 in 686.6403 ms
Connection id ""0HN611A1U6AOR"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/17""" - 404 null "application/problem+json; charset=utf-8" 801.044ms
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0093ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0109ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0111ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0098ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0122ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0122ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0095ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0101ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0099ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 27.7878ms - processed: 0 items - remaining: 1 items
Connection id ""0HN611A1U6AOR"" received FIN.
Connection id ""0HN611A1U6AOR"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN611A1U6AOR"" disconnecting.
Connection id ""0HN611A1U6AOR"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0178ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0111ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 7.0788ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0094ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.1603ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0113ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0068ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.01ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.01ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0068ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0102ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0087ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0092ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.009ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0059ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0119ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0076ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0118ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 7.3318ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0083ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0097ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0205ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 3.7982ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0027ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 1 items
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-1-XSMtd7t5vEpdyvfpctZg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-PFkNjN3DPuj9abVhZzKn8w"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-uLAeGJ3-aMs0FjCkWaNudQ"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-jMLOdDCMmm0owgJGpjZdYQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-jMLOdDCMmm0owgJGpjZdYQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-1-XSMtd7t5vEpdyvfpctZg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-uLAeGJ3-aMs0FjCkWaNudQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-PFkNjN3DPuj9abVhZzKn8w"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_rhnoyyfcnebrfup8bdqcnnubya?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_rhnoyyfcnebrfup8bdqcnnubya?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (125ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (17ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (21ms).
Initialized DbCommand for '"ExecuteScalar"' (33ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("173"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 28ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 47636)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_gadyyyfcnebrfgurbdqcndjfn1?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-r0s-eIRFX2fB4X8TlA7Ngw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-iF07iES0mjxz_suS9cXHUw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-z5MCkAyf7xYkvIZXXIxO7Q"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-DPTbaNFnSZYVsrHAnMvUoQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-iF07iES0mjxz_suS9cXHUw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-DPTbaNFnSZYVsrHAnMvUoQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-z5MCkAyf7xYkvIZXXIxO7Q"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-r0s-eIRFX2fB4X8TlA7Ngw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-z5MCkAyf7xYkvIZXXIxO7Q"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-r0s-eIRFX2fB4X8TlA7Ngw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-DPTbaNFnSZYVsrHAnMvUoQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-iF07iES0mjxz_suS9cXHUw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_gadyyyfcnebrfgurbdqcndjfn1?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_gadyyyfcnebrfgurbdqcndjfn1?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (210ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (23ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (20ms).
Initialized DbCommand for '"ExecuteScalar"' (38ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("270"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (16ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (22ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 37ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 57614)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_sadyyyfcnebrfzdjbdqcndpuf7?temporary=true
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-juH_xqRqrUVEKSrED_zQjg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-unveRSpawE1bwpHbLj8Vwg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-jlthoMoeyeVBsok1mvfOrA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-AmNLmCrqK6Wh6zJi8dF6cQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN611NO31M7G"" accepted.
Connection id ""0HN611NO31M7G"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 170
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN611NO31M7G"", Request id ""0HN611NO31M7G:00000001"": started reading request body.
Connection id ""0HN611NO31M7G"", Request id ""0HN611NO31M7G:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (5ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (42ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("200"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 254ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (37ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (9ms).
Initialized DbCommand for '"ExecuteReader"' (33ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("15"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 112ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 5696.1206ms - 200
End processing HTTP request after 5723.1657ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 626.448ms - 200
End processing HTTP request after 631.481ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (19ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("164"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 36ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
Start processing HTTP request "POST" "http://documents.api:8080/api/document"
Sending HTTP request "POST" "http://documents.api:8080/api/document"
Received HTTP response headers after 5040.8307ms - 200
End processing HTTP request after 5047.7633ms - 200
Start processing HTTP request "GET" "http://identity.api:8080/api/Authorization/account/8"
Sending HTTP request "GET" "http://identity.api:8080/api/Authorization/account/8"
Received HTTP response headers after 184.1418ms - 404
End processing HTTP request after 189.1462ms - 404
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"Results"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 21302.5864ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 200 in 21596.6176 ms
Connection id ""0HN611NO31M7G"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (53ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 200 null "application/json; charset=utf-8" 22494.8692ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/24""" - null null
1 candidate(s) found for the request path '"/api/Results/24"'
Endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"' with route pattern '"api/Results/{id:int}"' is valid for the request path '"/api/Results/24"'
Request matched endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
Route matched with "{action = \"GetAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentResult(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Results>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Results>(
    asyncEnumerable: new SingleQueryingEnumerable<Results>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Results.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Results.AppointmentId (int) Required FK Index, 1], [Property: Results.Complaints (string) Required, 2], [Property: Results.Conclusion (string) Required, 3], [Property: Results.Date (DateTime) Required, 4], [Property: Results.Recommendations (string) Required, 5] }
            SELECT TOP(1) r.Id, r.AppointmentId, r.Complaints, r.Conclusion, r.Date, r.Recommendations
            FROM Results AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Results>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 10ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
The navigation '"Results"."Appointment"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 45ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 129.0365ms - 200
End processing HTTP request after 139.4659ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 218.1025ms - 200
End processing HTTP request after 238.9675ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (3ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("14"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 12ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (11ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"ResultResponse"'.
Executed action "ResultsController.GetAppointmentResult (Appointments.API)" in 2100.5602ms
Executed endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
HTTP "GET" "/api/Results/24" responded 200 in 2159.5342 ms
Connection id ""0HN611NO31M7G"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/24""" - 200 null "application/json; charset=utf-8" 2236.6014ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - null null
1 candidate(s) found for the request path '"/api/Results/download/24"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/24"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (10ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 12ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Received HTTP response headers after 1396.3136ms - 200
End processing HTTP request after 1411.5836ms - 200
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 1571.597ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/24" responded 500 in 1620.0001 ms
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Microsoft.AspNetCore.Http.FormFile.OpenReadStream()
   at ResultsController.<DownloadAppointmentsResults>b__4_0(IFormFile formFile) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 30
   at ErrorOr.ErrorOr`1.Match[TNextValue](Func`2 onValue, Func`2 onError)
   at ResultsController.DownloadAppointmentsResults(Int32 id) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Microsoft.AspNetCore.Http.FormFile.OpenReadStream()
   at ResultsController.<DownloadAppointmentsResults>b__4_0(IFormFile formFile) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 30
   at ErrorOr.ErrorOr`1.Match[TNextValue](Func`2 onValue, Func`2 onError)
   at ResultsController.DownloadAppointmentsResults(Int32 id) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN611NO31M7G"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - 500 null "text/plain; charset=utf-8" 1829.042ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 20.9903ms - processed: 0 items - remaining: 1 items
HttpMessageHandler expired after 120000ms for client '"files"'
HttpMessageHandler expired after 120000ms for client '"identity"'
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0222ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 8.0201ms - processed: 0 items - remaining: 3 items
Connection id ""0HN611NO31M7G"" received FIN.
Connection id ""0HN611NO31M7G"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN611NO31M7G"" disconnecting.
Connection id ""0HN611NO31M7G"" stopped.
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0134ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0133ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0133ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0134ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.8536ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0203ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.014ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 7.5153ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.032ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 7.524ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0092ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0126ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0134ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0126ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 5.6492ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0127ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0117ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 5.6877ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0112ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0107ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0108ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0122ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0093ms - processed: 0 items - remaining: 3 items
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-AmNLmCrqK6Wh6zJi8dF6cQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-AmNLmCrqK6Wh6zJi8dF6cQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-juH_xqRqrUVEKSrED_zQjg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-juH_xqRqrUVEKSrED_zQjg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-unveRSpawE1bwpHbLj8Vwg"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-unveRSpawE1bwpHbLj8Vwg"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-jlthoMoeyeVBsok1mvfOrA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-jlthoMoeyeVBsok1mvfOrA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_sadyyyfcnebrfzdjbdqcndpuf7?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_sadyyyfcnebrfzdjbdqcndpuf7?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (84ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (21ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (13ms).
Initialized DbCommand for '"ExecuteScalar"' (26ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("289"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (10ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 22ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 35980)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_xadoyyfcnebrrwcxbdqcndakry?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-pWrHOrW1imEf0dn9mwKV_w"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-ckEXtwZ_89zH7Mm4tWVEcA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-OyEydzPrUcfg2ZAouPNsIg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-zfkmr_ChtvqgwCkhevpw0A"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN611TCE8DRP"" accepted.
Connection id ""0HN611TCE8DRP"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - null null
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/download/24"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/24"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Results>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Results>(
    asyncEnumerable: new SingleQueryingEnumerable<Results>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Results.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Results.AppointmentId (int) Required FK Index, 1], [Property: Results.Complaints (string) Required, 2], [Property: Results.Conclusion (string) Required, 3], [Property: Results.Date (DateTime) Required, 4], [Property: Results.Recommendations (string) Required, 5] }
            SELECT TOP(1) r.Id, r.AppointmentId, r.Complaints, r.Conclusion, r.Date, r.Recommendations
            FROM Results AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Results>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (5ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (19ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("68"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 248ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (11ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Received HTTP response headers after 4818.1809ms - 200
End processing HTTP request after 4852.9439ms - 200
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 6295.6712ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/24" responded 500 in 6422.9031 ms
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Microsoft.AspNetCore.Http.FormFile.OpenReadStream()
   at Microsoft.AspNetCore.Http.FormFile.CopyTo(Stream target)
   at ResultsController.<DownloadAppointmentsResults>b__4_0(IFormFile formFile) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 33
   at ErrorOr.ErrorOr`1.Match[TNextValue](Func`2 onValue, Func`2 onError)
   at ResultsController.DownloadAppointmentsResults(Int32 id) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Microsoft.AspNetCore.Http.FormFile.OpenReadStream()
   at Microsoft.AspNetCore.Http.FormFile.CopyTo(Stream target)
   at ResultsController.<DownloadAppointmentsResults>b__4_0(IFormFile formFile) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 33
   at ErrorOr.ErrorOr`1.Match[TNextValue](Func`2 onValue, Func`2 onError)
   at ResultsController.DownloadAppointmentsResults(Int32 id) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN611TCE8DRP"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (10ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - 500 null "text/plain; charset=utf-8" 6893.1586ms
HttpMessageHandler expired after 120000ms for client '"files"'
Connection id ""0HN611TCE8DRP"" received FIN.
Connection id ""0HN611TCE8DRP"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN611TCE8DRP"" disconnecting.
Connection id ""0HN611TCE8DRP"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.1817ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0132ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0116ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0136ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0141ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0114ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0128ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.1095ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.466ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.012ms - processed: 0 items - remaining: 1 items
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-zfkmr_ChtvqgwCkhevpw0A"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-OyEydzPrUcfg2ZAouPNsIg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-ckEXtwZ_89zH7Mm4tWVEcA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-pWrHOrW1imEf0dn9mwKV_w"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-OyEydzPrUcfg2ZAouPNsIg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-ckEXtwZ_89zH7Mm4tWVEcA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-zfkmr_ChtvqgwCkhevpw0A"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-pWrHOrW1imEf0dn9mwKV_w"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_xadoyyfcnebrrwcxbdqcndakry?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_xadoyyfcnebrrwcxbdqcndakry?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (95ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (15ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (16ms).
Initialized DbCommand for '"ExecuteScalar"' (28ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("213"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (37ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (15ms).
Initialized DbCommand for '"ExecuteReader"' (27ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("35"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 35ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (13ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 40278)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_raryyyfcnebrfiddbdqcnryfgr?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-Ze0IdbOph47oYiqH0DyiYw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-w_cEg1HdjwGGW9hU6kpnJw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-x3FBPQ9tevrftK5BwhSvfQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-o-4_pQUr_pjxZWCpiaZNtg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN61205SIFDJ"" accepted.
Connection id ""0HN61205SIFDJ"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - null null
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/download/24"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/24"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Results>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Results>(
    asyncEnumerable: new SingleQueryingEnumerable<Results>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Results.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Results.AppointmentId (int) Required FK Index, 1], [Property: Results.Complaints (string) Required, 2], [Property: Results.Conclusion (string) Required, 3], [Property: Results.Date (DateTime) Required, 4], [Property: Results.Recommendations (string) Required, 5] }
            SELECT TOP(1) r.Id, r.AppointmentId, r.Complaints, r.Conclusion, r.Date, r.Recommendations
            FROM Results AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Results>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (17ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("47"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 126ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Received HTTP response headers after 5235.3658ms - 200
End processing HTTP request after 5262.8034ms - 200
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 6470.4501ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/24" responded 500 in 6572.9996 ms
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Microsoft.AspNetCore.Http.FormFile.OpenReadStream()
   at ResultsController.<DownloadAppointmentsResults>b__4_0(IFormFile formFile) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 30
   at ErrorOr.ErrorOr`1.Match[TNextValue](Func`2 onValue, Func`2 onError)
   at ResultsController.DownloadAppointmentsResults(Int32 id) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Microsoft.AspNetCore.Http.FormFile.OpenReadStream()
   at ResultsController.<DownloadAppointmentsResults>b__4_0(IFormFile formFile) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 30
   at ErrorOr.ErrorOr`1.Match[TNextValue](Func`2 onValue, Func`2 onError)
   at ResultsController.DownloadAppointmentsResults(Int32 id) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN61205SIFDJ"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - 500 null "text/plain; charset=utf-8" 6980.8965ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - null null
1 candidate(s) found for the request path '"/api/Results/download/24"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/24"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("14"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 8ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Received HTTP response headers after 154.3975ms - 200
End processing HTTP request after 164.0295ms - 200
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 457.1428ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/24" responded 500 in 499.2244 ms
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Microsoft.AspNetCore.Http.FormFile.OpenReadStream()
   at ResultsController.<DownloadAppointmentsResults>b__4_0(IFormFile formFile) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 30
   at ErrorOr.ErrorOr`1.Match[TNextValue](Func`2 onValue, Func`2 onError)
   at ResultsController.DownloadAppointmentsResults(Int32 id) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Microsoft.AspNetCore.Http.FormFile.OpenReadStream()
   at ResultsController.<DownloadAppointmentsResults>b__4_0(IFormFile formFile) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 30
   at ErrorOr.ErrorOr`1.Match[TNextValue](Func`2 onValue, Func`2 onError)
   at ResultsController.DownloadAppointmentsResults(Int32 id) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN61205SIFDJ"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - 500 null "text/plain; charset=utf-8" 647.9516ms
HttpMessageHandler expired after 120000ms for client '"files"'
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0986ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0118ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0111ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0167ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.6788ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0073ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0104ms - processed: 0 items - remaining: 1 items
Connection id ""0HN61205SIFDJ"" received FIN.
Connection id ""0HN61205SIFDJ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN61205SIFDJ"" disconnecting.
Connection id ""0HN61205SIFDJ"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0127ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0146ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0086ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0076ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0109ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0157ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0136ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 1.2424ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0095ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0092ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0968ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.01ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0079ms - processed: 0 items - remaining: 1 items
Connection id ""0HN61205SIFDK"" accepted.
Connection id ""0HN61205SIFDK"" started.
Request starting "HTTP/1.1" "PUT" "http"://"localhost:8086""""/api/Results/edit/24""" - "application/json" 129
1 candidate(s) found for the request path '"/api/Results/edit/24"'
Endpoint '"ResultsController.UpdateAppointmentResultInfo (Appointments.API)"' with route pattern '"api/Results/edit/{id:int}"' is valid for the request path '"/api/Results/edit/24"'
Request matched endpoint '"ResultsController.UpdateAppointmentResultInfo (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.UpdateAppointmentResultInfo (Appointments.API)"'
Route matched with "{action = \"UpdateAppointmentResultInfo\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAppointmentResultInfo(Int32, UpdateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Attempting to bind parameter '"request"' of type '"UpdateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"UpdateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN61205SIFDK"", Request id ""0HN61205SIFDK:00000001"": started reading request body.
Connection id ""0HN61205SIFDK"", Request id ""0HN61205SIFDK:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"UpdateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"UpdateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"UpdateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"UpdateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"UpdateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (11ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("107"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 39ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
The unchanged property '"Results"."Complaints"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
The unchanged property '"Results"."Conclusion"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
The unchanged property '"Results"."Recommendations"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (25ms).
Executing DbCommand [Parameters=["@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Results\" SET \"AppointmentId\" = @p0, \"Complaints\" = @p1, \"Conclusion\" = @p2, \"Date\" = @p3, \"Recommendations\" = @p4
WHERE \"Id\" = @p5;"
Executed DbCommand ("60"ms) [Parameters=["@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Results\" SET \"AppointmentId\" = @p0, \"Complaints\" = @p1, \"Conclusion\" = @p2, \"Date\" = @p3, \"Recommendations\" = @p4
WHERE \"Id\" = @p5;"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 17ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"Results"'.
Executed action "ResultsController.UpdateAppointmentResultInfo (Appointments.API)" in 3387.5032ms
Executed endpoint '"ResultsController.UpdateAppointmentResultInfo (Appointments.API)"'
HTTP "PUT" "/api/Results/edit/24" responded 200 in 3836.6421 ms
Connection id ""0HN61205SIFDK"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Request finished "HTTP/1.1" "PUT" "http"://"localhost:8086""""/api/Results/edit/24""" - 200 null "application/json; charset=utf-8" 4040.0233ms
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.013ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.012ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0119ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0095ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0111ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 5.5265ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0135ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0136ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0219ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0087ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0141ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0085ms - processed: 0 items - remaining: 1 items
Connection id ""0HN61205SIFDK"" received FIN.
Connection id ""0HN61205SIFDK"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN61205SIFDK"" disconnecting.
Connection id ""0HN61205SIFDK"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0134ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0076ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0089ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0092ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.009ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0091ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0093ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0093ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0083ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0078ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.01ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0092ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 3.3112ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 14.4998ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0068ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0068ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0045ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0021ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0028ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0677ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0053ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0342ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0092ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0037ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 34.3291ms - processed: 1 items - remaining: 0 items
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-x3FBPQ9tevrftK5BwhSvfQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-o-4_pQUr_pjxZWCpiaZNtg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-Ze0IdbOph47oYiqH0DyiYw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-w_cEg1HdjwGGW9hU6kpnJw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-x3FBPQ9tevrftK5BwhSvfQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-Ze0IdbOph47oYiqH0DyiYw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-w_cEg1HdjwGGW9hU6kpnJw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-o-4_pQUr_pjxZWCpiaZNtg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_raryyyfcnebrfiddbdqcnryfgr?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_raryyyfcnebrfiddbdqcnryfgr?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (140ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (39ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (32ms).
Initialized DbCommand for '"ExecuteScalar"' (69ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("259"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (17ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (12ms).
Initialized DbCommand for '"ExecuteReader"' (38ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("62"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 69ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (35ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 39324)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_joroyyfcnebrrrpdbdqcnrh3dn?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Kr12AzcqxwPYonqMxe_lAQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-YuNIpG5ExY7mfeSZdq9WQA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-qMrzdNXlX3OiXucRyw_1Cg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-ICKCt33PBYzu8wuCd61Z-g"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN612HRGESOD"" accepted.
Connection id ""0HN612HRGESOD"" started.
Request starting "HTTP/1.1" "PUT" "http"://"localhost:8086""""/api/Results/edit/24""" - "application/json" 129
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/edit/24"'
Endpoint '"ResultsController.UpdateAppointmentResultInfo (Appointments.API)"' with route pattern '"api/Results/edit/{id:int}"' is valid for the request path '"/api/Results/edit/24"'
Request matched endpoint '"ResultsController.UpdateAppointmentResultInfo (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.UpdateAppointmentResultInfo (Appointments.API)"'
Route matched with "{action = \"UpdateAppointmentResultInfo\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAppointmentResultInfo(Int32, UpdateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Attempting to bind parameter '"request"' of type '"UpdateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"UpdateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN612HRGESOD"", Request id ""0HN612HRGESOD:00000001"": started reading request body.
Connection id ""0HN612HRGESOD"", Request id ""0HN612HRGESOD:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"UpdateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"UpdateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"UpdateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"UpdateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"UpdateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Results>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Results>(
    asyncEnumerable: new SingleQueryingEnumerable<Results>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Results.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Results.AppointmentId (int) Required FK Index, 1], [Property: Results.Complaints (string) Required, 2], [Property: Results.Conclusion (string) Required, 3], [Property: Results.Date (DateTime) Required, 4], [Property: Results.Recommendations (string) Required, 5] }
            SELECT TOP(1) r.Id, r.AppointmentId, r.Complaints, r.Conclusion, r.Date, r.Recommendations
            FROM Results AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Results>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (16ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("125"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 188ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Appointment>(
    asyncEnumerable: new SingleQueryingEnumerable<Appointment>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
            SELECT TOP(1) a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
            FROM Appointments AS a
            WHERE a.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("19"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
The navigation '"Results"."Appointment"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 97ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (11ms).
Executing DbCommand [Parameters=["@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Results\" SET \"AppointmentId\" = @p0, \"Complaints\" = @p1, \"Conclusion\" = @p2, \"Date\" = @p3, \"Recommendations\" = @p4
WHERE \"Id\" = @p5;"
Executed DbCommand ("35"ms) [Parameters=["@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Results\" SET \"AppointmentId\" = @p0, \"Complaints\" = @p1, \"Conclusion\" = @p2, \"Date\" = @p3, \"Recommendations\" = @p4
WHERE \"Id\" = @p5;"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 14ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 7272.3066ms - 200
End processing HTTP request after 7355.2196ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 1506.2879ms - 200
End processing HTTP request after 1543.7675ms - 200
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (7ms).
Initialized DbCommand for '"ExecuteReader"' (29ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("436"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 317ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (10ms).
Start processing HTTP request "POST" "http://documents.api:8080/api/document"
Sending HTTP request "POST" "http://documents.api:8080/api/document"
Received HTTP response headers after 5776.9725ms - 200
End processing HTTP request after 5790.8058ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("14"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 5ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"Results"'.
Executed action "ResultsController.UpdateAppointmentResultInfo (Appointments.API)" in 25115.0042ms
Executed endpoint '"ResultsController.UpdateAppointmentResultInfo (Appointments.API)"'
HTTP "PUT" "/api/Results/edit/24" responded 200 in 25345.2930 ms
Connection id ""0HN612HRGESOD"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (20ms).
Request finished "HTTP/1.1" "PUT" "http"://"localhost:8086""""/api/Results/edit/24""" - 200 null "application/json; charset=utf-8" 25812.4603ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - null null
1 candidate(s) found for the request path '"/api/Results/download/24"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/24"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("48"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 23ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Received HTTP response headers after 1736.0442ms - 200
End processing HTTP request after 1745.7587ms - 200
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 2286.4626ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/24" responded 500 in 2416.7122 ms
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Microsoft.AspNetCore.Http.FormFile.OpenReadStream()
   at ResultsController.<DownloadAppointmentsResults>b__4_0(IFormFile formFile) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 33
   at ErrorOr.ErrorOr`1.Match[TNextValue](Func`2 onValue, Func`2 onError)
   at ResultsController.DownloadAppointmentsResults(Int32 id) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Microsoft.AspNetCore.Http.FormFile.OpenReadStream()
   at ResultsController.<DownloadAppointmentsResults>b__4_0(IFormFile formFile) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 33
   at ErrorOr.ErrorOr`1.Match[TNextValue](Func`2 onValue, Func`2 onError)
   at ResultsController.DownloadAppointmentsResults(Int32 id) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN612HRGESOD"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (22ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - 500 null "text/plain; charset=utf-8" 3216.3396ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.9114ms - processed: 0 items - remaining: 1 items
HttpMessageHandler expired after 120000ms for client '"files"'
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0124ms - processed: 0 items - remaining: 2 items
HttpMessageHandler expired after 120000ms for client '"identity"'
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.084ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.019ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.2985ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0155ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0117ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.48ms - processed: 0 items - remaining: 3 items
Connection id ""0HN612HRGESOD"" received FIN.
Connection id ""0HN612HRGESOD"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN612HRGESOD"" disconnecting.
Connection id ""0HN612HRGESOD"" stopped.
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0161ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0078ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 3 items
Connection id ""0HN612HRGESOE"" accepted.
Connection id ""0HN612HRGESOE"" started.
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create""" - "application/json" 198
1 candidate(s) found for the request path '"/api/Appointments/create"'
Endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"' with route pattern '"api/Appointments/create"' is valid for the request path '"/api/Appointments/create"'
Request matched endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Route matched with "{action = \"CreateAppointment\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointment(CreateAppointmentRequest)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN612HRGESOE"", Request id ""0HN612HRGESOE:00000001"": started reading request body.
Connection id ""0HN612HRGESOE"", Request id ""0HN612HRGESOE:00000001"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Appointment>()
    .Where(a => a.PatientId == __request_PatientId_0 && a.ServiceId == __request_ServiceId_1 && a.DoctorId == __request_DoctorId_2 && a.Date == __request_Date_3 && a.Time == __request_Time_4)"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
        SELECT a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
        FROM Appointments AS a
        WHERE ((((a.PatientId == @__request_PatientId_0) && (a.ServiceId == @__request_ServiceId_1)) && (a.DoctorId == @__request_DoctorId_2)) && (a.Date == @__request_Date_3)) && (a.Time == @__request_Time_4)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Creating DbConnection.
Created DbConnection. (8ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (17ms).
Executing DbCommand [Parameters=["@__request_PatientId_0='?' (DbType = Int32), @__request_ServiceId_1='?' (DbType = Int32), @__request_DoctorId_2='?' (DbType = Int32), @__request_Date_3='?' (DbType = DateTime), @__request_Time_4='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0 AND a.\"ServiceId\" = @__request_ServiceId_1 AND a.\"DoctorId\" = @__request_DoctorId_2 AND a.\"Date\" = @__request_Date_3 AND a.\"Time\" = @__request_Time_4"
Executed DbCommand ("189"ms) [Parameters=["@__request_PatientId_0='?' (DbType = Int32), @__request_ServiceId_1='?' (DbType = Int32), @__request_DoctorId_2='?' (DbType = Int32), @__request_Date_3='?' (DbType = DateTime), @__request_Time_4='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0 AND a.\"ServiceId\" = @__request_ServiceId_1 AND a.\"DoctorId\" = @__request_DoctorId_2 AND a.\"Date\" = @__request_Date_3 AND a.\"Time\" = @__request_Time_4"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 50ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/8"
Received HTTP response headers after 1883.1914ms - 400
End processing HTTP request after 1898.7346ms - 400
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "AppointmentsController.CreateAppointment (Appointments.API)" in 4380.5255ms
Executed endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
HTTP "POST" "/api/Appointments/create" responded 500 in 4594.0655 ms
Connection id ""0HN612HRGESOE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create""" - 500 null "application/problem+json; charset=utf-8" 4784.1871ms
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.6024ms - processed: 0 items - remaining: 3 items
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create""" - "application/json" 198
1 candidate(s) found for the request path '"/api/Appointments/create"'
Endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"' with route pattern '"api/Appointments/create"' is valid for the request path '"/api/Appointments/create"'
Request matched endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Route matched with "{action = \"CreateAppointment\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointment(CreateAppointmentRequest)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN612HRGESOE"", Request id ""0HN612HRGESOE:00000002"": started reading request body.
Connection id ""0HN612HRGESOE"", Request id ""0HN612HRGESOE:00000002"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (10ms).
Initialized DbCommand for '"ExecuteReader"' (14ms).
Executing DbCommand [Parameters=["@__request_PatientId_0='?' (DbType = Int32), @__request_ServiceId_1='?' (DbType = Int32), @__request_DoctorId_2='?' (DbType = Int32), @__request_Date_3='?' (DbType = DateTime), @__request_Time_4='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0 AND a.\"ServiceId\" = @__request_ServiceId_1 AND a.\"DoctorId\" = @__request_DoctorId_2 AND a.\"Date\" = @__request_Date_3 AND a.\"Time\" = @__request_Time_4"
Executed DbCommand ("16"ms) [Parameters=["@__request_PatientId_0='?' (DbType = Int32), @__request_ServiceId_1='?' (DbType = Int32), @__request_DoctorId_2='?' (DbType = Int32), @__request_Date_3='?' (DbType = DateTime), @__request_Time_4='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0 AND a.\"ServiceId\" = @__request_ServiceId_1 AND a.\"DoctorId\" = @__request_DoctorId_2 AND a.\"Date\" = @__request_Date_3 AND a.\"Time\" = @__request_Time_4"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (36ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0117ms - processed: 0 items - remaining: 3 items
Received HTTP response headers after 1319.0626ms - 200
End processing HTTP request after 1345.398ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 175.6207ms - 200
End processing HTTP request after 196.3895ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("14"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 25ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
'"AppointmentsDbContext"' generated a temporary value for the property '"Appointment"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (12ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Appointments\" (\"Date\", \"DoctorId\", \"IsApproved\", \"PatientId\", \"ServiceId\", \"Time\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING \"Id\";"
Executed DbCommand ("106"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Appointments\" (\"Date\", \"DoctorId\", \"IsApproved\", \"PatientId\", \"ServiceId\", \"Time\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING \"Id\";"
The foreign key property '"Appointment"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 48ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
An entity of type '"Appointment"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"Appointment"'.
Executed action "AppointmentsController.CreateAppointment (Appointments.API)" in 2561.0564ms
Executed endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
HTTP "POST" "/api/Appointments/create" responded 200 in 2625.0595 ms
Connection id ""0HN612HRGESOE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create""" - 200 null "application/json; charset=utf-8" 2685.6229ms
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0982ms - processed: 0 items - remaining: 3 items
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - "application/json" 172
1 candidate(s) found for the request path '"/api/Results/create"'
Endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"' with route pattern '"api/Results/create"' is valid for the request path '"/api/Results/create"'
Request matched endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
Route matched with "{action = \"CreateAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointmentResult(CreateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN612HRGESOE"", Request id ""0HN612HRGESOE:00000003"": started reading request body.
Connection id ""0HN612HRGESOE"", Request id ""0HN612HRGESOE:00000003"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("11"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 11ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (10ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 14ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (12ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 158.9981ms - 200
End processing HTTP request after 168.451ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 133.2444ms - 200
End processing HTTP request after 150.8182ms - 200
'"AppointmentsDbContext"' generated a temporary value for the property '"Results"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (19ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
Executed DbCommand ("48"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Results\" (\"AppointmentId\", \"Complaints\", \"Conclusion\", \"Date\", \"Recommendations\")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING \"Id\";"
The foreign key property '"Results"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 17ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
Start processing HTTP request "POST" "http://documents.api:8080/api/document"
Sending HTTP request "POST" "http://documents.api:8080/api/document"
Received HTTP response headers after 2153.2633ms - 200
End processing HTTP request after 2162.2467ms - 200
Start processing HTTP request "GET" "http://identity.api:8080/api/Authorization/account/8"
Sending HTTP request "GET" "http://identity.api:8080/api/Authorization/account/8"
Received HTTP response headers after 337.3348ms - 404
End processing HTTP request after 344.2083ms - 404
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"Results"'.
Executed action "ResultsController.CreateAppointmentResult (Appointments.API)" in 3705.2892ms
Executed endpoint '"ResultsController.CreateAppointmentResult (Appointments.API)"'
HTTP "POST" "/api/Results/create" responded 200 in 3789.6777 ms
Connection id ""0HN612HRGESOE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Results/create""" - 200 null "application/json; charset=utf-8" 3856.1904ms
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 8.6614ms - processed: 3 items - remaining: 0 items
Request starting "HTTP/1.1" "PUT" "http"://"localhost:8086""""/api/Results/edit/24""" - "application/json" 131
1 candidate(s) found for the request path '"/api/Results/edit/24"'
Endpoint '"ResultsController.UpdateAppointmentResultInfo (Appointments.API)"' with route pattern '"api/Results/edit/{id:int}"' is valid for the request path '"/api/Results/edit/24"'
Request matched endpoint '"ResultsController.UpdateAppointmentResultInfo (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.UpdateAppointmentResultInfo (Appointments.API)"'
Route matched with "{action = \"UpdateAppointmentResultInfo\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAppointmentResultInfo(Int32, UpdateAppointmentResultRequest)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Attempting to bind parameter '"request"' of type '"UpdateAppointmentResultRequest"' ...
Attempting to bind parameter '"request"' of type '"UpdateAppointmentResultRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN612HRGESOE"", Request id ""0HN612HRGESOE:00000004"": started reading request body.
Connection id ""0HN612HRGESOE"", Request id ""0HN612HRGESOE:00000004"": done reading request body.
JSON input formatter succeeded, deserializing to type '"UpdateAppointmentResultRequest"'
Done attempting to bind parameter '"request"' of type '"UpdateAppointmentResultRequest"'.
Done attempting to bind parameter '"request"' of type '"UpdateAppointmentResultRequest"'.
Attempting to validate the bound parameter '"request"' of type '"UpdateAppointmentResultRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"UpdateAppointmentResultRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (12ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("49"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 19ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("23"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
The navigation '"Results"."Appointment"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 20ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
The unchanged property '"Results"."Recommendations"' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Unchanged' to 'Modified'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (14ms).
Executing DbCommand [Parameters=["@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Results\" SET \"AppointmentId\" = @p0, \"Complaints\" = @p1, \"Conclusion\" = @p2, \"Date\" = @p3, \"Recommendations\" = @p4
WHERE \"Id\" = @p5;"
Executed DbCommand ("40"ms) [Parameters=["@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?' (DbType = DateTime), @p4='?'"], CommandType='Text', CommandTimeout='30']"
""UPDATE \"Results\" SET \"AppointmentId\" = @p0, \"Complaints\" = @p1, \"Conclusion\" = @p2, \"Date\" = @p3, \"Recommendations\" = @p4
WHERE \"Id\" = @p5;"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 15ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
An entity of type '"Results"' tracked by '"AppointmentsDbContext"' changed state from 'Modified' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 1564.1363ms - 200
End processing HTTP request after 1573.5683ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 197.3635ms - 200
End processing HTTP request after 202.2068ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (11ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("22"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "POST" "http://documents.api:8080/api/document"
Sending HTTP request "POST" "http://documents.api:8080/api/document"
Received HTTP response headers after 654.7927ms - 200
End processing HTTP request after 664.1575ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 2ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"Results"'.
Executed action "ResultsController.UpdateAppointmentResultInfo (Appointments.API)" in 3472.0961ms
Executed endpoint '"ResultsController.UpdateAppointmentResultInfo (Appointments.API)"'
HTTP "PUT" "/api/Results/edit/24" responded 200 in 3540.2812 ms
Connection id ""0HN612HRGESOE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Request finished "HTTP/1.1" "PUT" "http"://"localhost:8086""""/api/Results/edit/24""" - 200 null "application/json; charset=utf-8" 3633.3586ms
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0092ms - processed: 0 items - remaining: 1 items
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/24""" - null null
1 candidate(s) found for the request path '"/api/Results/24"'
Endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"' with route pattern '"api/Results/{id:int}"' is valid for the request path '"/api/Results/24"'
Request matched endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
Route matched with "{action = \"GetAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentResult(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"ResultResponse"'.
Executed action "ResultsController.GetAppointmentResult (Appointments.API)" in 1163.7402ms
Executed endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
HTTP "GET" "/api/Results/24" responded 200 in 1250.5107 ms
Connection id ""0HN612HRGESOE"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/24""" - 200 null "application/json; charset=utf-8" 1313.6467ms
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0103ms - processed: 0 items - remaining: 1 items
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/25""" - null null
1 candidate(s) found for the request path '"/api/Results/25"'
Endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"' with route pattern '"api/Results/{id:int}"' is valid for the request path '"/api/Results/25"'
Request matched endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
Route matched with "{action = \"GetAppointmentResult\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentResult(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (5ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (8ms).
Initialized DbCommand for '"ExecuteReader"' (15ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 9ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("13"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Id\" = @__id_0
LIMIT 1"
The navigation '"Results"."Appointment"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 9ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 818.7932ms - 200
End processing HTTP request after 827.5478ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 170.9354ms - 200
End processing HTTP request after 196.0155ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 19ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"ResultResponse"'.
Executed action "ResultsController.GetAppointmentResult (Appointments.API)" in 1503.642ms
Executed endpoint '"ResultsController.GetAppointmentResult (Appointments.API)"'
HTTP "GET" "/api/Results/25" responded 200 in 1574.4114 ms
Connection id ""0HN612HRGESOE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/25""" - 200 null "application/json; charset=utf-8" 1644.4207ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - null null
1 candidate(s) found for the request path '"/api/Results/download/24"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/24"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (8ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (7ms).
Initialized DbCommand for '"ExecuteReader"' (15ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("12"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 49ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Received HTTP response headers after 575.3301ms - 200
End processing HTTP request after 588.9428ms - 200
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 874.7068ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/24" responded 500 in 960.6731 ms
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Microsoft.AspNetCore.Http.FormFile.OpenReadStream()
   at ResultsController.<DownloadAppointmentsResults>b__4_0(IFormFile formFile) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 33
   at ErrorOr.ErrorOr`1.Match[TNextValue](Func`2 onValue, Func`2 onError)
   at ResultsController.DownloadAppointmentsResults(Int32 id) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Microsoft.AspNetCore.Http.FormFile.OpenReadStream()
   at ResultsController.<DownloadAppointmentsResults>b__4_0(IFormFile formFile) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 33
   at ErrorOr.ErrorOr`1.Match[TNextValue](Func`2 onValue, Func`2 onError)
   at ResultsController.DownloadAppointmentsResults(Int32 id) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN612HRGESOE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - 500 null "text/plain; charset=utf-8" 1202.7965ms
HttpMessageHandler expired after 120000ms for client '"files"'
Starting HttpMessageHandler cleanup cycle with 2 items
Ending HttpMessageHandler cleanup cycle after 0.0626ms - processed: 0 items - remaining: 2 items
HttpMessageHandler expired after 120000ms for client '"identity"'
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0152ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0138ms - processed: 0 items - remaining: 3 items
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create""" - "application/json" 198
1 candidate(s) found for the request path '"/api/Appointments/create"'
Endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"' with route pattern '"api/Appointments/create"' is valid for the request path '"/api/Appointments/create"'
Request matched endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Route matched with "{action = \"CreateAppointment\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointment(CreateAppointmentRequest)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN612HRGESOE"", Request id ""0HN612HRGESOE:00000008"": started reading request body.
Connection id ""0HN612HRGESOE"", Request id ""0HN612HRGESOE:00000008"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (8ms).
Initialized DbCommand for '"ExecuteReader"' (14ms).
Executing DbCommand [Parameters=["@__request_PatientId_0='?' (DbType = Int32), @__request_ServiceId_1='?' (DbType = Int32), @__request_DoctorId_2='?' (DbType = Int32), @__request_Date_3='?' (DbType = DateTime), @__request_Time_4='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0 AND a.\"ServiceId\" = @__request_ServiceId_1 AND a.\"DoctorId\" = @__request_DoctorId_2 AND a.\"Date\" = @__request_Date_3 AND a.\"Time\" = @__request_Time_4"
Executed DbCommand ("12"ms) [Parameters=["@__request_PatientId_0='?' (DbType = Int32), @__request_ServiceId_1='?' (DbType = Int32), @__request_DoctorId_2='?' (DbType = Int32), @__request_Date_3='?' (DbType = DateTime), @__request_Time_4='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0 AND a.\"ServiceId\" = @__request_ServiceId_1 AND a.\"DoctorId\" = @__request_DoctorId_2 AND a.\"Date\" = @__request_Date_3 AND a.\"Time\" = @__request_Time_4"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "AppointmentsController.CreateAppointment (Appointments.API)" in 205.0774ms
Executed endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
HTTP "POST" "/api/Appointments/create" responded 409 in 255.1834 ms
Connection id ""0HN612HRGESOE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create""" - 409 null "application/problem+json; charset=utf-8" 315.0696ms
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0104ms - processed: 0 items - remaining: 3 items
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create""" - "application/json" 198
1 candidate(s) found for the request path '"/api/Appointments/create"'
Endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"' with route pattern '"api/Appointments/create"' is valid for the request path '"/api/Appointments/create"'
Request matched endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
Route matched with "{action = \"CreateAppointment\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAppointment(CreateAppointmentRequest)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' ...
Attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN612HRGESOE"", Request id ""0HN612HRGESOE:00000009"": started reading request body.
Connection id ""0HN612HRGESOE"", Request id ""0HN612HRGESOE:00000009"": done reading request body.
JSON input formatter succeeded, deserializing to type '"CreateAppointmentRequest"'
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Done attempting to bind parameter '"request"' of type '"CreateAppointmentRequest"'.
Attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"CreateAppointmentRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (6ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (18ms).
Executing DbCommand [Parameters=["@__request_PatientId_0='?' (DbType = Int32), @__request_ServiceId_1='?' (DbType = Int32), @__request_DoctorId_2='?' (DbType = Int32), @__request_Date_3='?' (DbType = DateTime), @__request_Time_4='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0 AND a.\"ServiceId\" = @__request_ServiceId_1 AND a.\"DoctorId\" = @__request_DoctorId_2 AND a.\"Date\" = @__request_Date_3 AND a.\"Time\" = @__request_Time_4"
Executed DbCommand ("14"ms) [Parameters=["@__request_PatientId_0='?' (DbType = Int32), @__request_ServiceId_1='?' (DbType = Int32), @__request_DoctorId_2='?' (DbType = Int32), @__request_Date_3='?' (DbType = DateTime), @__request_Time_4='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0 AND a.\"ServiceId\" = @__request_ServiceId_1 AND a.\"DoctorId\" = @__request_DoctorId_2 AND a.\"Date\" = @__request_Date_3 AND a.\"Time\" = @__request_Time_4"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 3ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 152.6285ms - 200
End processing HTTP request after 179.6057ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 100.7031ms - 200
End processing HTTP request after 109.8582ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (17ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("11"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 27ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
'"AppointmentsDbContext"' generated a temporary value for the property '"Appointment"."Id"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges starting for '"AppointmentsDbContext"'.
DetectChanges starting for '"AppointmentsDbContext"'.
DetectChanges completed for '"AppointmentsDbContext"'.
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (11ms).
Initialized DbCommand for '"ExecuteReader"' (17ms).
Executing DbCommand [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Appointments\" (\"Date\", \"DoctorId\", \"IsApproved\", \"PatientId\", \"ServiceId\", \"Time\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING \"Id\";"
Executed DbCommand ("42"ms) [Parameters=["@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"Appointments\" (\"Date\", \"DoctorId\", \"IsApproved\", \"PatientId\", \"ServiceId\", \"Time\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING \"Id\";"
The foreign key property '"Appointment"."Id"' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 13ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
An entity of type '"Appointment"' tracked by '"AppointmentsDbContext"' changed state from 'Added' to 'Unchanged'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
SaveChanges completed for '"AppointmentsDbContext"' with 1 entities written to the database.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"Appointment"'.
Executed action "AppointmentsController.CreateAppointment (Appointments.API)" in 883.0157ms
Executed endpoint '"AppointmentsController.CreateAppointment (Appointments.API)"'
HTTP "POST" "/api/Appointments/create" responded 200 in 956.5412 ms
Connection id ""0HN612HRGESOE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/create""" - 200 null "application/json; charset=utf-8" 1039.1337ms
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0197ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0147ms - processed: 0 items - remaining: 3 items
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-20&serviceId=12&isActive=true" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '""' in request data ...
Could not find a value in the request with name '""' for binding parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '"isActive"' in request data ...
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 4ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Compiling query expression: "
"'"DbSet<Appointment>()"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
        SELECT a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
        FROM Appointments AS a), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 23ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "ObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ProblemDetails"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 547.0048ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 404 in 628.4171 ms
Connection id ""0HN612HRGESOE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (10ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-20&serviceId=12&isActive=true" - 404 null "application/problem+json; charset=utf-8" 689.5105ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-20&serviceId=12" - null null
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Route matched with "{action = \"GetAppointmentList\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentList(System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], Boolean)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.Nullable`1[System.DateTime]"'.
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' using the name '""' in request data ...
Could not find a value in the request with name '""' for binding parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' using the name '"serviceId"' in request data ...
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Done attempting to bind parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"' ...
Done attempting to validate the bound parameter '"serviceId"' of type '"System.Nullable`1[System.Int32]"'.
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' ...
Attempting to bind parameter '"isActive"' of type '"System.Boolean"' using the name '""' in request data ...
Could not find a value in the request with name '""' for binding parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Done attempting to bind parameter '"isActive"' of type '"System.Boolean"'.
Attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"' ...
Done attempting to validate the bound parameter '"isActive"' of type '"System.Boolean"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 20ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (8ms).
Initialized DbCommand for '"ExecuteReader"' (12ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 31ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 130.8843ms - 200
End processing HTTP request after 145.2773ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 94.9932ms - 200
End processing HTTP request after 110.289ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 3ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 138.8518ms - 200
End processing HTTP request after 153.8801ms - 200
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 188.7771ms - 200
End processing HTTP request after 204.7819ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 9ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentListResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentList (Appointments.API)" in 1129.6093ms
Executed endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
HTTP "GET" "/api/Appointments/all" responded 200 in 1167.8032 ms
Connection id ""0HN612HRGESOE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""?appointmentDate=2024-08-20&serviceId=12" - 200 null "application/json; charset=utf-8" 1231.4412ms
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0395ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0098ms - processed: 0 items - remaining: 3 items
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/schedule/2""?appointmentDate=2024-08-20" - null null
1 candidate(s) found for the request path '"/api/Appointments/schedule/2"'
Endpoint '"AppointmentsController.GetAppointmentSchedule (Appointments.API)"' with route pattern '"api/Appointments/schedule/{doctorId:int}"' is valid for the request path '"/api/Appointments/schedule/2"'
Request matched endpoint '"AppointmentsController.GetAppointmentSchedule (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentSchedule (Appointments.API)"'
Route matched with "{action = \"GetAppointmentSchedule\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentSchedule(Int32, System.DateTime)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"doctorId"' of type '"System.Int32"' ...
Attempting to bind parameter '"doctorId"' of type '"System.Int32"' using the name '"doctorId"' in request data ...
Done attempting to bind parameter '"doctorId"' of type '"System.Int32"'.
Done attempting to bind parameter '"doctorId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"doctorId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"doctorId"' of type '"System.Int32"'.
Attempting to bind parameter '"appointmentDate"' of type '"System.DateTime"' ...
Attempting to bind parameter '"appointmentDate"' of type '"System.DateTime"' using the name '"appointmentDate"' in request data ...
Done attempting to bind parameter '"appointmentDate"' of type '"System.DateTime"'.
Done attempting to bind parameter '"appointmentDate"' of type '"System.DateTime"'.
Attempting to validate the bound parameter '"appointmentDate"' of type '"System.DateTime"' ...
Done attempting to validate the bound parameter '"appointmentDate"' of type '"System.DateTime"'.
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 120.0737ms - 200
End processing HTTP request after 127.5003ms - 200
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Appointment>()
    .Where(a => a.DoctorId == __request_DoctorId_0 && a.Date.Date == __request_AppointmentDate_Date_1)"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
        SELECT a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
        FROM Appointments AS a
        WHERE (a.DoctorId == @__request_DoctorId_0) && (date_trunc('day', a.Date, 'UTC') == @__request_AppointmentDate_Date_1)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@__request_DoctorId_0='?' (DbType = Int32), @__request_AppointmentDate_Date_1='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"DoctorId\" = @__request_DoctorId_0 AND date_trunc('day', a.\"Date\", 'UTC') = @__request_AppointmentDate_Date_1"
Executed DbCommand ("42"ms) [Parameters=["@__request_DoctorId_0='?' (DbType = Int32), @__request_AppointmentDate_Date_1='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"DoctorId\" = @__request_DoctorId_0 AND date_trunc('day', a.\"Date\", 'UTC') = @__request_AppointmentDate_Date_1"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 9ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 80.8967ms - 200
End processing HTTP request after 104.748ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (16ms).
Initialized DbCommand for '"ExecuteReader"' (21ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("12"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 22ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Sending HTTP request "GET" "http://profiles.api:8080/api/Patients/profile/8"
Received HTTP response headers after 88.9274ms - 200
End processing HTTP request after 114.5926ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (11ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 2ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (9ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentsScheduleResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentSchedule (Appointments.API)" in 954.9833ms
Executed endpoint '"AppointmentsController.GetAppointmentSchedule (Appointments.API)"'
HTTP "GET" "/api/Appointments/schedule/2" responded 200 in 1016.5410 ms
Connection id ""0HN612HRGESOE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (11ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/schedule/2""?appointmentDate=2024-08-20" - 200 null "application/json; charset=utf-8" 1083.0874ms
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0083ms - processed: 0 items - remaining: 3 items
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0104ms - processed: 0 items - remaining: 3 items
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=8" - null null
1 candidate(s) found for the request path '"/api/Appointments/history"'
Endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"' with route pattern '"api/Appointments/history"' is valid for the request path '"/api/Appointments/history"'
Request matched endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
Route matched with "{action = \"GetAppointmentHistory\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAppointmentHistory(Int32)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Appointment>()
    .Where(a => a.PatientId == __request_PatientId_0)"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
        SELECT a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
        FROM Appointments AS a
        WHERE a.PatientId == @__request_PatientId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=["@__request_PatientId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0"
Executed DbCommand ("10"ms) [Parameters=["@__request_PatientId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"PatientId\" = @__request_PatientId_0"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 50ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 218.2766ms - 200
End processing HTTP request after 240.4584ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (11ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("12"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 14ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/4"
Received HTTP response headers after 135.332ms - 200
End processing HTTP request after 154.34ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (10ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 4ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 90.7275ms - 200
End processing HTTP request after 111.7993ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 2ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 126.8035ms - 200
End processing HTTP request after 138.8054ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 8ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Start processing HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Sending HTTP request "GET" "http://profiles.api:8080/api/Doctors/profile/2"
Received HTTP response headers after 123.3735ms - 200
End processing HTTP request after 139.8755ms - 200
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (13ms).
Initialized DbCommand for '"ExecuteReader"' (15ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("10"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[AppointmentHistoryResponse, InnoClinic.Contracts, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.GetAppointmentHistory (Appointments.API)" in 1379.9706ms
Executed endpoint '"AppointmentsController.GetAppointmentHistory (Appointments.API)"'
HTTP "GET" "/api/Appointments/history" responded 200 in 1426.5775 ms
Connection id ""0HN612HRGESOE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/history""?id=8" - 200 null "application/json; charset=utf-8" 1467.1144ms
Starting HttpMessageHandler cleanup cycle with 3 items
Ending HttpMessageHandler cleanup cycle after 0.0099ms - processed: 0 items - remaining: 3 items
HttpMessageHandler expired after 120000ms for client '"profiles"'
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0133ms - processed: 0 items - remaining: 4 items
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/time-slots""" - "application/json" 139
1 candidate(s) found for the request path '"/api/Appointments/time-slots"'
Endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"' with route pattern '"api/Appointments/time-slots"' is valid for the request path '"/api/Appointments/time-slots"'
Request matched endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Route matched with "{action = \"ViewTimeSlots\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewTimeSlots(ViewTimeSlotsRequest)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"ViewTimeSlotsRequest"' ...
Attempting to bind parameter '"request"' of type '"ViewTimeSlotsRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN612HRGESOE"", Request id ""0HN612HRGESOE:0000000E"": started reading request body.
Connection id ""0HN612HRGESOE"", Request id ""0HN612HRGESOE:0000000E"": done reading request body.
JSON input formatter threw an exception: "The JSON value could not be converted to System.TimeSpan. Path: $.appointmentTime | LineNumber: 5 | BytePositionInLine: 28."
Done attempting to bind parameter '"request"' of type '"ViewTimeSlotsRequest"'.
Done attempting to bind parameter '"request"' of type '"ViewTimeSlotsRequest"'.
Attempting to validate the bound parameter '"request"' of type '"ViewTimeSlotsRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"ViewTimeSlotsRequest"'.
The request has model state errors, returning an error response.
Request was short circuited at action filter '"Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter"'.
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json", "application/problem+xml", "application/problem+json", "application/problem+xml"]'.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/problem+json"' to write the response.
Executing "BadRequestObjectResult", writing value of type '"Microsoft.AspNetCore.Mvc.ValidationProblemDetails"'.
Executed action "AppointmentsController.ViewTimeSlots (Appointments.API)" in 171.1445ms
Executed endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
HTTP "POST" "/api/Appointments/time-slots" responded 400 in 217.6285 ms
Connection id ""0HN612HRGESOE"" completed keep alive response.
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/time-slots""" - 400 null "application/problem+json; charset=utf-8" 256.0159ms
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0096ms - processed: 0 items - remaining: 4 items
Request starting "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/time-slots""" - "application/json" 142
1 candidate(s) found for the request path '"/api/Appointments/time-slots"'
Endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"' with route pattern '"api/Appointments/time-slots"' is valid for the request path '"/api/Appointments/time-slots"'
Request matched endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Route matched with "{action = \"ViewTimeSlots\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewTimeSlots(ViewTimeSlotsRequest)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"request"' of type '"ViewTimeSlotsRequest"' ...
Attempting to bind parameter '"request"' of type '"ViewTimeSlotsRequest"' using the name '""' in request data ...
Selected input formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter"' for content type '"application/json"'.
Connection id ""0HN612HRGESOE"", Request id ""0HN612HRGESOE:0000000F"": started reading request body.
Connection id ""0HN612HRGESOE"", Request id ""0HN612HRGESOE:0000000F"": done reading request body.
JSON input formatter succeeded, deserializing to type '"ViewTimeSlotsRequest"'
Done attempting to bind parameter '"request"' of type '"ViewTimeSlotsRequest"'.
Done attempting to bind parameter '"request"' of type '"ViewTimeSlotsRequest"'.
Attempting to validate the bound parameter '"request"' of type '"ViewTimeSlotsRequest"' ...
Done attempting to validate the bound parameter '"request"' of type '"ViewTimeSlotsRequest"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (12ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .Where(a => a.Date == __AppointmentDate_Date_0)"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
        SELECT a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
        FROM Appointments AS a
        WHERE a.Date == @__AppointmentDate_Date_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Executed DbCommand ("5"ms) [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 3ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Executing StatusCodeResult, setting HTTP status code 200
Executed action "AppointmentsController.ViewTimeSlots (Appointments.API)" in 316.5215ms
Executed endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
HTTP "POST" "/api/Appointments/time-slots" responded 200 in 361.5320 ms
Connection id ""0HN612HRGESOE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Request finished "HTTP/1.1" "POST" "http"://"localhost:8086""""/api/Appointments/time-slots""" - 200 0 null 430.4687ms
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0105ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0094ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0083ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.015ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0089ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0119ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0088ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0092ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0086ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 4 items
Connection id ""0HN612HRGESOE"" received FIN.
Connection id ""0HN612HRGESOE"" disconnecting.
Connection id ""0HN612HRGESOE"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN612HRGESOE"" stopped.
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0146ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0102ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0084ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0192ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0092ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0096ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.006ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0094ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0102ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0066ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0085ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0086ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0101ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0099ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0057ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0095ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.007ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0051ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0082ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.008ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0067ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0049ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0059ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0062ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0094ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0116ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0074ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0072ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0099ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0088ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0071ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0099ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0147ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.011ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0093ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.011ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0117ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0088ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0101ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0078ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0083ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0069ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0095ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0065ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0105ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 4 items
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0099ms - processed: 0 items - remaining: 4 items
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Kr12AzcqxwPYonqMxe_lAQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-YuNIpG5ExY7mfeSZdq9WQA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-qMrzdNXlX3OiXucRyw_1Cg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-ICKCt33PBYzu8wuCd61Z-g"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-Kr12AzcqxwPYonqMxe_lAQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-ICKCt33PBYzu8wuCd61Z-g"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-qMrzdNXlX3OiXucRyw_1Cg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-YuNIpG5ExY7mfeSZdq9WQA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_joroyyfcnebrrrpdbdqcnrh3dn?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_joroyyfcnebrrrpdbdqcnrh3dn?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
Starting HttpMessageHandler cleanup cycle with 4 items
Ending HttpMessageHandler cleanup cycle after 0.0087ms - processed: 0 items - remaining: 4 items
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (89ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (20ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (17ms).
Initialized DbCommand for '"ExecuteScalar"' (52ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("244"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (22ms).
Initialized DbCommand for '"ExecuteReader"' (28ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 52ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 44770)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_tefyyyfcnebrfktzbdqcnf5wbq?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-BSao-GwBs03vh1KzfwJhWQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-xz93NQdQtMgaoXohS59LoA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-BkemLW7wsezDlvBUQCv79Q"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-N2zIS2dhEz6NesjoAB71Og"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN612TS1OMHU"" accepted.
Connection id ""0HN612TS1OMHU"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
Wildcard detected, all requests with hosts will be allowed.
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN612TS1OMHU"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 513.9312ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - null null
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Connection id ""0HN612TS1OMHU"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 257.2888ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Connection id ""0HN612TS1OMHU"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 844.2872ms
Connection id ""0HN612TS1OMHU"" received FIN.
Connection id ""0HN612TS1OMHU"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN612TS1OMHU"" disconnecting.
Connection id ""0HN612TS1OMHU"" stopped.
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-N2zIS2dhEz6NesjoAB71Og"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-BSao-GwBs03vh1KzfwJhWQ"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-BkemLW7wsezDlvBUQCv79Q"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-xz93NQdQtMgaoXohS59LoA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-BSao-GwBs03vh1KzfwJhWQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-BkemLW7wsezDlvBUQCv79Q"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-N2zIS2dhEz6NesjoAB71Og"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-xz93NQdQtMgaoXohS59LoA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_tefyyyfcnebrfktzbdqcnf5wbq?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_tefyyyfcnebrfktzbdqcnf5wbq?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (107ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (19ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (20ms).
Initialized DbCommand for '"ExecuteScalar"' (77ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("226"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (12ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 29ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (11ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 33358)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_dofoyyfcnebrfz5tbdqcngn3rb?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-w2N_hOgwdzoCIGX2tf94jA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-Werzr0OX0O9mQuHnVpt4hQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-s4pVUcPvUhIX0IWH19gkUA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-pvqmAtPuKQFFO9qgKkFiGA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN6131Q3795H"" accepted.
Connection id ""0HN6131Q3795H"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
Wildcard detected, all requests with hosts will be allowed.
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN6131Q3795H"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 429.1809ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - null null
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Connection id ""0HN6131Q3795H"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 84.3111ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/favicon-32x32.png""" - null null
Connection id ""0HN6131Q3795H"" received FIN.
No candidates found for the request path '"/swagger/favicon-32x32.png"'
Request did not match any endpoints
Connection id ""0HN6131Q3795H"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN6131Q3795H"" disconnecting.
The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/favicon-32x32.png""" - 499 628 "image/png" 163.763ms
Connection id ""0HN6131Q3795H"" stopped.
Connection id ""0HN6131Q3795I"" accepted.
Connection id ""0HN6131Q3795I"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Connection id ""0HN6131Q3795I"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 542.7268ms
Application is shutting down...
Hosting stopping
Connection id ""0HN6131Q3795I"" disconnecting.
Connection id ""0HN6131Q3795I"" stopped.
Connection id ""0HN6131Q3795I"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-s4pVUcPvUhIX0IWH19gkUA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-pvqmAtPuKQFFO9qgKkFiGA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-Werzr0OX0O9mQuHnVpt4hQ"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-w2N_hOgwdzoCIGX2tf94jA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-w2N_hOgwdzoCIGX2tf94jA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-s4pVUcPvUhIX0IWH19gkUA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-pvqmAtPuKQFFO9qgKkFiGA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-Werzr0OX0O9mQuHnVpt4hQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_dofoyyfcnebrfz5tbdqcngn3rb?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_dofoyyfcnebrfz5tbdqcngn3rb?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (60ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (47ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (27ms).
Initialized DbCommand for '"ExecuteScalar"' (70ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("229"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (20ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (8ms).
Initialized DbCommand for '"ExecuteReader"' (17ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("36"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 35ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (36ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 55094)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_wcfoyyfcnebrrbo1bdqcnggqfz?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-mh8yAncKxM236IY6CHbG_w"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-7dMV3SHOTjI2pbKgP-CiTg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-DWenJACphQ0sRSmJn7LPmw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-P-e8U7cgUYvRnXBN90fVaQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Connection id ""0HN61337UIM72"" accepted.
Connection id ""0HN61337UIM72"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
Wildcard detected, all requests with hosts will be allowed.
Connection id ""0HN61337UIM72"" received FIN.
Connection id ""0HN61337UIM72"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN61337UIM72"" disconnecting.
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN61337UIM73"" accepted.
Connection id ""0HN61337UIM73"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN61337UIM73"" received FIN.
Connection id ""0HN61337UIM73"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN61337UIM73"" disconnecting.
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 556.8047ms
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 241.8639ms
Hosting started
Connection id ""0HN61337UIM72"" stopped.
Connection id ""0HN61337UIM73"" stopped.
Connection id ""0HN61337UIM74"" accepted.
Connection id ""0HN61337UIM74"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN61337UIM74"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 39.8426ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - null null
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Connection id ""0HN61337UIM74"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 84.9064ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/favicon-32x32.png""" - null null
No candidates found for the request path '"/swagger/favicon-32x32.png"'
Connection id ""0HN61337UIM74"" received FIN.
Request did not match any endpoints
Connection id ""0HN61337UIM74"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN61337UIM74"" disconnecting.
The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/favicon-32x32.png""" - 499 628 "image/png" 112.4911ms
Connection id ""0HN61337UIM74"" stopped.
Connection id ""0HN61337UIM75"" accepted.
Connection id ""0HN61337UIM75"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN61337UIM75"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 30.5685ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - null null
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Connection id ""0HN61337UIM75"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 27.4237ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Connection id ""0HN61337UIM75"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 487.1427ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN61337UIM75"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 34.8503ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - null null
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Connection id ""0HN61337UIM75"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 61.7626ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Connection id ""0HN61337UIM75"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 62.6135ms
Application is shutting down...
Hosting stopping
Connection id ""0HN61337UIM75"" disconnecting.
Connection id ""0HN61337UIM75"" stopped.
Connection id ""0HN61337UIM75"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-7dMV3SHOTjI2pbKgP-CiTg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-mh8yAncKxM236IY6CHbG_w"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-7dMV3SHOTjI2pbKgP-CiTg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-mh8yAncKxM236IY6CHbG_w"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-P-e8U7cgUYvRnXBN90fVaQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-P-e8U7cgUYvRnXBN90fVaQ"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-DWenJACphQ0sRSmJn7LPmw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-DWenJACphQ0sRSmJn7LPmw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_wcfoyyfcnebrrbo1bdqcnggqfz?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_wcfoyyfcnebrrbo1bdqcnggqfz?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (79ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (21ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (20ms).
Initialized DbCommand for '"ExecuteScalar"' (45ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("298"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (7ms).
Initialized DbCommand for '"ExecuteReader"' (16ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 34ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 39864)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_nhgyyyfcnebrrjpebdqcngexgn?temporary=true
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Connection id ""0HN61348IB5P6"" received FIN.
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-Ay3nbcgwsNHciqoY-shkdg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-Z1kI_6eV4VwGD2OpHYpQPg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-r4ShmAJZGdMkdE7Bi7_enA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-gL_AXcq_Dhxs9BqSScUBBg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Connection id ""0HN61348IB5P6"" accepted.
Bus started: rabbitmq://rabbitmq.message-broker/
Connection id ""0HN61348IB5P6"" started.
Connection id ""0HN61348IB5P7"" received FIN.
Connection id ""0HN61348IB5P7"" accepted.
Connection id ""0HN61348IB5P7"" started.
Connection id ""0HN61348IB5P7"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN61348IB5P6"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN61348IB5P7"" disconnecting.
Connection id ""0HN61348IB5P6"" disconnecting.
Connection id ""0HN61348IB5P8"" accepted.
Connection id ""0HN61348IB5P8"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
Wildcard detected, all requests with hosts will be allowed.
Wildcard detected, all requests with hosts will be allowed.
Wildcard detected, all requests with hosts will be allowed.
Connection id ""0HN61348IB5P8"" received FIN.
Connection id ""0HN61348IB5P8"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN61348IB5P8"" disconnecting.
No candidates found for the request path '"/swagger/index.html"'
No candidates found for the request path '"/swagger/index.html"'
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Request did not match any endpoints
Request did not match any endpoints
Connection id ""0HN61348IB5P9"" accepted.
Connection id ""0HN61348IB5P9"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN61348IB5P9"" received FIN.
Connection id ""0HN61348IB5P9"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN61348IB5P9"" disconnecting.
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 1180.3689ms
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 570.0973ms
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 1177.8622ms
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 1183.6192ms
Connection id ""0HN61348IB5P7"" stopped.
Connection id ""0HN61348IB5P9"" stopped.
Connection id ""0HN61348IB5P8"" stopped.
Connection id ""0HN61348IB5P6"" stopped.
Connection id ""0HN61348IB5PA"" accepted.
Connection id ""0HN61348IB5PA"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN61348IB5PA"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 55.1134ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - null null
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Connection id ""0HN61348IB5PA"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 117.1989ms
Connection id ""0HN61348IB5PA"" received FIN.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/favicon-32x32.png""" - null null
Connection id ""0HN61348IB5PA"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
No candidates found for the request path '"/swagger/favicon-32x32.png"'
Connection id ""0HN61348IB5PA"" disconnecting.
Request did not match any endpoints
The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/favicon-32x32.png""" - 499 628 "image/png" 143.1911ms
Connection id ""0HN61348IB5PA"" stopped.
Connection id ""0HN61348IB5PB"" accepted.
Connection id ""0HN61348IB5PB"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN61348IB5PB"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 27.8903ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - null null
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Connection id ""0HN61348IB5PB"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 48.9166ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Connection id ""0HN61348IB5PB"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 619.5981ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN61348IB5PB"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 58.139ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - null null
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Connection id ""0HN61348IB5PB"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 37.5032ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Connection id ""0HN61348IB5PB"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 210.7517ms
Application is shutting down...
Hosting stopping
Connection id ""0HN61348IB5PB"" disconnecting.
Connection id ""0HN61348IB5PB"" stopped.
Connection id ""0HN61348IB5PB"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-gL_AXcq_Dhxs9BqSScUBBg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-Z1kI_6eV4VwGD2OpHYpQPg"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-r4ShmAJZGdMkdE7Bi7_enA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-gL_AXcq_Dhxs9BqSScUBBg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-Z1kI_6eV4VwGD2OpHYpQPg"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-Ay3nbcgwsNHciqoY-shkdg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-r4ShmAJZGdMkdE7Bi7_enA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-Ay3nbcgwsNHciqoY-shkdg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_nhgyyyfcnebrrjpebdqcngexgn?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_nhgyyyfcnebrrjpebdqcngexgn?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (183ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (24ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (23ms).
Initialized DbCommand for '"ExecuteScalar"' (58ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("217"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (13ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 25ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 46928)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_uogyyyfcnebrf3kfbdqcngcsya?temporary=true
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Connection id ""0HN6136BDSAG4"" accepted.
Connection id ""0HN6136BDSAG4"" started.
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Kj66Hshf7mYGyNDbfIyejg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-c6EORzJpYmkuBLrula66xg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-IyyOZY_x_QAAcjX7fXsREQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-NvyQFdlnIHtmvtUbTJnJtw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
Wildcard detected, all requests with hosts will be allowed.
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN6136BDSAG4"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 347.8155ms
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - null null
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Connection id ""0HN6136BDSAG4"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 56.4327ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Connection id ""0HN6136BDSAG4"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 456.3052ms
Connection id ""0HN6136BDSAG4"" received FIN.
Connection id ""0HN6136BDSAG4"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN6136BDSAG4"" disconnecting.
Connection id ""0HN6136BDSAG4"" stopped.
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Kj66Hshf7mYGyNDbfIyejg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-c6EORzJpYmkuBLrula66xg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-IyyOZY_x_QAAcjX7fXsREQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-Kj66Hshf7mYGyNDbfIyejg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-c6EORzJpYmkuBLrula66xg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-IyyOZY_x_QAAcjX7fXsREQ"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-NvyQFdlnIHtmvtUbTJnJtw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-NvyQFdlnIHtmvtUbTJnJtw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_uogyyyfcnebrf3kfbdqcngcsya?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_uogyyyfcnebrf3kfbdqcngcsya?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (184ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (51ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (24ms).
Initialized DbCommand for '"ExecuteScalar"' (66ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("413"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (27ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (22ms).
Initialized DbCommand for '"ExecuteReader"' (44ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("62"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 62ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 46426)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_regoyyfcnebrrfwybdqcng1cyq?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-S4SPM5IyPg0wzSAHID6SHA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-aSRieGdnvusG9GxNcOIyZA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-caqugTFOw4glioyVYGQySA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-QBOCKqLd3DUMh-SEWEOMEA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN61397RKP5E"" accepted.
Connection id ""0HN61397RKP5E"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - null null
Wildcard detected, all requests with hosts will be allowed.
No candidates found for the request path '"/swagger/index.html"'
Request did not match any endpoints
Connection id ""0HN61397RKP5E"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 352.7178ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - null null
No candidates found for the request path '"/swagger/index.js"'
Request did not match any endpoints
Connection id ""0HN61397RKP5E"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 69.3791ms
Connection id ""0HN61397RKP5E"" received FIN.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/favicon-32x32.png""" - null null
Connection id ""0HN61397RKP5E"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
No candidates found for the request path '"/swagger/favicon-32x32.png"'
Connection id ""0HN61397RKP5E"" disconnecting.
Request did not match any endpoints
The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/favicon-32x32.png""" - 499 628 "image/png" 186.2462ms
Connection id ""0HN61397RKP5E"" stopped.
Connection id ""0HN61397RKP5F"" accepted.
Connection id ""0HN61397RKP5F"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - null null
No candidates found for the request path '"/swagger/v1/swagger.json"'
Request did not match any endpoints
Connection id ""0HN61397RKP5F"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 602.6611ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-20" - null null
1 candidate(s) found for the request path '"/api/Appointments/time-slots"'
Endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"' with route pattern '"api/Appointments/time-slots"' is valid for the request path '"/api/Appointments/time-slots"'
Request matched endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Route matched with "{action = \"ViewTimeSlots\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewTimeSlots(Int32, Int32, System.DateTime)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' ...
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' using the name '"ServiceId"' in request data ...
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' ...
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' using the name '"DoctorId"' in request data ...
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' using the name '"AppointmentDate"' in request data ...
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Done attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (26ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("61"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 136ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .Where(a => a.Date == __AppointmentDate_Date_0)"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
        SELECT a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
        FROM Appointments AS a
        WHERE a.Date == @__AppointmentDate_Date_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (11ms).
Initialized DbCommand for '"ExecuteReader"' (31ms).
Executing DbCommand [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Executed DbCommand ("56"ms) [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 9ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[TimeSlotResponse, Appointments.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.ViewTimeSlots (Appointments.API)" in 1881.5327ms
Executed endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
HTTP "GET" "/api/Appointments/time-slots" responded 200 in 2062.9953 ms
Connection id ""0HN61397RKP5F"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-20" - 200 0 "application/json; charset=utf-8" 2210.1495ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-21" - null null
1 candidate(s) found for the request path '"/api/Appointments/time-slots"'
Endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"' with route pattern '"api/Appointments/time-slots"' is valid for the request path '"/api/Appointments/time-slots"'
Request matched endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Route matched with "{action = \"ViewTimeSlots\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewTimeSlots(Int32, Int32, System.DateTime)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' ...
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' using the name '"ServiceId"' in request data ...
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' ...
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' using the name '"DoctorId"' in request data ...
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' using the name '"AppointmentDate"' in request data ...
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Done attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 18ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (9ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Executed DbCommand ("4"ms) [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[TimeSlotResponse, Appointments.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.ViewTimeSlots (Appointments.API)" in 571.3041ms
Executed endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
HTTP "GET" "/api/Appointments/time-slots" responded 200 in 632.2197 ms
Connection id ""0HN61397RKP5F"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-21" - 200 0 "application/json; charset=utf-8" 693.6931ms
Application is shutting down...
Hosting stopping
Connection id ""0HN61397RKP5F"" disconnecting.
Connection id ""0HN61397RKP5F"" stopped.
Connection id ""0HN61397RKP5F"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-QBOCKqLd3DUMh-SEWEOMEA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-caqugTFOw4glioyVYGQySA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-aSRieGdnvusG9GxNcOIyZA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-caqugTFOw4glioyVYGQySA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-aSRieGdnvusG9GxNcOIyZA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-QBOCKqLd3DUMh-SEWEOMEA"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-S4SPM5IyPg0wzSAHID6SHA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-S4SPM5IyPg0wzSAHID6SHA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_regoyyfcnebrrfwybdqcng1cyq?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_regoyyfcnebrrfwybdqcng1cyq?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (149ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (53ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (39ms).
Initialized DbCommand for '"ExecuteScalar"' (85ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("301"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (14ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("145"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 29ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (12ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 57950)
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Endpoint Ready: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_segoyyfcnebrfms1bdqcngsfg5?temporary=true
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-JQU8g1O2fF4wwJIEVzTgdA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-K1FTaQQ1UuQwhNcSp3Q9LA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-OMMA5FFr4obTi9wDCfeiUQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-PvejUCTJTS9C7IPP5zNy7Q"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN613B9HRPFK"" accepted.
Connection id ""0HN613B9HRPFK"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-21" - null null
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Appointments/time-slots"'
Endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"' with route pattern '"api/Appointments/time-slots"' is valid for the request path '"/api/Appointments/time-slots"'
Request matched endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Route matched with "{action = \"ViewTimeSlots\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewTimeSlots(Int32, Int32, System.DateTime)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' ...
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' using the name '"ServiceId"' in request data ...
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' ...
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' using the name '"DoctorId"' in request data ...
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' using the name '"AppointmentDate"' in request data ...
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Done attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (25ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("145"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 514ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (30ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .Where(a => a.Date == __AppointmentDate_Date_0)"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
        SELECT a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
        FROM Appointments AS a
        WHERE a.Date == @__AppointmentDate_Date_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (21ms).
Initialized DbCommand for '"ExecuteReader"' (57ms).
Executing DbCommand [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Executed DbCommand ("121"ms) [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 23ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (17ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[TimeSlotResponse, Appointments.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.ViewTimeSlots (Appointments.API)" in 2938.7522ms
Executed endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
HTTP "GET" "/api/Appointments/time-slots" responded 200 in 3274.5373 ms
Connection id ""0HN613B9HRPFK"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (22ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-21" - 200 0 "application/json; charset=utf-8" 3666.6747ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-21" - null null
1 candidate(s) found for the request path '"/api/Appointments/time-slots"'
Endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"' with route pattern '"api/Appointments/time-slots"' is valid for the request path '"/api/Appointments/time-slots"'
Request matched endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Route matched with "{action = \"ViewTimeSlots\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewTimeSlots(Int32, Int32, System.DateTime)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' ...
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' using the name '"ServiceId"' in request data ...
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' ...
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' using the name '"DoctorId"' in request data ...
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' using the name '"AppointmentDate"' in request data ...
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Done attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("16"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 10ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Executed DbCommand ("4"ms) [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 3ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[TimeSlotResponse, Appointments.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.ViewTimeSlots (Appointments.API)" in 386.0756ms
Executed endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
HTTP "GET" "/api/Appointments/time-slots" responded 200 in 443.6723 ms
Connection id ""0HN613B9HRPFK"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-21" - 200 0 "application/json; charset=utf-8" 554.0877ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/favicon.ico""" - null null
No candidates found for the request path '"/favicon.ico"'
Request did not match any endpoints
The request path "" does not match the path filter
request System.Func`1[System.String] returns 404
HTTP "GET" "/favicon.ico" responded 404 in 9.8311 ms
Connection id ""0HN613B9HRPFK"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/favicon.ico""" - 404 0 null 40.1646ms
Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:8086""""/favicon.ico", Response status code: 404
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - null null
1 candidate(s) found for the request path '"/api/Results/download/24"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/24"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Results>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Results>(
    asyncEnumerable: new SingleQueryingEnumerable<Results>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Results.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Results.AppointmentId (int) Required FK Index, 1], [Property: Results.Complaints (string) Required, 2], [Property: Results.Conclusion (string) Required, 3], [Property: Results.Date (DateTime) Required, 4], [Property: Results.Recommendations (string) Required, 5] }
            SELECT TOP(1) r.Id, r.AppointmentId, r.Complaints, r.Conclusion, r.Date, r.Recommendations
            FROM Results AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Results>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (11ms).
Initialized DbCommand for '"ExecuteReader"' (19ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("43"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 74ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Received HTTP response headers after 1315.185ms - 200
End processing HTTP request after 1333.215ms - 200
Executing "FileStreamResult", sending file with download name '"Dechka Stanislau Sergeevich_Results_2024-08-17.pdf"' ...
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 1795.2809ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/24" responded 500 in 1886.5022 ms
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.StreamCopyOperationInternal.CopyToAsync(Stream source, Stream destination, Nullable`1 count, Int32 bufferSize, CancellationToken cancel)
   at Microsoft.AspNetCore.Internal.FileResultHelper.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileResultExecutorBase.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileStreamResultExecutor.ExecuteAsync(ActionContext context, FileStreamResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.StreamCopyOperationInternal.CopyToAsync(Stream source, Stream destination, Nullable`1 count, Int32 bufferSize, CancellationToken cancel)
   at Microsoft.AspNetCore.Internal.FileResultHelper.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileResultExecutorBase.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileStreamResultExecutor.ExecuteAsync(ActionContext context, FileStreamResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN613B9HRPFK"", Request id ""0HN613B9HRPFK:00000004"": An unhandled exception was thrown by the application.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.StreamCopyOperationInternal.CopyToAsync(Stream source, Stream destination, Nullable`1 count, Int32 bufferSize, CancellationToken cancel)
   at Microsoft.AspNetCore.Internal.FileResultHelper.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileResultExecutorBase.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileStreamResultExecutor.ExecuteAsync(ActionContext context, FileStreamResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
Connection id ""0HN613B9HRPFK"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (10ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - 500 0 null 2258.6815ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - null null
1 candidate(s) found for the request path '"/api/Results/download/24"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/24"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (8ms).
Initialized DbCommand for '"ExecuteReader"' (12ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("12"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 14ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Received HTTP response headers after 321.9861ms - 200
End processing HTTP request after 328.9314ms - 200
Executing "FileStreamResult", sending file with download name '"Dechka Stanislau Sergeevich_Results_2024-08-17.pdf"' ...
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 491.3809ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/24" responded 500 in 546.1646 ms
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.StreamCopyOperationInternal.CopyToAsync(Stream source, Stream destination, Nullable`1 count, Int32 bufferSize, CancellationToken cancel)
   at Microsoft.AspNetCore.Internal.FileResultHelper.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileResultExecutorBase.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileStreamResultExecutor.ExecuteAsync(ActionContext context, FileStreamResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.StreamCopyOperationInternal.CopyToAsync(Stream source, Stream destination, Nullable`1 count, Int32 bufferSize, CancellationToken cancel)
   at Microsoft.AspNetCore.Internal.FileResultHelper.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileResultExecutorBase.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileStreamResultExecutor.ExecuteAsync(ActionContext context, FileStreamResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
An exception was thrown attempting to display the error page.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask`1.GetTaskForValueTaskSource(IValueTaskSource`1 t)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.DisplayExceptionContent(ErrorContext errorContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN613B9HRPFK"", Request id ""0HN613B9HRPFK:00000005"": An unhandled exception was thrown by the application.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.StreamCopyOperationInternal.CopyToAsync(Stream source, Stream destination, Nullable`1 count, Int32 bufferSize, CancellationToken cancel)
   at Microsoft.AspNetCore.Internal.FileResultHelper.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileResultExecutorBase.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileStreamResultExecutor.ExecuteAsync(ActionContext context, FileStreamResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Appointments.API.Middleware.LoggingMiddleware.Invoke(HttpContext httpContext) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Middleware\LoggingMiddleware.cs:line 23
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
Connection id ""0HN613B9HRPFK"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - 500 0 null 696.1624ms
HttpMessageHandler expired after 120000ms for client '"files"'
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 1.8578ms - processed: 0 items - remaining: 1 items
Connection id ""0HN613B9HRPFK"" received FIN.
Connection id ""0HN613B9HRPFK"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN613B9HRPFK"" disconnecting.
Connection id ""0HN613B9HRPFK"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.1111ms - processed: 0 items - remaining: 1 items
Connection id ""0HN613B9HRPFL"" accepted.
Connection id ""0HN613B9HRPFL"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-21" - null null
1 candidate(s) found for the request path '"/api/Appointments/time-slots"'
Endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"' with route pattern '"api/Appointments/time-slots"' is valid for the request path '"/api/Appointments/time-slots"'
Request matched endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Route matched with "{action = \"ViewTimeSlots\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewTimeSlots(Int32, Int32, System.DateTime)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' ...
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' using the name '"ServiceId"' in request data ...
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' ...
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' using the name '"DoctorId"' in request data ...
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' using the name '"AppointmentDate"' in request data ...
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Done attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (6ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("106"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 48ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (10ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (42ms).
Initialized DbCommand for '"ExecuteReader"' (52ms).
Executing DbCommand [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Executed DbCommand ("57"ms) [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 27ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[TimeSlotResponse, Appointments.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.ViewTimeSlots (Appointments.API)" in 1688.7816ms
Executed endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
HTTP "GET" "/api/Appointments/time-slots" responded 200 in 1790.2466 ms
Connection id ""0HN613B9HRPFL"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (19ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-21" - 200 0 "application/json; charset=utf-8" 2023.3122ms
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 13.6327ms - processed: 1 items - remaining: 0 items
Connection id ""0HN613B9HRPFM"" accepted.
Connection id ""0HN613B9HRPFM"" started.
Connection id ""0HN613B9HRPFN"" received FIN.
Connection id ""0HN613B9HRPFN"" accepted.
Connection id ""0HN613B9HRPFN"" started.
Connection id ""0HN613B9HRPFN"" disconnecting.
Connection id ""0HN613B9HRPFN"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-21" - null null
Connection id ""0HN613B9HRPFN"" stopped.
1 candidate(s) found for the request path '"/api/Appointments/time-slots"'
Endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"' with route pattern '"api/Appointments/time-slots"' is valid for the request path '"/api/Appointments/time-slots"'
Request matched endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Route matched with "{action = \"ViewTimeSlots\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewTimeSlots(Int32, Int32, System.DateTime)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' ...
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' using the name '"ServiceId"' in request data ...
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' ...
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' using the name '"DoctorId"' in request data ...
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' using the name '"AppointmentDate"' in request data ...
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Done attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (9ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (14ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("108"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 38ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (9ms).
Initialized DbCommand for '"ExecuteReader"' (25ms).
Executing DbCommand [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Executed DbCommand ("56"ms) [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 11ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[TimeSlotResponse, Appointments.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.ViewTimeSlots (Appointments.API)" in 1603.3711ms
Executed endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
HTTP "GET" "/api/Appointments/time-slots" responded 200 in 1757.9529 ms
Connection id ""0HN613B9HRPFM"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-21" - 200 0 "application/json; charset=utf-8" 2087.2802ms
Connection id ""0HN613B9HRPFL"" received FIN.
Connection id ""0HN613B9HRPFL"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN613B9HRPFL"" disconnecting.
Connection id ""0HN613B9HRPFL"" stopped.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-21" - null null
1 candidate(s) found for the request path '"/api/Appointments/time-slots"'
Endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"' with route pattern '"api/Appointments/time-slots"' is valid for the request path '"/api/Appointments/time-slots"'
Request matched endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Route matched with "{action = \"ViewTimeSlots\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewTimeSlots(Int32, Int32, System.DateTime)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' ...
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' using the name '"ServiceId"' in request data ...
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' ...
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' using the name '"DoctorId"' in request data ...
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' using the name '"AppointmentDate"' in request data ...
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Done attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("55"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 27ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Executed DbCommand ("26"ms) [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 4ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (9ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[TimeSlotResponse, Appointments.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.ViewTimeSlots (Appointments.API)" in 791.1478ms
Executed endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
HTTP "GET" "/api/Appointments/time-slots" responded 200 in 974.4255 ms
Connection id ""0HN613B9HRPFM"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (10ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-21" - 200 0 "application/json; charset=utf-8" 1168.2138ms
Connection id ""0HN613B9HRPFO"" accepted.
Connection id ""0HN613B9HRPFO"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-21" - null null
1 candidate(s) found for the request path '"/api/Appointments/time-slots"'
Endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"' with route pattern '"api/Appointments/time-slots"' is valid for the request path '"/api/Appointments/time-slots"'
Request matched endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Route matched with "{action = \"ViewTimeSlots\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewTimeSlots(Int32, Int32, System.DateTime)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' ...
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' using the name '"ServiceId"' in request data ...
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' ...
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' using the name '"DoctorId"' in request data ...
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' using the name '"AppointmentDate"' in request data ...
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Done attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (14ms).
Initialized DbCommand for '"ExecuteReader"' (16ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("69"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 28ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (18ms).
Executing DbCommand [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Executed DbCommand ("14"ms) [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 6ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[TimeSlotResponse, Appointments.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.ViewTimeSlots (Appointments.API)" in 543.1353ms
Executed endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
HTTP "GET" "/api/Appointments/time-slots" responded 200 in 641.6204 ms
Connection id ""0HN613B9HRPFO"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-21" - 200 0 "application/json; charset=utf-8" 719.7432ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-19" - null null
1 candidate(s) found for the request path '"/api/Appointments/time-slots"'
Endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"' with route pattern '"api/Appointments/time-slots"' is valid for the request path '"/api/Appointments/time-slots"'
Request matched endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Route matched with "{action = \"ViewTimeSlots\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewTimeSlots(Int32, Int32, System.DateTime)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' ...
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' using the name '"ServiceId"' in request data ...
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' ...
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' using the name '"DoctorId"' in request data ...
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' using the name '"AppointmentDate"' in request data ...
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Done attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (6ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (17ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 11ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Executed DbCommand ("5"ms) [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 4ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (9ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[TimeSlotResponse, Appointments.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.ViewTimeSlots (Appointments.API)" in 313.8379ms
Executed endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
HTTP "GET" "/api/Appointments/time-slots" responded 200 in 376.4720 ms
Connection id ""0HN613B9HRPFO"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-19" - 200 0 "application/json; charset=utf-8" 439.8791ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-21" - null null
1 candidate(s) found for the request path '"/api/Appointments/time-slots"'
Endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"' with route pattern '"api/Appointments/time-slots"' is valid for the request path '"/api/Appointments/time-slots"'
Request matched endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Route matched with "{action = \"ViewTimeSlots\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewTimeSlots(Int32, Int32, System.DateTime)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' ...
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' using the name '"ServiceId"' in request data ...
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' ...
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' using the name '"DoctorId"' in request data ...
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' using the name '"AppointmentDate"' in request data ...
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Done attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (13ms).
Initialized DbCommand for '"ExecuteReader"' (19ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("10"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 30ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (25ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (9ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Executed DbCommand ("23"ms) [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (9ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[TimeSlotResponse, Appointments.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.ViewTimeSlots (Appointments.API)" in 517.3399ms
Executed endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
HTTP "GET" "/api/Appointments/time-slots" responded 200 in 605.5974 ms
Connection id ""0HN613B9HRPFO"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-21" - 200 0 "application/json; charset=utf-8" 657.7623ms
Connection id ""0HN613B9HRPFM"" disconnecting.
Connection id ""0HN613B9HRPFM"" stopped.
Connection id ""0HN613B9HRPFM"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN613B9HRPFO"" received FIN.
Connection id ""0HN613B9HRPFO"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN613B9HRPFO"" disconnecting.
Connection id ""0HN613B9HRPFO"" stopped.
Connection id ""0HN613B9HRPFP"" accepted.
Connection id ""0HN613B9HRPFP"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-21" - null null
1 candidate(s) found for the request path '"/api/Appointments/time-slots"'
Endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"' with route pattern '"api/Appointments/time-slots"' is valid for the request path '"/api/Appointments/time-slots"'
Request matched endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Route matched with "{action = \"ViewTimeSlots\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewTimeSlots(Int32, Int32, System.DateTime)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' ...
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' using the name '"ServiceId"' in request data ...
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' ...
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' using the name '"DoctorId"' in request data ...
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' using the name '"AppointmentDate"' in request data ...
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Done attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (15ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (14ms).
Initialized DbCommand for '"ExecuteReader"' (27ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("107"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 33ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (12ms).
Executing DbCommand [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Executed DbCommand ("28"ms) [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 3ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[TimeSlotResponse, Appointments.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.ViewTimeSlots (Appointments.API)" in 872.008ms
Executed endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
HTTP "GET" "/api/Appointments/time-slots" responded 200 in 1051.7558 ms
Connection id ""0HN613B9HRPFP"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-21" - 200 0 "application/json; charset=utf-8" 1285.9667ms
Application is shutting down...
Hosting stopping
Connection id ""0HN613B9HRPFP"" disconnecting.
Connection id ""0HN613B9HRPFP"" stopped.
Connection id ""0HN613B9HRPFP"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-PvejUCTJTS9C7IPP5zNy7Q"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-OMMA5FFr4obTi9wDCfeiUQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-K1FTaQQ1UuQwhNcSp3Q9LA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-JQU8g1O2fF4wwJIEVzTgdA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-K1FTaQQ1UuQwhNcSp3Q9LA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-PvejUCTJTS9C7IPP5zNy7Q"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-JQU8g1O2fF4wwJIEVzTgdA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-OMMA5FFr4obTi9wDCfeiUQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_segoyyfcnebrfms1bdqcngsfg5?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/5948ea0f0e99_AppointmentsAPI_bus_segoyyfcnebrfms1bdqcngsfg5?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (208ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (26ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (23ms).
Initialized DbCommand for '"ExecuteScalar"' (49ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("369"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (14ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 14ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 54606)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2c28724bf82d_AppointmentsAPI_bus_fwyyyyfcnobrrbsabdqcn8csrn?temporary=true
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-uWTgSPeyhRUP63tz0LZOxg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Fo6vjggck9Blbk19GRNZNQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-3eW3C-avbmvlAZtDn7arBQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-iHwL6f73PyV5mEyeFKz1VQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN613MCLLNCD"" accepted.
Connection id ""0HN613MCLLNCD"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-21" - null null
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Appointments/time-slots"'
Endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"' with route pattern '"api/Appointments/time-slots"' is valid for the request path '"/api/Appointments/time-slots"'
Request matched endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Route matched with "{action = \"ViewTimeSlots\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewTimeSlots(Int32, Int32, System.DateTime)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' ...
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' using the name '"ServiceId"' in request data ...
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' ...
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' using the name '"DoctorId"' in request data ...
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' using the name '"AppointmentDate"' in request data ...
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Done attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (11ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("55"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 111ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .Where(a => a.Date == __AppointmentDate_Date_0)"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
        SELECT a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
        FROM Appointments AS a
        WHERE a.Date == @__AppointmentDate_Date_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (16ms).
Executing DbCommand [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Executed DbCommand ("62"ms) [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 12ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[TimeSlotResponse, Appointments.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.ViewTimeSlots (Appointments.API)" in 1129.1281ms
Executed endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
HTTP "GET" "/api/Appointments/time-slots" responded 200 in 1243.3843 ms
Connection id ""0HN613MCLLNCD"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-21" - 200 null "application/json; charset=utf-8" 1450.039ms
Connection id ""0HN613MCLLNCE"" accepted.
Connection id ""0HN613MCLLNCE"" started.
Connection id ""0HN613MCLLNCF"" received FIN.
Connection id ""0HN613MCLLNCF"" accepted.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-21" - null null
Connection id ""0HN613MCLLNCF"" started.
Connection id ""0HN613MCLLNCF"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
1 candidate(s) found for the request path '"/api/Appointments/time-slots"'
Connection id ""0HN613MCLLNCF"" disconnecting.
Endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"' with route pattern '"api/Appointments/time-slots"' is valid for the request path '"/api/Appointments/time-slots"'
Request matched endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Connection id ""0HN613MCLLNCF"" stopped.
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Route matched with "{action = \"ViewTimeSlots\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewTimeSlots(Int32, Int32, System.DateTime)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' ...
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' using the name '"ServiceId"' in request data ...
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' ...
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' using the name '"DoctorId"' in request data ...
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' using the name '"AppointmentDate"' in request data ...
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Done attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (4ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 12ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Executed DbCommand ("6"ms) [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 3ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[TimeSlotResponse, Appointments.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.ViewTimeSlots (Appointments.API)" in 325.9155ms
Executed endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
HTTP "GET" "/api/Appointments/time-slots" responded 200 in 348.2971 ms
Connection id ""0HN613MCLLNCE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-21" - 200 null "application/json; charset=utf-8" 399.1752ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-20" - null null
1 candidate(s) found for the request path '"/api/Appointments/time-slots"'
Endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"' with route pattern '"api/Appointments/time-slots"' is valid for the request path '"/api/Appointments/time-slots"'
Request matched endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Route matched with "{action = \"ViewTimeSlots\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewTimeSlots(Int32, Int32, System.DateTime)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' ...
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' using the name '"ServiceId"' in request data ...
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' ...
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' using the name '"DoctorId"' in request data ...
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' using the name '"AppointmentDate"' in request data ...
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Done attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (19ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (13ms).
Initialized DbCommand for '"ExecuteReader"' (23ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("10"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 4ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Executed DbCommand ("8"ms) [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 2ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[TimeSlotResponse, Appointments.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.ViewTimeSlots (Appointments.API)" in 447.3317ms
Executed endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
HTTP "GET" "/api/Appointments/time-slots" responded 200 in 533.0839 ms
Connection id ""0HN613MCLLNCE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-20" - 200 null "application/json; charset=utf-8" 625.3512ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-17" - null null
1 candidate(s) found for the request path '"/api/Appointments/time-slots"'
Endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"' with route pattern '"api/Appointments/time-slots"' is valid for the request path '"/api/Appointments/time-slots"'
Request matched endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Route matched with "{action = \"ViewTimeSlots\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewTimeSlots(Int32, Int32, System.DateTime)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' ...
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' using the name '"ServiceId"' in request data ...
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' ...
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' using the name '"DoctorId"' in request data ...
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' using the name '"AppointmentDate"' in request data ...
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Done attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 10ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Executed DbCommand ("4"ms) [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 2ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[TimeSlotResponse, Appointments.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.ViewTimeSlots (Appointments.API)" in 256.7ms
Executed endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
HTTP "GET" "/api/Appointments/time-slots" responded 200 in 319.2734 ms
Connection id ""0HN613MCLLNCE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (23ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-17" - 200 null "application/json; charset=utf-8" 427.3141ms
Connection id ""0HN613MCLLNCD"" received FIN.
Connection id ""0HN613MCLLNCD"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN613MCLLNCD"" disconnecting.
Connection id ""0HN613MCLLNCD"" stopped.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-20" - null null
1 candidate(s) found for the request path '"/api/Appointments/time-slots"'
Endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"' with route pattern '"api/Appointments/time-slots"' is valid for the request path '"/api/Appointments/time-slots"'
Request matched endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Route matched with "{action = \"ViewTimeSlots\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewTimeSlots(Int32, Int32, System.DateTime)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' ...
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' using the name '"ServiceId"' in request data ...
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' ...
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' using the name '"DoctorId"' in request data ...
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' using the name '"AppointmentDate"' in request data ...
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Done attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (5ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (25ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("18"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 37ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (23ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (10ms).
Initialized DbCommand for '"ExecuteReader"' (31ms).
Executing DbCommand [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Executed DbCommand ("14"ms) [Parameters=["@__AppointmentDate_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE a.\"Date\" = @__AppointmentDate_Date_0"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (10ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[TimeSlotResponse, Appointments.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.ViewTimeSlots (Appointments.API)" in 483.5089ms
Executed endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
HTTP "GET" "/api/Appointments/time-slots" responded 200 in 556.4850 ms
Connection id ""0HN613MCLLNCE"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-20" - 200 null "application/json; charset=utf-8" 607.3242ms
Connection id ""0HN613MCLLNCE"" disconnecting.
Connection id ""0HN613MCLLNCE"" stopped.
Connection id ""0HN613MCLLNCE"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Fo6vjggck9Blbk19GRNZNQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-3eW3C-avbmvlAZtDn7arBQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-iHwL6f73PyV5mEyeFKz1VQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-uWTgSPeyhRUP63tz0LZOxg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-uWTgSPeyhRUP63tz0LZOxg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-3eW3C-avbmvlAZtDn7arBQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-Fo6vjggck9Blbk19GRNZNQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-iHwL6f73PyV5mEyeFKz1VQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/2c28724bf82d_AppointmentsAPI_bus_fwyyyyfcnobrrbsabdqcn8csrn?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/2c28724bf82d_AppointmentsAPI_bus_fwyyyyfcnobrrbsabdqcn8csrn?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (70ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (20ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (15ms).
Initialized DbCommand for '"ExecuteScalar"' (28ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("277"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (31ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (28ms).
Initialized DbCommand for '"ExecuteReader"' (61ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("94"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 80ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (21ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 40212)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2c28724bf82d_AppointmentsAPI_bus_3wyyyyfcnobrfbirbdqcn8usdi?temporary=true
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-p1FDPZfQqAIVmFiUYh6QeA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-TN4lfis__8kHVMRLZc8SKQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-GRHaZFJYnzRJEt9umNkmZw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-5IGKIlhGyNhGgub-9adNIw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN613PSSO9NN"" accepted.
Connection id ""0HN613PSSO9NN"" started.
Connection id ""0HN613PSSO9NO"" received FIN.
Connection id ""0HN613PSSO9NO"" accepted.
Connection id ""0HN613PSSO9NO"" started.
Connection id ""0HN613PSSO9NO"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN613PSSO9NO"" disconnecting.
Connection id ""0HN613PSSO9NO"" stopped.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-20" - null null
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Appointments/time-slots"'
Endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"' with route pattern '"api/Appointments/time-slots"' is valid for the request path '"/api/Appointments/time-slots"'
Request matched endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
Route matched with "{action = \"ViewTimeSlots\", controller = \"Appointments\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewTimeSlots(Int32, Int32, System.DateTime)" on controller "AppointmentsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "AppointmentsController" ("Appointments.API")
Executed controller factory for controller "AppointmentsController" ("Appointments.API")
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' ...
Attempting to bind parameter '"ServiceId"' of type '"System.Int32"' using the name '"ServiceId"' in request data ...
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Done attempting to bind parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"ServiceId"' of type '"System.Int32"'.
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' ...
Attempting to bind parameter '"DoctorId"' of type '"System.Int32"' using the name '"DoctorId"' in request data ...
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Done attempting to bind parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"DoctorId"' of type '"System.Int32"'.
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"' using the name '"AppointmentDate"' in request data ...
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Done attempting to bind parameter '"AppointmentDate"' of type '"System.DateTime"'.
Attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"' ...
Done attempting to validate the bound parameter '"AppointmentDate"' of type '"System.DateTime"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Service>()
    .FirstOrDefault(s => s.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Service>(
    asyncEnumerable: new SingleQueryingEnumerable<Service>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Service.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Service.IsActive (bool) Required, 1], [Property: Service.ServiceCategory (ServiceCategory) Required, 2], [Property: Service.ServiceName (string) Required, 3] }
            SELECT TOP(1) s.Id, s.IsActive, s.ServiceCategory, s.ServiceName
            FROM Services AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Service>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (4ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (23ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("69"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Service"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 103ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Compiling query expression: "
"'"DbSet<Appointment>()
    .Where(a => a.Date.Date == __AppointmentDate_Date_Date_0)"'
Generated query execution expression: "
"'"queryContext => new SingleQueryingEnumerable<Appointment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Appointment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Appointment.Date (DateTime) Required, 1], [Property: Appointment.DoctorId (int) Required, 2], [Property: Appointment.IsApproved (bool) Required, 3], [Property: Appointment.PatientId (int) Required, 4], [Property: Appointment.ServiceId (int) Required, 5], [Property: Appointment.Time (TimeSpan) Required, 6] }
        SELECT a.Id, a.Date, a.DoctorId, a.IsApproved, a.PatientId, a.ServiceId, a.Time
        FROM Appointments AS a
        WHERE date_trunc('day', a.Date, 'UTC') == @__AppointmentDate_Date_Date_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Appointment>, 
    AppointmentsDbContext, 
    False, 
    False, 
    True
)"'
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (15ms).
Executing DbCommand [Parameters=["@__AppointmentDate_Date_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE date_trunc('day', a.\"Date\", 'UTC') = @__AppointmentDate_Date_Date_0"
Executed DbCommand ("57"ms) [Parameters=["@__AppointmentDate_Date_Date_0='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Date\", a.\"DoctorId\", a.\"IsApproved\", a.\"PatientId\", a.\"ServiceId\", a.\"Time\"
FROM \"Appointments\" AS a
WHERE date_trunc('day', a.\"Date\", 'UTC') = @__AppointmentDate_Date_Date_0"
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Context '"AppointmentsDbContext"' started tracking '"Appointment"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 50ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (10ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 7ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"IsActive\", s.\"ServiceCategory\", s.\"ServiceName\"
FROM \"Services\" AS s
WHERE s.\"Id\" = @__id_0
LIMIT 1"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 8ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
No information found on request to perform content negotiation.
Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
Attempting to select the first formatter in the output formatters list which can write the result.
Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
Executing "OkObjectResult", writing value of type '"System.Collections.Generic.List`1[[TimeSlotResponse, Appointments.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
Executed action "AppointmentsController.ViewTimeSlots (Appointments.API)" in 1557.6683ms
Executed endpoint '"AppointmentsController.ViewTimeSlots (Appointments.API)"'
HTTP "GET" "/api/Appointments/time-slots" responded 200 in 1687.1844 ms
Connection id ""0HN613PSSO9NN"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/time-slots""?ServiceId=12&DoctorId=2&AppointmentDate=2024-08-20" - 200 null "application/json; charset=utf-8" 1912.118ms
Connection id ""0HN613PSSO9NN"" received FIN.
Connection id ""0HN613PSSO9NN"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN613PSSO9NN"" disconnecting.
Connection id ""0HN613PSSO9NN"" stopped.
Connection id ""0HN613PSSO9NP"" accepted.
Connection id ""0HN613PSSO9NP"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - null null
1 candidate(s) found for the request path '"/api/Results/download/24"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/24"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Results>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Results>(
    asyncEnumerable: new SingleQueryingEnumerable<Results>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Results.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Results.AppointmentId (int) Required FK Index, 1], [Property: Results.Complaints (string) Required, 2], [Property: Results.Conclusion (string) Required, 3], [Property: Results.Date (DateTime) Required, 4], [Property: Results.Recommendations (string) Required, 5] }
            SELECT TOP(1) r.Id, r.AppointmentId, r.Complaints, r.Conclusion, r.Date, r.Recommendations
            FROM Results AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Results>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (11ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (12ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("36"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 53ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Received HTTP response headers after 6843.7653ms - 200
End processing HTTP request after 6865.0886ms - 200
Executing "FileStreamResult", sending file with download name '"Dechka Stanislau Sergeevich_Results_2024-08-17.pdf"' ...
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 7409.4526ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/24" responded 500 in 7524.8868 ms
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.StreamCopyOperationInternal.CopyToAsync(Stream source, Stream destination, Nullable`1 count, Int32 bufferSize, CancellationToken cancel)
   at Microsoft.AspNetCore.Internal.FileResultHelper.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileResultExecutorBase.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileStreamResultExecutor.ExecuteAsync(ActionContext context, FileStreamResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.StreamCopyOperationInternal.CopyToAsync(Stream source, Stream destination, Nullable`1 count, Int32 bufferSize, CancellationToken cancel)
   at Microsoft.AspNetCore.Internal.FileResultHelper.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileResultExecutorBase.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileStreamResultExecutor.ExecuteAsync(ActionContext context, FileStreamResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN613PSSO9NP"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (10ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - 500 null "text/plain; charset=utf-8" 7874.3014ms
HttpMessageHandler expired after 120000ms for client '"files"'
Connection id ""0HN613PSSO9NP"" received FIN.
Connection id ""0HN613PSSO9NP"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN613PSSO9NP"" disconnecting.
Connection id ""0HN613PSSO9NP"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 6.1654ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0152ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0152ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0138ms - processed: 0 items - remaining: 1 items
Connection id ""0HN613PSSO9NQ"" accepted.
Connection id ""0HN613PSSO9NQ"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - null null
1 candidate(s) found for the request path '"/api/Results/download/24"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/24"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (13ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (21ms).
Initialized DbCommand for '"ExecuteReader"' (38ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("160"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 61ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Received HTTP response headers after 3478.7154ms - 200
End processing HTTP request after 3491.1013ms - 200
Executing "FileStreamResult", sending file with download name '"Dechka Stanislau Sergeevich_Results_2024-08-17.pdf"' ...
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 4386.804ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/24" responded 500 in 4516.8980 ms
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.StreamCopyOperationInternal.CopyToAsync(Stream source, Stream destination, Nullable`1 count, Int32 bufferSize, CancellationToken cancel)
   at Microsoft.AspNetCore.Internal.FileResultHelper.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileResultExecutorBase.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileStreamResultExecutor.ExecuteAsync(ActionContext context, FileStreamResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.StreamCopyOperationInternal.CopyToAsync(Stream source, Stream destination, Nullable`1 count, Int32 bufferSize, CancellationToken cancel)
   at Microsoft.AspNetCore.Internal.FileResultHelper.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileResultExecutorBase.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileStreamResultExecutor.ExecuteAsync(ActionContext context, FileStreamResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN613PSSO9NQ"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - 500 null "text/plain; charset=utf-8" 4979.6033ms
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0088ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0113ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0109ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0171ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0109ms - processed: 0 items - remaining: 1 items
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - null null
1 candidate(s) found for the request path '"/api/Results/download/24"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/24"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (3ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (43ms).
Initialized DbCommand for '"ExecuteReader"' (48ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("24"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 22ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Received HTTP response headers after 458.1242ms - 200
End processing HTTP request after 471.526ms - 200
Executing "FileStreamResult", sending file with download name '"Dechka Stanislau Sergeevich_Results_2024-08-17.pdf"' ...
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 940.9512ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/24" responded 500 in 1013.4826 ms
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.StreamCopyOperationInternal.CopyToAsync(Stream source, Stream destination, Nullable`1 count, Int32 bufferSize, CancellationToken cancel)
   at Microsoft.AspNetCore.Internal.FileResultHelper.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileResultExecutorBase.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileStreamResultExecutor.ExecuteAsync(ActionContext context, FileStreamResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.StreamCopyOperationInternal.CopyToAsync(Stream source, Stream destination, Nullable`1 count, Int32 bufferSize, CancellationToken cancel)
   at Microsoft.AspNetCore.Internal.FileResultHelper.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileResultExecutorBase.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileStreamResultExecutor.ExecuteAsync(ActionContext context, FileStreamResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN613PSSO9NQ"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (18ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - 500 null "text/plain; charset=utf-8" 1187.2686ms
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0089ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0063ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 1.2293ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0112ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0941ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0087ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0496ms - processed: 0 items - remaining: 1 items
Application is shutting down...
Hosting stopping
Connection id ""0HN613PSSO9NQ"" disconnecting.
Connection id ""0HN613PSSO9NQ"" stopped.
Connection id ""0HN613PSSO9NQ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-GRHaZFJYnzRJEt9umNkmZw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-p1FDPZfQqAIVmFiUYh6QeA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-TN4lfis__8kHVMRLZc8SKQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-GRHaZFJYnzRJEt9umNkmZw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-p1FDPZfQqAIVmFiUYh6QeA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-TN4lfis__8kHVMRLZc8SKQ"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-5IGKIlhGyNhGgub-9adNIw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-5IGKIlhGyNhGgub-9adNIw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/2c28724bf82d_AppointmentsAPI_bus_3wyyyyfcnobrfbirbdqcn8usdi?temporary=true
HttpMessageHandler expired after 120000ms for client '"files"'
Endpoint Completed: rabbitmq://rabbitmq.message-broker/2c28724bf82d_AppointmentsAPI_bus_3wyyyyfcnobrfbirbdqcn8usdi?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (74ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (16ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (15ms).
Initialized DbCommand for '"ExecuteScalar"' (26ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("138"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (22ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 23ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 50908)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2c28724bf82d_AppointmentsAPI_bus_qhyoyyfcnobrrhpqbdqcnj8trf?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-W1rG6veWCTSSyyopV0qRzw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-mouaJkqN2z9JcyZ8gTJL9w"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-1erH2jMP3N_oc6zodHQNrg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-UVNjNRuBuRZpc6C3IS391g"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN614JPKNASM"" accepted.
Connection id ""0HN614JPKNASM"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - null null
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/download/24"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/24"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Results>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Results>(
    asyncEnumerable: new SingleQueryingEnumerable<Results>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Results.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Results.AppointmentId (int) Required FK Index, 1], [Property: Results.Complaints (string) Required, 2], [Property: Results.Conclusion (string) Required, 3], [Property: Results.Date (DateTime) Required, 4], [Property: Results.Recommendations (string) Required, 5] }
            SELECT TOP(1) r.Id, r.AppointmentId, r.Complaints, r.Conclusion, r.Date, r.Recommendations
            FROM Results AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Results>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (18ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("58"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 162ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Received HTTP response headers after 5316.0256ms - 200
End processing HTTP request after 5339.0538ms - 200
Executing "FileStreamResult", sending file with download name '"Dechka Stanislau Sergeevich_Results_2024-08-17.pdf"' ...
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 6520.7241ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/24" responded 500 in 6686.5465 ms
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.StreamCopyOperationInternal.CopyToAsync(Stream source, Stream destination, Nullable`1 count, Int32 bufferSize, CancellationToken cancel)
   at Microsoft.AspNetCore.Internal.FileResultHelper.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileResultExecutorBase.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileStreamResultExecutor.ExecuteAsync(ActionContext context, FileStreamResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.StreamCopyOperationInternal.CopyToAsync(Stream source, Stream destination, Nullable`1 count, Int32 bufferSize, CancellationToken cancel)
   at Microsoft.AspNetCore.Internal.FileResultHelper.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileResultExecutorBase.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileStreamResultExecutor.ExecuteAsync(ActionContext context, FileStreamResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN614JPKNASM"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - 500 null "text/plain; charset=utf-8" 6987.8385ms
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - null null
1 candidate(s) found for the request path '"/api/Results/download/24"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/24"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (2ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("14"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 12ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Received HTTP response headers after 283.5258ms - 200
End processing HTTP request after 300.8797ms - 200
Executing "FileStreamResult", sending file with download name '"Dechka Stanislau Sergeevich_Results_2024-08-17.pdf"' ...
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 586.2009ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/24" responded 500 in 640.9272 ms
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.StreamCopyOperationInternal.CopyToAsync(Stream source, Stream destination, Nullable`1 count, Int32 bufferSize, CancellationToken cancel)
   at Microsoft.AspNetCore.Internal.FileResultHelper.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileResultExecutorBase.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileStreamResultExecutor.ExecuteAsync(ActionContext context, FileStreamResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.ReadAsync(Memory`1 buffer, CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.StreamCopyOperationInternal.CopyToAsync(Stream source, Stream destination, Nullable`1 count, Int32 bufferSize, CancellationToken cancel)
   at Microsoft.AspNetCore.Internal.FileResultHelper.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileResultExecutorBase.WriteFileAsync(HttpContext context, Stream fileStream, RangeItemHeaderValue range, Int64 rangeLength)
   at Microsoft.AspNetCore.Mvc.Infrastructure.FileStreamResultExecutor.ExecuteAsync(ActionContext context, FileStreamResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN614JPKNASM"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - 500 null "text/plain; charset=utf-8" 813.6091ms
HttpMessageHandler expired after 120000ms for client '"files"'
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0804ms - processed: 0 items - remaining: 1 items
Connection id ""0HN614JPKNASM"" received FIN.
Connection id ""0HN614JPKNASM"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN614JPKNASM"" disconnecting.
Connection id ""0HN614JPKNASM"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0129ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0121ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.01ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.699ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.012ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0353ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0114ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0125ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0081ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0102ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0154ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0148ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0147ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0113ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0133ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 1.9468ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0105ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 4.9353ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 36.2796ms - processed: 0 items - remaining: 1 items
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-1erH2jMP3N_oc6zodHQNrg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-mouaJkqN2z9JcyZ8gTJL9w"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-W1rG6veWCTSSyyopV0qRzw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-UVNjNRuBuRZpc6C3IS391g"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-UVNjNRuBuRZpc6C3IS391g"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-W1rG6veWCTSSyyopV0qRzw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-mouaJkqN2z9JcyZ8gTJL9w"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-1erH2jMP3N_oc6zodHQNrg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/2c28724bf82d_AppointmentsAPI_bus_qhyoyyfcnobrrhpqbdqcnj8trf?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/2c28724bf82d_AppointmentsAPI_bus_qhyoyyfcnobrrhpqbdqcnj8trf?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (142ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (22ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (27ms).
Initialized DbCommand for '"ExecuteScalar"' (51ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("133"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (11ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (11ms).
Initialized DbCommand for '"ExecuteReader"' (17ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 41ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 34372)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2c28724bf82d_AppointmentsAPI_bus_dobyyyfcnobrfnhabdqcnjqtbu?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-iGRVxHGV-qVdGduP_03bCQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-VmwQBGnAq_i2hIxkxVNKrA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-qqRjM6gbez-t59H65qA2Ig"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-1AX-8LOM5eZCieVXgqzHmg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN614N9E5LUB"" accepted.
Connection id ""0HN614N9E5LUB"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - null null
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/download/24"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/24"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Results>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Results>(
    asyncEnumerable: new SingleQueryingEnumerable<Results>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Results.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Results.AppointmentId (int) Required FK Index, 1], [Property: Results.Complaints (string) Required, 2], [Property: Results.Conclusion (string) Required, 3], [Property: Results.Date (DateTime) Required, 4], [Property: Results.Recommendations (string) Required, 5] }
            SELECT TOP(1) r.Id, r.AppointmentId, r.Complaints, r.Conclusion, r.Date, r.Recommendations
            FROM Results AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Results>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (7ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (22ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("77"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 209ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Received HTTP response headers after 7899.3642ms - 200
End processing HTTP request after 7941.0465ms - 200
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 9636.8167ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/24" responded 500 in 9816.5481 ms
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Microsoft.AspNetCore.Http.FormFile.OpenReadStream()
   at ResultsController.<DownloadAppointmentsResults>b__4_0(IFormFile formFile) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 33
   at ErrorOr.ErrorOr`1.Match[TNextValue](Func`2 onValue, Func`2 onError)
   at ResultsController.DownloadAppointmentsResults(Int32 id) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Microsoft.AspNetCore.Http.FormFile.OpenReadStream()
   at ResultsController.<DownloadAppointmentsResults>b__4_0(IFormFile formFile) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 33
   at ErrorOr.ErrorOr`1.Match[TNextValue](Func`2 onValue, Func`2 onError)
   at ResultsController.DownloadAppointmentsResults(Int32 id) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN614N9E5LUB"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - 500 null "text/plain; charset=utf-8" 10279.5678ms
HttpMessageHandler expired after 120000ms for client '"files"'
Connection id ""0HN614N9E5LUB"" received FIN.
Connection id ""0HN614N9E5LUB"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN614N9E5LUB"" disconnecting.
Connection id ""0HN614N9E5LUB"" stopped.
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0802ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0136ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0112ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0124ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0091ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0122ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0119ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0123ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.012ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.025ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0759ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0125ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.01ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0139ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0143ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0127ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0163ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0147ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0152ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0169ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.2325ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0148ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0091ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.2949ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 6.779ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0134ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0127ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0111ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0114ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 1.5385ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.1423ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0087ms - processed: 0 items - remaining: 1 items
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0099ms - processed: 0 items - remaining: 1 items
Hosting stopping
Application is shutting down...
Starting HttpMessageHandler cleanup cycle with 1 items
Ending HttpMessageHandler cleanup cycle after 0.0077ms - processed: 0 items - remaining: 1 items
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-VmwQBGnAq_i2hIxkxVNKrA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-iGRVxHGV-qVdGduP_03bCQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-qqRjM6gbez-t59H65qA2Ig"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-1AX-8LOM5eZCieVXgqzHmg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-VmwQBGnAq_i2hIxkxVNKrA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-qqRjM6gbez-t59H65qA2Ig"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-iGRVxHGV-qVdGduP_03bCQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-1AX-8LOM5eZCieVXgqzHmg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/2c28724bf82d_AppointmentsAPI_bus_dobyyyfcnobrfnhabdqcnjqtbu?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/2c28724bf82d_AppointmentsAPI_bus_dobyyyfcnobrfnhabdqcnjqtbu?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (78ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (75ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (48ms).
Initialized DbCommand for '"ExecuteScalar"' (67ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("239"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (18ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (7ms).
Initialized DbCommand for '"ExecuteReader"' (10ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 26ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (13ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 59666)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2c28724bf82d_AppointmentsAPI_bus_3abyyyfcnobrrys6bdqcnjaxru?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-7hCFYh4GjRF6JqAnQOnm_g"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-lAxiV7KyqU25HgSwW-xByw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-TM0ebk6qqQ_daX4DPyWiHg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-6ullcYIshNMOgWIOPofVTA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN614S9UTJFG"" accepted.
Connection id ""0HN614S9UTJFG"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - null null
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Results/download/24"'
Endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"' with route pattern '"api/Results/download/{id:int}"' is valid for the request path '"/api/Results/download/24"'
Request matched endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Executing endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
Route matched with "{action = \"DownloadAppointmentsResults\", controller = \"Results\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DownloadAppointmentsResults(Int32)" on controller "ResultsController" ("Appointments.API").
Execution plan of "authorization" filters (in the following order): ["None"]
Execution plan of "resource" filters (in the following order): ["None"]
Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
Execution plan of "exception" filters (in the following order): ["None"]
Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
Executing controller factory for controller "ResultsController" ("Appointments.API")
Executed controller factory for controller "ResultsController" ("Appointments.API")
Attempting to bind parameter '"id"' of type '"System.Int32"' ...
Attempting to bind parameter '"id"' of type '"System.Int32"' using the name '"id"' in request data ...
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Done attempting to bind parameter '"id"' of type '"System.Int32"'.
Attempting to validate the bound parameter '"id"' of type '"System.Int32"' ...
Done attempting to validate the bound parameter '"id"' of type '"System.Int32"'.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Compiling query expression: "
"'"DbSet<Results>()
    .FirstOrDefault(x => x.Id == __id_0)"'
Generated query execution expression: "
"'"queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Results>(
    asyncEnumerable: new SingleQueryingEnumerable<Results>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Results.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Results.AppointmentId (int) Required FK Index, 1], [Property: Results.Complaints (string) Required, 2], [Property: Results.Conclusion (string) Required, 3], [Property: Results.Date (DateTime) Required, 4], [Property: Results.Recommendations (string) Required, 5] }
            SELECT TOP(1) r.Id, r.AppointmentId, r.Complaints, r.Conclusion, r.Date, r.Recommendations
            FROM Results AS r
            WHERE r.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Results>, 
        AppointmentsDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)"'
Creating DbConnection.
Created DbConnection. (1ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (20ms).
Executing DbCommand [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Executed DbCommand ("69"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"AppointmentId\", r.\"Complaints\", r.\"Conclusion\", r.\"Date\", r.\"Recommendations\"
FROM \"Results\" AS r
WHERE r.\"Id\" = @__id_0
LIMIT 1"
Context '"AppointmentsDbContext"' started tracking '"Results"' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 255ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (12ms).
Start processing HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Sending HTTP request "GET" "http://documents.api:8080/api/documents/by-result/24"
Received HTTP response headers after 8362.7182ms - 200
End processing HTTP request after 8394.5268ms - 200
Executed action "ResultsController.DownloadAppointmentsResults (Appointments.API)" in 10216.3944ms
Executed endpoint '"ResultsController.DownloadAppointmentsResults (Appointments.API)"'
HTTP "GET" "/api/Results/download/24" responded 500 in 10459.1589 ms
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Microsoft.AspNetCore.Http.FormFile.OpenReadStream()
   at ResultsController.<DownloadAppointmentsResults>b__4_0(IFormFile formFile) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 33
   at ErrorOr.ErrorOr`1.Match[TNextValue](Func`2 onValue, Func`2 onError)
   at ResultsController.DownloadAppointmentsResults(Int32 id) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.set_Position(Int64 value)
   at Microsoft.AspNetCore.Http.FormFile.OpenReadStream()
   at ResultsController.<DownloadAppointmentsResults>b__4_0(IFormFile formFile) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 33
   at ErrorOr.ErrorOr`1.Match[TNextValue](Func`2 onValue, Func`2 onError)
   at ResultsController.DownloadAppointmentsResults(Int32 id) in C:\InnoClinic\InnoClinic\Services\Appointments\Appointments.API\Controllers\ResultsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN614S9UTJFG"" completed keep alive response.
'"AppointmentsDbContext"' disposed.
Disposing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Disposed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (16ms).
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Results/download/24""" - 500 null "text/plain; charset=utf-8" 10982.3709ms
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (100ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (27ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (15ms).
Initialized DbCommand for '"ExecuteScalar"' (39ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("204"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (17ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (9ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("66"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 37ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 36906)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2c28724bf82d_AppointmentsAPI_bus_gryyyyfcnobrfaqmbdqcnme7bm?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-zsqdOnL9A38P3zGQ9-YLjQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-GzIT9A1Hg48aKSYKw-K0iA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-uZ07w-YYdDYuWx0N9QPkQA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-1i5GnVHYzmHTYTVFGUi_nw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (137ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (47ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (55ms).
Initialized DbCommand for '"ExecuteScalar"' (107ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("296"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (20ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (12ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 30ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 34874)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2c28724bf82d_AppointmentsAPI_bus_soyyyyfcnobrfww6bdqcnmmwru?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-lLrXLYzxIlfk6ml4f86E_w"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-aPJm_MdujwFCaBm2cGa-xw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Gec2G-diwlqwKsTXAniXNQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-gZ0lOSqsreHH_Ndr6Bqp0A"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Gec2G-diwlqwKsTXAniXNQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-lLrXLYzxIlfk6ml4f86E_w"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-gZ0lOSqsreHH_Ndr6Bqp0A"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-aPJm_MdujwFCaBm2cGa-xw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-Gec2G-diwlqwKsTXAniXNQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-aPJm_MdujwFCaBm2cGa-xw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-lLrXLYzxIlfk6ml4f86E_w"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-gZ0lOSqsreHH_Ndr6Bqp0A"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/2c28724bf82d_AppointmentsAPI_bus_soyyyyfcnobrfww6bdqcnmmwru?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/2c28724bf82d_AppointmentsAPI_bus_soyyyyfcnobrfww6bdqcnmmwru?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (79ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (64ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (57ms).
Initialized DbCommand for '"ExecuteScalar"' (132ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("391"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (12ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (12ms).
Initialized DbCommand for '"ExecuteReader"' (34ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("77"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 57ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (14ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 56664)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2c28724bf82d_AppointmentsAPI_bus_8oyoyyfcnobrr33sbdqcnmx6fu?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-UvHzjNsJk8MgXaFXXkcBlg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-hC3i6NpHGNW-R2b1sBN7ug"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-BeM6R3uj2mADPUBnafUZMg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-vocbGJlRJG1hBqApoAsF9Q"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-hC3i6NpHGNW-R2b1sBN7ug"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-UvHzjNsJk8MgXaFXXkcBlg"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-vocbGJlRJG1hBqApoAsF9Q"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-BeM6R3uj2mADPUBnafUZMg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-vocbGJlRJG1hBqApoAsF9Q"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-UvHzjNsJk8MgXaFXXkcBlg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-BeM6R3uj2mADPUBnafUZMg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-hC3i6NpHGNW-R2b1sBN7ug"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/2c28724bf82d_AppointmentsAPI_bus_8oyoyyfcnobrr33sbdqcnmx6fu?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/2c28724bf82d_AppointmentsAPI_bus_8oyoyyfcnobrr33sbdqcnmx6fu?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (100ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (60ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (34ms).
Initialized DbCommand for '"ExecuteScalar"' (65ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("281"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (16ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (7ms).
Initialized DbCommand for '"ExecuteReader"' (22ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 39ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 39252)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/2c28724bf82d_AppointmentsAPI_bus_yybyyyfcnobrfp9rbdqcncyqb3?temporary=true
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-VCE1nAloaZUyD_ZKmUIEjg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-sFRj-D-1CyzLG-BhBIY-Ew"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-p3gMSgtgrqv4M6jsMtgLKA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-fSxNDZnsjRS8Tc1mN3oJGg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (180ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (45ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (36ms).
Initialized DbCommand for '"ExecuteScalar"' (61ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("289"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (16ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (13ms).
Initialized DbCommand for '"ExecuteReader"' (24ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("61"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 26ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (8ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 59422)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c7ea9e69534c_AppointmentsAPI_bus_foyyyyfcnwbrrg4wbdqcnc8jrm?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-jUO2yQvj35tPs5n0k-NwxA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-uie1nxabdYICr2FwEm4lRQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-zudQ1N_8S3o63NkL5BLv-Q"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-v04d4roWzht6-GWLPe0cSA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-v04d4roWzht6-GWLPe0cSA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-jUO2yQvj35tPs5n0k-NwxA"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-zudQ1N_8S3o63NkL5BLv-Q"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-zudQ1N_8S3o63NkL5BLv-Q"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-jUO2yQvj35tPs5n0k-NwxA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-v04d4roWzht6-GWLPe0cSA"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-uie1nxabdYICr2FwEm4lRQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-uie1nxabdYICr2FwEm4lRQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/c7ea9e69534c_AppointmentsAPI_bus_foyyyyfcnwbrrg4wbdqcnc8jrm?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/c7ea9e69534c_AppointmentsAPI_bus_foyyyyfcnwbrrg4wbdqcnc8jrm?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (202ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (147ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (44ms).
Initialized DbCommand for '"ExecuteScalar"' (87ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("207"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (17ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("35"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 25ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 51554)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c7ea9e69534c_AppointmentsAPI_bus_dcyoyyfcnwbrrk6obdqcnccmnz?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-lMI0_zLerfpr6mLiu38Flg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-I43YgLZOIozRrOLy7fcdHg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-0ICia5Dxs4at_jaqg6Dmxw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-MHfaIZeVXs0hNKt3vX2xNg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-I43YgLZOIozRrOLy7fcdHg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-MHfaIZeVXs0hNKt3vX2xNg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-0ICia5Dxs4at_jaqg6Dmxw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-lMI0_zLerfpr6mLiu38Flg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-I43YgLZOIozRrOLy7fcdHg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-0ICia5Dxs4at_jaqg6Dmxw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-lMI0_zLerfpr6mLiu38Flg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-MHfaIZeVXs0hNKt3vX2xNg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/c7ea9e69534c_AppointmentsAPI_bus_dcyoyyfcnwbrrk6obdqcnccmnz?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/c7ea9e69534c_AppointmentsAPI_bus_dcyoyyfcnwbrrk6obdqcnccmnz?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (159ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (42ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (37ms).
Initialized DbCommand for '"ExecuteScalar"' (56ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("353"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (17ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (6ms).
Initialized DbCommand for '"ExecuteReader"' (12ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("55"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 41ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (11ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 51638)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c7ea9e69534c_AppointmentsAPI_bus_ihyoyyfcnwbrrk6jbdqcnct8rs?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-diz5RlzZZR4pnUZrodWDfw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Vmhc0cxagmCa28fiAMIf-g"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-MGnRR8LADBoEi-CdMOGWvA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-Hn5YcBIYwKJJCuScOodDWQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Vmhc0cxagmCa28fiAMIf-g"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-MGnRR8LADBoEi-CdMOGWvA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-Hn5YcBIYwKJJCuScOodDWQ"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-diz5RlzZZR4pnUZrodWDfw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-diz5RlzZZR4pnUZrodWDfw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-MGnRR8LADBoEi-CdMOGWvA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-Hn5YcBIYwKJJCuScOodDWQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-Vmhc0cxagmCa28fiAMIf-g"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/c7ea9e69534c_AppointmentsAPI_bus_ihyoyyfcnwbrrk6jbdqcnct8rs?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/c7ea9e69534c_AppointmentsAPI_bus_ihyoyyfcnwbrrk6jbdqcnct8rs?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (80ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (18ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (16ms).
Initialized DbCommand for '"ExecuteScalar"' (38ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("192"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (18ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (9ms).
Initialized DbCommand for '"ExecuteReader"' (29ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("39"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 50ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (16ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 41886)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c7ea9e69534c_AppointmentsAPI_bus_jcbyyyfcnwbrfnkdbdqcncafbk?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-dyDpG7-pgDrAZsZ_yCOW7w"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-Gw9AYgPj1BdcP1DtA7T--A"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-6rwVYXNdUDU9cA7HIVMM7A"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-zUXA2SIz38LkGa5xmDTEyA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (244ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (37ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (32ms).
Initialized DbCommand for '"ExecuteScalar"' (68ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("258"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("84"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 59ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 50240)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c7ea9e69534c_AppointmentsAPI_bus_gcyyyyfcnwbrfg4xbdqcnwaig9?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag--BDW-HfGmc7Tde4Eay74Cg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-K8fe_1sexdF95CpTRm0cfg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-9sv-ZilnqwFRFNFTetuhrQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-HDfq1U_JWgw__gtnMqv7Ag"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag--BDW-HfGmc7Tde4Eay74Cg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-9sv-ZilnqwFRFNFTetuhrQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-K8fe_1sexdF95CpTRm0cfg"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-HDfq1U_JWgw__gtnMqv7Ag"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-HDfq1U_JWgw__gtnMqv7Ag"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-K8fe_1sexdF95CpTRm0cfg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-9sv-ZilnqwFRFNFTetuhrQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag--BDW-HfGmc7Tde4Eay74Cg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/c7ea9e69534c_AppointmentsAPI_bus_gcyyyyfcnwbrfg4xbdqcnwaig9?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/c7ea9e69534c_AppointmentsAPI_bus_gcyyyyfcnwbrfg4xbdqcnwaig9?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (54ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (24ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (26ms).
Initialized DbCommand for '"ExecuteScalar"' (47ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("161"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (5ms).
Initialized DbCommand for '"ExecuteReader"' (12ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("48"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 24ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 36914)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c7ea9e69534c_AppointmentsAPI_bus_foyoyyfcnwbrrmnybdqcniud8p?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-y6t-pl_itncykA3n8R838Q"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-6ZN-CirG3zlf6Dx3oyDgiA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-PZON1NpyqGyrU5GqfK_5SQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-2Xk3KLH0XER_TXaYcj4x-Q"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-PZON1NpyqGyrU5GqfK_5SQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-y6t-pl_itncykA3n8R838Q"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-6ZN-CirG3zlf6Dx3oyDgiA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-2Xk3KLH0XER_TXaYcj4x-Q"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-PZON1NpyqGyrU5GqfK_5SQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-2Xk3KLH0XER_TXaYcj4x-Q"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-y6t-pl_itncykA3n8R838Q"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-6ZN-CirG3zlf6Dx3oyDgiA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/c7ea9e69534c_AppointmentsAPI_bus_foyoyyfcnwbrrmnybdqcniud8p?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/c7ea9e69534c_AppointmentsAPI_bus_foyoyyfcnwbrrmnybdqcniud8p?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (52ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (11ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (12ms).
Initialized DbCommand for '"ExecuteScalar"' (22ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("114"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (6ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (5ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 14ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 52354)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c7ea9e69534c_AppointmentsAPI_bus_hwyoyyfcnwbrfeogbdqcnsnj84?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-iv0_msajbyXb7Ux3rEORAw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-0tBW7gaxS0wEolPFbO98EQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-3ha_2BDIBaDY4WECaQFdUg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-nhCq-nNtlFHz-M_KqRS34A"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN61B44TE6VF"" accepted.
Connection id ""0HN61B44TE6VF"" started.
Request starting "HTTP/1.1" "GET" "http"://"appointments.api:8080""""/api/Appointments/all""" - "application/json" 111
Wildcard detected, all requests with hosts will be allowed.
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Policy authentication schemes "" did not succeed
Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Receptionist)"
HTTP "GET" "/api/Appointments/all" responded 500 in 23.6879 ms
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN61B44TE6VF"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"appointments.api:8080""""/api/Appointments/all""" - 500 null "text/plain; charset=utf-8" 204.2835ms
Connection id ""0HN61B44TE6VF"", Request id ""0HN61B44TE6VF:00000001"": started reading request body.
Connection id ""0HN61B44TE6VF"", Request id ""0HN61B44TE6VF:00000001"": done reading request body.
Connection id ""0HN61B44TE6VF"" received FIN.
Connection id ""0HN61B44TE6VF"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN61B44TE6VF"" disconnecting.
Connection id ""0HN61B44TE6VF"" stopped.
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-nhCq-nNtlFHz-M_KqRS34A"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-iv0_msajbyXb7Ux3rEORAw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-3ha_2BDIBaDY4WECaQFdUg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-0tBW7gaxS0wEolPFbO98EQ"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-3ha_2BDIBaDY4WECaQFdUg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-0tBW7gaxS0wEolPFbO98EQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-iv0_msajbyXb7Ux3rEORAw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-nhCq-nNtlFHz-M_KqRS34A"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/c7ea9e69534c_AppointmentsAPI_bus_hwyoyyfcnwbrfeogbdqcnsnj84?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/c7ea9e69534c_AppointmentsAPI_bus_hwyoyyfcnwbrfeogbdqcnsnj84?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (190ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (19ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (16ms).
Initialized DbCommand for '"ExecuteScalar"' (34ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("296"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (10ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 13ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (3ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 50990)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/c7ea9e69534c_AppointmentsAPI_bus_aebyyyfcnwbrrw9tbdqcnswtdm?temporary=true
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-3-7RB9QLKygvudCWvuu6pw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-f5X63tZr3g4hs95kx8pw0A"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag--j7y4S9KNQ1qfJv-U_yHTQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Arl1pLdtEmQc8Nz3fEAhig"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN61BB3H4OB6"" accepted.
Connection id ""0HN61BB3H4OB6"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/""" - null null
Wildcard detected, all requests with hosts will be allowed.
No candidates found for the request path '"/"'
Request did not match any endpoints
The request path "" does not match the path filter
HTTP "GET" "/" responded 404 in 5.3462 ms
Connection id ""0HN61BB3H4OB6"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/""" - 404 0 null 156.8526ms
Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:8086""""/", Response status code: 404
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (72ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (20ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (19ms).
Initialized DbCommand for '"ExecuteScalar"' (33ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("125"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (3ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 11ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 55088)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_fayyyyfcnebrr1r1bdqcnshxdp?temporary=true
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-8ig0rZJl5TIkM0U34qv6qA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-wHaEUD_d0fBuaHCngU3w4g"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-vt0nlBVBpDzDZRRfV8CG8A"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag--hjRLdOVvHtqRCDsQF6JCw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag--hjRLdOVvHtqRCDsQF6JCw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-8ig0rZJl5TIkM0U34qv6qA"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-vt0nlBVBpDzDZRRfV8CG8A"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-wHaEUD_d0fBuaHCngU3w4g"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag--hjRLdOVvHtqRCDsQF6JCw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-8ig0rZJl5TIkM0U34qv6qA"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-vt0nlBVBpDzDZRRfV8CG8A"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-wHaEUD_d0fBuaHCngU3w4g"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_fayyyyfcnebrr1r1bdqcnshxdp?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_fayyyyfcnebrr1r1bdqcnshxdp?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (82ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (21ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (28ms).
Initialized DbCommand for '"ExecuteScalar"' (42ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("289"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (15ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (12ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 16ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 60276)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_zayyyyfcnebrfftjbdqcnzy4df?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-W2yMLhBD4o9KIfM0ssGdxA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-wyb5njcOdLynkbWsM14Y0g"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-12JVgUz3diSyhEfWdPYOtA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-n4UDUw0SHi7ySnmdY7NWXg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-W2yMLhBD4o9KIfM0ssGdxA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-n4UDUw0SHi7ySnmdY7NWXg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-n4UDUw0SHi7ySnmdY7NWXg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-W2yMLhBD4o9KIfM0ssGdxA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-12JVgUz3diSyhEfWdPYOtA"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-12JVgUz3diSyhEfWdPYOtA"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-wyb5njcOdLynkbWsM14Y0g"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-wyb5njcOdLynkbWsM14Y0g"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_zayyyyfcnebrfftjbdqcnzy4df?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_zayyyyfcnebrfftjbdqcnzy4df?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (111ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (27ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (11ms).
Initialized DbCommand for '"ExecuteScalar"' (22ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("113"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (7ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 29ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 34026)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_gayoyyfcnebrry4fbdqcnzdxfm?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-DHJclybu0nqYU4IXmaqB9Q"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-UdoHQG9tukvpvla6FGCTgQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-0t3mH6rxshwxJN-pQfq4jQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-g3-aqGA0KQfsz6JwUzrkyg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-DHJclybu0nqYU4IXmaqB9Q"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-g3-aqGA0KQfsz6JwUzrkyg"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-UdoHQG9tukvpvla6FGCTgQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-0t3mH6rxshwxJN-pQfq4jQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-UdoHQG9tukvpvla6FGCTgQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-DHJclybu0nqYU4IXmaqB9Q"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-g3-aqGA0KQfsz6JwUzrkyg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-0t3mH6rxshwxJN-pQfq4jQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_gayoyyfcnebrry4fbdqcnzdxfm?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_gayoyyfcnebrry4fbdqcnzdxfm?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (82ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (24ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (24ms).
Initialized DbCommand for '"ExecuteScalar"' (55ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("131"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (22ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (11ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 43ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (9ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 37934)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_ihyoyyfcnebrfxn4bdqcnzf7gc?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-TRVF7_k_FwDimcPxAgeRYA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-y9_qGLG7UrFFYoj8N-7_9w"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-OcmaxvwSZiqGYpFU_6ahpg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-saEqIx3fNcPfqlJvRkhH_g"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-y9_qGLG7UrFFYoj8N-7_9w"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-saEqIx3fNcPfqlJvRkhH_g"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-y9_qGLG7UrFFYoj8N-7_9w"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-OcmaxvwSZiqGYpFU_6ahpg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-saEqIx3fNcPfqlJvRkhH_g"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-OcmaxvwSZiqGYpFU_6ahpg"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-TRVF7_k_FwDimcPxAgeRYA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-TRVF7_k_FwDimcPxAgeRYA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_ihyoyyfcnebrfxn4bdqcnzf7gc?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_ihyoyyfcnebrfxn4bdqcnzf7gc?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (109ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (29ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (26ms).
Initialized DbCommand for '"ExecuteScalar"' (43ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("330"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (25ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (4ms).
Initialized DbCommand for '"ExecuteReader"' (8ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("51"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 30ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (12ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 55928)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_8ybyyyfcnebrrce8bdqcnzji8b?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-YM9CE8IZeELsRmQioRrzag"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-ZhF6rBDndyYecCCKF0g5qw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-SUaoCDkUjEsDSWpa4HxM1g"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-SyuZK_mnupr7la150A3-Kg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Connection id ""0HN61BLCN3JE5"" accepted.
Connection id ""0HN61BLCN3JE5"" started.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/""" - null null
Wildcard detected, all requests with hosts will be allowed.
No candidates found for the request path '"/"'
Request did not match any endpoints
The request path "" does not match the path filter
HTTP "GET" "/" responded 404 in 14.5596 ms
Connection id ""0HN61BLCN3JE5"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/""" - 404 0 null 241.4609ms
Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "http"://"localhost:8086""""/", Response status code: 404
Connection id ""0HN61BLCN3JE6"" accepted.
Connection id ""0HN61BLCN3JE6"" started.
Connection id ""0HN61BLCN3JE7"" accepted.
Connection id ""0HN61BLCN3JE7"" started.
Connection id ""0HN61BLCN3JE7"" received FIN.
Request starting "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""" - "application/json" 111
Connection id ""0HN61BLCN3JE7"" disconnecting.
Connection id ""0HN61BLCN3JE7"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN61BLCN3JE7"" stopped.
1 candidate(s) found for the request path '"/api/Appointments/all"'
Endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"' with route pattern '"api/Appointments/all"' is valid for the request path '"/api/Appointments/all"'
Request matched endpoint '"AppointmentsController.GetAppointmentList (Appointments.API)"'
Static files was skipped as the request already matched an endpoint.
Policy authentication schemes "" did not succeed
Authorization failed. "These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Receptionist)"
HTTP "GET" "/api/Appointments/all" responded 500 in 26.8286 ms
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
Connection id ""0HN61BLCN3JE6"" completed keep alive response.
Request finished "HTTP/1.1" "GET" "http"://"localhost:8086""""/api/Appointments/all""" - 500 null "text/plain; charset=utf-8" 253.7524ms
Connection id ""0HN61BLCN3JE6"", Request id ""0HN61BLCN3JE6:00000001"": started reading request body.
Connection id ""0HN61BLCN3JE6"", Request id ""0HN61BLCN3JE6:00000001"": done reading request body.
Connection id ""0HN61BLCN3JE5"" received FIN.
Connection id ""0HN61BLCN3JE5"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Connection id ""0HN61BLCN3JE5"" disconnecting.
Connection id ""0HN61BLCN3JE5"" stopped.
Connection id ""0HN61BLCN3JE6"" disconnecting.
Connection id ""0HN61BLCN3JE6"" stopped.
Connection id ""0HN61BLCN3JE6"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
Application is shutting down...
Hosting stopping
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-YM9CE8IZeELsRmQioRrzag"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-ZhF6rBDndyYecCCKF0g5qw"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-SUaoCDkUjEsDSWpa4HxM1g"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-SyuZK_mnupr7la150A3-Kg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-ZhF6rBDndyYecCCKF0g5qw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-SUaoCDkUjEsDSWpa4HxM1g"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-SyuZK_mnupr7la150A3-Kg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-YM9CE8IZeELsRmQioRrzag"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_8ybyyyfcnebrrce8bdqcnzji8b?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_8ybyyyfcnebrrce8bdqcnzji8b?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (73ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (15ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (13ms).
Initialized DbCommand for '"ExecuteScalar"' (24ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("159"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (14ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (12ms).
Initialized DbCommand for '"ExecuteReader"' (20ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("40"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 27ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (4ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 41596)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_yhboyyfcnebrrkwkbdqcnz3arn?temporary=true
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-0R6SJKxKEEwz6xF1gHcXAQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-omIbDsMnC5jTCtSXlkOARw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-efnY-8_bMEsDYcxipE5Dzw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-8U7Qx_yrgg354X0Ft86gFQ"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-0R6SJKxKEEwz6xF1gHcXAQ"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-omIbDsMnC5jTCtSXlkOARw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-8U7Qx_yrgg354X0Ft86gFQ"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-efnY-8_bMEsDYcxipE5Dzw"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-8U7Qx_yrgg354X0Ft86gFQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-0R6SJKxKEEwz6xF1gHcXAQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-omIbDsMnC5jTCtSXlkOARw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-efnY-8_bMEsDYcxipE5Dzw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_yhboyyfcnebrrkwkbdqcnz3arn?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_yhboyyfcnebrrkwkbdqcnz3arn?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (116ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (27ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (26ms).
Initialized DbCommand for '"ExecuteScalar"' (39ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("210"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (11ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (1ms).
Initialized DbCommand for '"ExecuteReader"' (10ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 23ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (14ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Connect: "guest@rabbitmq.message-broker:5672/"
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 35910)
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Endpoint Ready: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_1yboyyfcnebrrps8bdqcnz9jfa?temporary=true
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-gDiPPId7dSRNlJZ-nIGgcA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-1n0NX10QkXC9v2_2HXdHRg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-zGjCioZeFkrIx96hWp2bEw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-n8Ng8suUfPg5Npxo4GJwpg"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (189ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (31ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (28ms).
Initialized DbCommand for '"ExecuteScalar"' (47ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("136"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (2ms).
Initialized DbCommand for '"ExecuteReader"' (6ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 21ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (2ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Using an in-memory repository. Keys will not be persisted to storage.
Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Repository contains no viable default key. Caller should generate a key with immediate activation.
Policy resolution states that a new key should be added to the key ring.
Creating key {2e50d573-dfd9-47dd-84e6-fdb874450fea} with creation date 2024-08-21 09:04:02Z, activation date 2024-08-21 09:04:02Z, and expiration date 2024-11-19 09:04:02Z.
Connect: "guest@rabbitmq.message-broker:5672/"
Descriptor deserializer type for key {2e50d573-dfd9-47dd-84e6-fdb874450fea} is '"Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60"'.
No key escrow sink found. Not writing key {2e50d573-dfd9-47dd-84e6-fdb874450fea} to escrow.
No XML encryptor configured. Key {2e50d573-dfd9-47dd-84e6-fdb874450fea} may be persisted to storage in unencrypted form.
Key cache expiration token triggered by '"CreateNewKey"' operation.
Found key {2e50d573-dfd9-47dd-84e6-fdb874450fea}.
Considering key {2e50d573-dfd9-47dd-84e6-fdb874450fea} with expiration date 2024-11-19 09:04:02Z as default key.
Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
Using managed symmetric algorithm '"System.Security.Cryptography.Aes"'.
Using managed keyed hash algorithm '"System.Security.Cryptography.HMACSHA256"'.
Using key {2e50d573-dfd9-47dd-84e6-fdb874450fea} as the default key.
Key ring with default key {2e50d573-dfd9-47dd-84e6-fdb874450fea} was loaded during application startup.
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 59002)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_8wyyyyfcnebrfapibdqcdobudx?temporary=true
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-YezrkjL6egnTrYX42Mtiqg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-o9Gloj-L7NbTYr7zsylDRg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-V4XtbRyuJtiLAPfNrX8UMw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-8-IUMVBLF_JjrlNZbA39qA"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Hosting stopping
Application is shutting down...
Stopping bus instances: "IBus"
Stopping bus: rabbitmq://rabbitmq.message-broker/
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-created
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-YezrkjL6egnTrYX42Mtiqg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Stop Receive Transport")
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-8-IUMVBLF_JjrlNZbA39qA"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Stop Receive Transport")
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-YezrkjL6egnTrYX42Mtiqg"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-8-IUMVBLF_JjrlNZbA39qA"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-o9Gloj-L7NbTYr7zsylDRg"
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-o9Gloj-L7NbTYr7zsylDRg"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Stop Receive Transport")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-V4XtbRyuJtiLAPfNrX8UMw"
Consumer Cancel Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-V4XtbRyuJtiLAPfNrX8UMw"
Endpoint Stopping: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_8wyyyyfcnebrfapibdqcdobudx?temporary=true
Endpoint Completed: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_8wyyyyfcnebrfapibdqcdobudx?temporary=true
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Bus stopped: rabbitmq://rabbitmq.message-broker/
Hosting stopped
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (292ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (38ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (40ms).
Initialized DbCommand for '"ExecuteScalar"' (60ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("337"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (17ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (9ms).
Initialized DbCommand for '"ExecuteReader"' (18ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("39"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 33ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (5ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Using an in-memory repository. Keys will not be persisted to storage.
Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Repository contains no viable default key. Caller should generate a key with immediate activation.
Policy resolution states that a new key should be added to the key ring.
Creating key {4fcab4cf-f4ad-4251-a0be-11f86aa476de} with creation date 2024-08-21 09:14:22Z, activation date 2024-08-21 09:14:22Z, and expiration date 2024-11-19 09:14:22Z.
Descriptor deserializer type for key {4fcab4cf-f4ad-4251-a0be-11f86aa476de} is '"Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60"'.
Connect: "guest@rabbitmq.message-broker:5672/"
No key escrow sink found. Not writing key {4fcab4cf-f4ad-4251-a0be-11f86aa476de} to escrow.
No XML encryptor configured. Key {4fcab4cf-f4ad-4251-a0be-11f86aa476de} may be persisted to storage in unencrypted form.
Key cache expiration token triggered by '"CreateNewKey"' operation.
Found key {4fcab4cf-f4ad-4251-a0be-11f86aa476de}.
Considering key {4fcab4cf-f4ad-4251-a0be-11f86aa476de} with expiration date 2024-11-19 09:14:22Z as default key.
Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
Using managed symmetric algorithm '"System.Security.Cryptography.Aes"'.
Using managed keyed hash algorithm '"System.Security.Cryptography.HMACSHA256"'.
Using key {4fcab4cf-f4ad-4251-a0be-11f86aa476de} as the default key.
Key ring with default key {4fcab4cf-f4ad-4251-a0be-11f86aa476de} was loaded during application startup.
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 39756)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_hoyyyyfcnebrrgohbdqcdoprd1?temporary=true
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Bind queue: "source: service-created, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-pvMRYbghRobGvSVbBeFkFg"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-YzvjV-J6jngCF26WrEMYcQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-O4uk4zaBjKAdE_q3rScYWQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Y74CU452I6Ivj96bJCFOYw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
Disconnect: "guest@rabbitmq.message-broker:5672/"
Disconnected: "guest@rabbitmq.message-broker:5672/"
Consumer Model Shutdown: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-YzvjV-J6jngCF26WrEMYcQ", Concurrent Peak: 0, 320-"CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'"
Consumer Model Shutdown: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-O4uk4zaBjKAdE_q3rScYWQ", Concurrent Peak: 0, 320-"CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'"
Consumer Model Shutdown: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-Y74CU452I6Ivj96bJCFOYw", Concurrent Peak: 0, 320-"CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'"
Consumer Model Shutdown: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-pvMRYbghRobGvSVbBeFkFg", Concurrent Peak: 0, 320-"CONNECTION_FORCED - broker forced connection closure with reason 'shutdown'"
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-status-changed ("Consume Loop Exited")
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-created ("Consume Loop Exited")
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-updated ("Consume Loop Exited")
Consumer Stopping: rabbitmq://rabbitmq.message-broker/service-deleted ("Consume Loop Exited")
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-created
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Completed: rabbitmq://rabbitmq.message-broker/service-status-changed
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-created: 0 received, 0 concurrent, "amq.ctag-Y74CU452I6Ivj96bJCFOYw"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-deleted: 0 received, 0 concurrent, "amq.ctag-O4uk4zaBjKAdE_q3rScYWQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-updated: 0 received, 0 concurrent, "amq.ctag-YzvjV-J6jngCF26WrEMYcQ"
Consumer Completed: rabbitmq://rabbitmq.message-broker/service-status-changed: 0 received, 0 concurrent, "amq.ctag-pvMRYbghRobGvSVbBeFkFg"
Connect: "guest@rabbitmq.message-broker:5672/"
Connection Failed: rabbitmq://rabbitmq.message-broker/
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, ArrayPool`1 pool, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IList`1 hostnames, String clientProvidedName)
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 85
Endpoint Faulted: rabbitmq://rabbitmq.message-broker/service-updated
MassTransit.RabbitMqConnectionException: Broker unreachable: guest@rabbitmq.message-broker:5672/
 ---> RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, ArrayPool`1 pool, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IList`1 hostnames, String clientProvidedName)
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 85
   --- End of inner exception stack trace ---
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 111
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.RabbitMqTransport.ModelContextFactory.CreateSharedModel(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ModelContextFactory.cs:line 49
   at MassTransit.RabbitMqTransport.ModelContextFactory.CreateSharedModel(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ModelContextFactory.cs:line 49
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
Endpoint Faulted: rabbitmq://rabbitmq.message-broker/service-created
MassTransit.RabbitMqConnectionException: Broker unreachable: guest@rabbitmq.message-broker:5672/
 ---> RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, ArrayPool`1 pool, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IList`1 hostnames, String clientProvidedName)
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 85
   --- End of inner exception stack trace ---
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 111
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.RabbitMqTransport.ModelContextFactory.CreateSharedModel(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ModelContextFactory.cs:line 49
   at MassTransit.RabbitMqTransport.ModelContextFactory.CreateSharedModel(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ModelContextFactory.cs:line 49
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
Endpoint Faulted: rabbitmq://rabbitmq.message-broker/service-status-changed
MassTransit.RabbitMqConnectionException: Broker unreachable: guest@rabbitmq.message-broker:5672/
 ---> RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, ArrayPool`1 pool, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IList`1 hostnames, String clientProvidedName)
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 85
   --- End of inner exception stack trace ---
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 111
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.RabbitMqTransport.ModelContextFactory.CreateSharedModel(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ModelContextFactory.cs:line 49
   at MassTransit.RabbitMqTransport.ModelContextFactory.CreateSharedModel(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ModelContextFactory.cs:line 49
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
Endpoint Faulted: rabbitmq://rabbitmq.message-broker/service-deleted
MassTransit.RabbitMqConnectionException: Broker unreachable: guest@rabbitmq.message-broker:5672/
 ---> RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (111): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, ArrayPool`1 pool, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IList`1 hostnames, String clientProvidedName)
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 85
   --- End of inner exception stack trace ---
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 111
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext()
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.Internals.TaskExtensions.<>c__DisplayClass2_0`1.<<OrCanceled>g__WaitAsync|0>d.MoveNext() in /_/src/MassTransit.Abstractions/Internals/Extensions/TaskExtensions.cs:line 72
--- End of stack trace from previous location ---
   at MassTransit.RabbitMqTransport.ModelContextFactory.CreateSharedModel(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ModelContextFactory.cs:line 49
   at MassTransit.RabbitMqTransport.ModelContextFactory.CreateSharedModel(Task`1 context, CancellationToken cancellationToken) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ModelContextFactory.cs:line 49
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 51
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 61
   at MassTransit.Agents.PipeContextSupervisor`1.Send(IPipe`1 pipe, CancellationToken cancellationToken) in /_/src/MassTransit/Agents/PipeContextSupervisor.cs:line 67
   at MassTransit.Transports.ReceiveTransport`1.ReceiveTransportAgent.RunTransport() in /_/src/MassTransit/Transports/ReceiveTransport.cs:line 195
Connect: "guest@rabbitmq.message-broker:5672/"
Connection Failed: rabbitmq://rabbitmq.message-broker/
RabbitMQ.Client.Exceptions.BrokerUnreachableException: None of the specified endpoints were reachable
 ---> System.AggregateException: One or more errors occurred. (Connection failed)
 ---> RabbitMQ.Client.Exceptions.ConnectFailureException: Connection failed
 ---> System.Net.Sockets.SocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses, AddressFamily addressFamily, Nullable`1 startingTimestamp)
   at System.Net.Dns.<>c.<GetHostEntryOrAddressesCoreAsync>b__33_0(Object s, Int64 startingTimestamp)
   at System.Net.Dns.<>c__DisplayClass39_0`1.<RunAsync>b__0(Task <p0>, Object <p1>)
   at System.Threading.Tasks.ContinuationResultTaskFromTask`1.InnerInvoke()
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at RabbitMQ.Client.TcpClientAdapter.ConnectAsync(String host, Int32 port)
   at RabbitMQ.Client.Impl.TaskExtensions.TimeoutAfter(Task task, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectOrFail(ITcpClient socket, AmqpTcpEndpoint endpoint, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingAddressFamily(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout, AddressFamily family)
   at RabbitMQ.Client.Impl.SocketFrameHandler.ConnectUsingIPv4(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan timeout)
   at RabbitMQ.Client.Impl.SocketFrameHandler..ctor(AmqpTcpEndpoint endpoint, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.Framing.Impl.IProtocolExtensions.CreateFrameHandler(IProtocol protocol, AmqpTcpEndpoint endpoint, ArrayPool`1 pool, Func`2 socketFactory, TimeSpan connectionTimeout, TimeSpan readTimeout, TimeSpan writeTimeout)
   at RabbitMQ.Client.ConnectionFactory.CreateFrameHandler(AmqpTcpEndpoint endpoint)
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.EndpointResolverExtensions.SelectOne[T](IEndpointResolver resolver, Func`2 selector)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   --- End of inner exception stack trace ---
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)
   at RabbitMQ.Client.ConnectionFactory.CreateConnection(IList`1 hostnames, String clientProvidedName)
   at MassTransit.RabbitMqTransport.ConnectionContextFactory.CreateConnection(ISupervisor supervisor) in /_/src/Transports/MassTransit.RabbitMqTransport/RabbitMqTransport/ConnectionContextFactory.cs:line 85
Connect: "guest@rabbitmq.message-broker:5672/"
An 'IServiceProvider' was created for internal use by Entity Framework.
Entity Framework Core "8.0.8" initialized '"AppointmentsDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL":"8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553"' with options: "None"
Creating DbConnection.
Created DbConnection. (130ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (21ms).
Creating DbCommand for '"ExecuteScalar"'.
Created DbCommand for '"ExecuteScalar"' (19ms).
Initialized DbCommand for '"ExecuteScalar"' (33ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Executed DbCommand ("225"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)"
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (7ms).
Opening connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Opened connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Creating DbCommand for '"ExecuteReader"'.
Created DbCommand for '"ExecuteReader"' (3ms).
Initialized DbCommand for '"ExecuteReader"' (13ms).
Executing DbCommand [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT \"MigrationId\", \"ProductVersion\"
FROM \"__EFMigrationsHistory\"
ORDER BY \"MigrationId\";"
Closing data reader to '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
A data reader for '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' is being disposed after spending 26ms reading results.
Closing connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"'.
Closed connection to database '"AppointmentsDb"' on server '"tcp://postgresdb.appointments:5432"' (1ms).
Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
Hosting starting
Configured endpoint "service-created", Consumer: "ServiceCreatedConsumer"
Configured endpoint "service-status-changed", Consumer: "ServiceStatusChangedConsumer"
Configured endpoint "service-updated", Consumer: "ServiceUpdatedConsumer"
Configured endpoint "service-deleted", Consumer: "ServiceDeletedConsumer"
Using an in-memory repository. Keys will not be persisted to storage.
Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
Starting bus instances: "IBus"
Starting bus: rabbitmq://rabbitmq.message-broker/
Repository contains no viable default key. Caller should generate a key with immediate activation.
Policy resolution states that a new key should be added to the key ring.
Creating key {eca3bb7f-c81d-4e6a-b0af-c60dd9a5891a} with creation date 2024-08-21 09:47:33Z, activation date 2024-08-21 09:47:33Z, and expiration date 2024-11-19 09:47:33Z.
Connect: "guest@rabbitmq.message-broker:5672/"
Descriptor deserializer type for key {eca3bb7f-c81d-4e6a-b0af-c60dd9a5891a} is '"Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60"'.
No key escrow sink found. Not writing key {eca3bb7f-c81d-4e6a-b0af-c60dd9a5891a} to escrow.
No XML encryptor configured. Key {eca3bb7f-c81d-4e6a-b0af-c60dd9a5891a} may be persisted to storage in unencrypted form.
Key cache expiration token triggered by '"CreateNewKey"' operation.
Found key {eca3bb7f-c81d-4e6a-b0af-c60dd9a5891a}.
Considering key {eca3bb7f-c81d-4e6a-b0af-c60dd9a5891a} with expiration date 2024-11-19 09:47:33Z as default key.
Forwarded activator type request from "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60" to "Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60"
Using managed symmetric algorithm '"System.Security.Cryptography.Aes"'.
Using managed keyed hash algorithm '"System.Security.Cryptography.HMACSHA256"'.
Using key {eca3bb7f-c81d-4e6a-b0af-c60dd9a5891a} as the default key.
Key ring with default key {eca3bb7f-c81d-4e6a-b0af-c60dd9a5891a} was loaded during application startup.
Connected: "guest@rabbitmq.message-broker:5672/" (address: "amqp://rabbitmq.message-broker:5672", local: 47684)
Endpoint Ready: rabbitmq://rabbitmq.message-broker/57d972e4678b_AppointmentsAPI_bus_fcyyyyfcnebrfru1bdqcdt18r7?temporary=true
Declare queue: "name: service-deleted, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-created, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-status-changed, durable", consumer-count: 0 message-count: 0
Declare queue: "name: service-updated, durable", consumer-count: 0 message-count: 0
Declare exchange: "name: service-created, type: fanout, durable"
Declare exchange: "name: service-deleted, type: fanout, durable"
Declare exchange: "name: service-status-changed, type: fanout, durable"
Declare exchange: "name: service-updated, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, type: fanout, durable"
Declare exchange: "name: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, type: fanout, durable"
Bind queue: "source: service-deleted, destination: service-deleted"
Bind queue: "source: service-created, destination: service-created"
Bind queue: "source: service-updated, destination: service-updated"
Bind queue: "source: service-status-changed, destination: service-status-changed"
Using development certificate: "CN=localhost" (Thumbprint: "B190A8E0E6D9A00D8595829BBCB779D0E697AEDE")
Bind exchange: "source: InnoClinic.Contracts.ServiceCreatedEvent:ServiceCreatedEvent, destination: service-created"
Bind exchange: "source: InnoClinic.Contracts.ServiceDeletedEvent:ServiceDeletedEvent, destination: service-deleted"
Bind exchange: "source: InnoClinic.Contracts.ServiceStatusChangedEvent:ServiceStatusChangedEvent, destination: service-status-changed"
Bind exchange: "source: InnoClinic.Contracts.ServiceUpdatedEvent:ServiceUpdatedEvent, destination: service-updated"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-deleted - "amq.ctag-WHPWmALB31mtj3QYMQXdfA"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-updated - "amq.ctag-yMi_L7herQGMEYHWcjaTEQ"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-status-changed - "amq.ctag-mtIULSyGGW5yeaL59M2zyw"
Consumer Ok: rabbitmq://rabbitmq.message-broker/service-created - "amq.ctag-OebzAWzEpLwIjpkdOjuWBw"
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-deleted
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-updated
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-status-changed
Endpoint Ready: rabbitmq://rabbitmq.message-broker/service-created
Bus started: rabbitmq://rabbitmq.message-broker/
Now listening on: "http://[::]:8080"
Now listening on: "https://[::]:8081"
Loaded hosting startup assembly "Appointments.API"
Application started. Press Ctrl+C to shut down.
Hosting environment: "Development"
Content root path: "/app"
Hosting started
